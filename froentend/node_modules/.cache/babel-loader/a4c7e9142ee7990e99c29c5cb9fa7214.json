{"ast":null,"code":"import { __rest } from 'tslib';\nimport React, { Component, useContext, useEffect } from 'react';\nimport { Box, Text, Heading, FormField, CheckBox, TextInput, DropButton, Button, Keyboard, Calendar, Meter, Select, ResponsiveContext, TextArea } from 'grommet';\nimport styled, { ThemeContext, css, keyframes } from 'styled-components';\nimport { controlBorderStyle, edgeStyle } from 'grommet/utils/styles';\nimport { deepMerge } from 'grommet/utils/object';\nimport { StopFill } from 'grommet-icons';\nimport { findDOMNode } from 'react-dom';\nimport { conformToMask, createTextMaskInputElement } from 'text-mask-core';\nimport { createAutoCorrectedDatePipe, emailMask, createNumberMask } from 'text-mask-addons';\nimport { FormDown } from 'grommet-icons/icons/FormDown';\nimport { parseMetricToNum } from 'grommet/utils/mixins';\nimport { normalizeColor } from 'grommet/utils/colors';\nimport { Calendar as Calendar$1 } from 'grommet-icons/icons/Calendar';\nimport { Close } from 'grommet-icons/icons/Close';\nimport { StatusGood } from 'grommet-icons/icons/StatusGood';\nimport { StatusWarning } from 'grommet-icons/icons/StatusWarning';\nimport { StatusCritical } from 'grommet-icons/icons/StatusCritical';\nimport { StatusUnknown } from 'grommet-icons/icons/StatusUnknown';\nimport { StatusInfo } from 'grommet-icons/icons/StatusInfo';\nimport { StatusDisabled } from 'grommet-icons/icons/StatusDisabled';\nimport { Add } from 'grommet-icons/icons/Add';\nimport { Subtract } from 'grommet-icons/icons/Subtract';\nimport { FormView } from 'grommet-icons/icons/FormView';\nimport { Hide } from 'grommet-icons/icons/Hide';\nimport { Previous } from 'grommet-icons/icons/Previous';\nimport { Next } from 'grommet-icons/icons/Next';\nimport { Blank } from 'grommet-icons/icons/Blank';\nimport { LinkDown } from 'grommet-icons/icons/LinkDown';\nimport { LinkUp } from 'grommet-icons/icons/LinkUp';\nimport { Menu } from 'grommet-icons/icons/Menu';\nimport { FormClose } from 'grommet-icons/icons/FormClose';\nimport { backgroundStyle } from 'grommet/utils/background';\nimport { FormNext } from 'grommet-icons/icons/FormNext';\nexport { a as colorForName, c as colorFromIndex } from './colors.esm.js';\nconst ROUND_MAP = {\n  full: '100%'\n};\nconst StyledImageStamp = styled.img`\n  ${props => !props.plain && controlBorderStyle};\n  ${props => (!props.contain || props.contain === 'width') && props.size && edgeStyle('width', props.size, false, undefined, props.theme)}\n  ${props => (!props.contain || props.contain === 'height') && props.size && edgeStyle('height', props.size, false, undefined, props.theme)}\n  overflow: hidden;\n  object-fit: cover;\n  border-radius: ${props => ROUND_MAP[props.round] || props.theme.global.edgeSize[props.round]};\n  -webkit-border-radius: ${props => ROUND_MAP[props.round] || props.theme.global.edgeSize[props.round]};\n  -moz-border-radius: ${props => ROUND_MAP[props.round] || props.theme.global.edgeSize[props.round]};\n`;\nconst SIZE_MAP = {\n  small: 'medium',\n  medium: 'large',\n  large: 'xlarge',\n  xlarge: 'xxlarge'\n};\n/**\r\n *  A small image stamp used for avatars or image thumbnails\r\n */\n\nconst ImageStamp = _a => {\n  var {\n    size,\n    src\n  } = _a,\n      rest = __rest(_a, [\"size\", \"src\"]);\n\n  return src ? React.createElement(StyledImageStamp, Object.assign({\n    src: src,\n    size: SIZE_MAP[size]\n  }, rest)) : null;\n};\n\nImageStamp.defaultProps = {\n  contain: null,\n  size: 'medium',\n  plain: false\n};\n/**\r\n * An image with some text, can be used as a user Avatar image<br/>\r\n * `import { Avatar } from 'grommet-controls;'`<br/>\r\n * `<Avatar image='...' />`<br/>\r\n */\n\nconst Avatar = _a => {\n  var {\n    image,\n    title,\n    subTitle\n  } = _a,\n      rest = __rest(_a, [\"image\", \"title\", \"subTitle\"]);\n\n  return React.createElement(Box, {\n    direction: \"row\",\n    align: \"center\",\n    gap: \"small\"\n  }, React.createElement(ImageStamp, Object.assign({\n    src: image,\n    round: \"full\"\n  }, rest)), React.createElement(Box, {\n    justify: \"between\"\n  }, React.createElement(Text, {\n    weight: \"bold\",\n    truncate: true\n  }, title), React.createElement(Text, {\n    size: \"small\",\n    truncate: true\n  }, subTitle)));\n};\n\nconst white = '#ffffff';\nconst silver = '#c0c0c0';\nconst gray = '#808080';\nconst black = '#000000';\nconst red = '#ff0000';\nconst maroon = '#800000';\nconst yellow = '#ffff00';\nconst olive = '#808000';\nconst lime = '#00ff00';\nconst green = '#008000';\nconst aqua = '#00ffff';\nconst teal = '#008080';\nconst blue = '#0000ff';\nconst navy = '#000080';\nconst fuchsia = '#ff00ff';\nconst purple = '#800080';\nconst basicColors = {\n  white,\n  silver,\n  gray,\n  black,\n  red,\n  maroon,\n  yellow,\n  olive,\n  lime,\n  green,\n  aqua,\n  teal,\n  blue,\n  navy,\n  fuchsia,\n  purple\n};\nconst StyledCard = styled(Box)`\n  @media (max-width: ${props => props.theme.global.breakpoints.small}px) {\n    flex-basis: 100%;\n  }\n`;\n/**\r\n * A Card-type container, all props of Box apply<br/>\r\n * `import { Card } from 'grommet-controls';`<br/>\r\n * `<Card>`<br/>\r\n * &nbsp;&nbsp;`<Card.CardTitle>`<br/>\r\n * &nbsp;&nbsp;&nbsp;&nbsp;`Title`<br/>\r\n * &nbsp;&nbsp;`</Card.CardTitle>`<br/>\r\n * &nbsp;&nbsp;`<Card.CardContent>`<br/>\r\n * &nbsp;&nbsp;&nbsp;&nbsp;`card content goes here`<br/>\r\n * &nbsp;&nbsp;`</Card.CardContent>`<br/>\r\n * `</Card>`<br/>\r\n */\n\nconst Card = _a => {\n  var {\n    children\n  } = _a,\n      rest = __rest(_a, [\"children\"]);\n\n  return React.createElement(ThemeContext.Consumer, null, theme => React.createElement(StyledCard, Object.assign({\n    theme: theme,\n    overflow: \"hidden\"\n  }, rest), children));\n};\n\nCard.displayName = 'Card';\nCard.defaultProps = {\n  align: 'center',\n  border: 'all',\n  elevation: 'small',\n  round: 'xsmall',\n  flex: false,\n  gap: 'small',\n  fill: 'horizontal',\n  background: 'white'\n};\n/**\r\n *  Card Actions to be placed at the bottom of the Card\r\n */\n\nconst CardActions = _a => {\n  var {\n    children,\n    pad = 'small'\n  } = _a,\n      rest = __rest(_a, [\"children\", \"pad\"]);\n\n  return React.createElement(Box, Object.assign({\n    align: \"center\",\n    pad: pad,\n    gap: \"small\",\n    border: \"top\",\n    flex: false,\n    fill: \"horizontal\",\n    direction: \"row\"\n  }, rest), children);\n};\n\nCardActions.displayName = 'CardActions';\nCard.CardActions = CardActions;\n/**\r\n *  Card Title display the card title\r\n */\n\nconst CardTitle = _a => {\n  var {\n    children,\n    color,\n    textAlign,\n    truncate,\n    level = 4,\n    strong = false,\n    responsive\n  } = _a,\n      rest = __rest(_a, [\"children\", \"color\", \"textAlign\", \"truncate\", \"level\", \"strong\", \"responsive\"]);\n\n  return React.createElement(Box, Object.assign({\n    direction: \"row\",\n    fill: \"horizontal\",\n    border: \"bottom\",\n    gap: \"small\",\n    flex: false\n  }, rest), typeof children !== 'string' ? children : React.createElement(Heading, {\n    level: level,\n    margin: \"none\",\n    color: color,\n    textAlign: textAlign,\n    truncate: truncate,\n    responsive: responsive\n  }, strong ? React.createElement(\"strong\", null, children) : children));\n};\n\nCardTitle.displayName = 'CardTitle';\nCard.CardTitle = CardTitle;\n/**\r\n *  Card Content\r\n */\n\nconst CardContent = _a => {\n  var {\n    children,\n    pad = 'small'\n  } = _a,\n      rest = __rest(_a, [\"children\", \"pad\"]);\n\n  return React.createElement(Box, Object.assign({\n    pad: pad,\n    fill: true,\n    flex: true\n  }, rest), children);\n};\n\nCardContent.displayName = 'CardContent';\nCard.CardContent = CardContent;\nconst StyledForm = styled.form`\n  width: 100%;\n`;\n\nconst filterByFocusable = elements => Array.prototype.filter.call(elements || [], element => {\n  const currentTag = element.tagName.toLowerCase();\n  const validTags = /(svg|a|area|input|select|textarea|button|iframe|div)$/;\n  const isValidTag = currentTag.match(validTags) && element.focus;\n\n  if (currentTag === 'a') {\n    return isValidTag && element.childNodes.length > 0 && element.getAttribute('href');\n  }\n\n  if (currentTag === 'svg' || currentTag === 'div') {\n    return isValidTag && element.hasAttribute('tabindex') && element.getAttribute('tabindex') !== '-1';\n  }\n\n  return isValidTag;\n});\n\nconst FormContext = React.createContext({\n  attachToForm: null,\n  detachFromForm: null,\n  getFieldValue: null,\n  getFieldErrors: null,\n  onFieldChange: null\n});\nconst styledComponents = {\n  form: StyledForm\n};\n/** A Form with built-in validation<br/>\r\n *`import { Form } from 'grommet-controls';`<br/>\r\n *`<Form onSubmit={...} />`<br/>\r\n */\n\nclass Form extends Component {\n  constructor(props) {\n    super(props);\n    this.fields = {};\n    this.containerRef = React.createRef();\n\n    this.validate = data => {\n      const errors = {};\n\n      const addError = (key, field, message) => {\n        if (!errors[key]) {\n          errors[key] = [];\n        }\n\n        let msg;\n\n        if (typeof message === 'function') {\n          msg = message(field.description || field.label || key);\n        } else {\n          msg = message;\n        }\n\n        errors[key].push(msg);\n      };\n\n      Object.keys(this.fields).forEach(key => {\n        const field = this.fields[key];\n        let rules = field.validation;\n\n        if (rules) {\n          if (!Array.isArray(rules)) {\n            rules = [rules];\n          }\n\n          for (let i = 0; i < rules.length; i += 1) {\n            const rule = rules[i];\n\n            if (typeof rule === 'function') {\n              const value = data[key];\n\n              if (Array.isArray(value)) {\n                const arrayErrors = [];\n                value.forEach((_v, index) => {\n                  const message = rule(data, data[key], index);\n\n                  if (message) {\n                    arrayErrors[index] = message;\n                  }\n                });\n\n                if (arrayErrors.length) {\n                  addError(key, field, arrayErrors);\n                }\n              } else {\n                const message = rule(data, data[key]);\n\n                if (message) {\n                  addError(key, field, message);\n                }\n              }\n            } else if (rule !== null && typeof rule === 'object') {\n              if (rule.rule && typeof rule.rule === 'function') {\n                const isValid = rule.rule(data, data[key]);\n\n                if (!isValid) {\n                  if (typeof rule.message === 'function') {\n                    addError(key, field, rule.message(typeof field.label === 'string' ? field.label : key));\n                  } else {\n                    addError(key, field, rule.message);\n                  }\n                }\n              }\n            }\n          }\n        }\n      });\n\n      if (Object.keys(errors).length === 0) {\n        return undefined;\n      }\n\n      return errors;\n    };\n\n    this.onSubmit = event => {\n      const {\n        onSubmit,\n        onSubmitError\n      } = this.props;\n      const {\n        data\n      } = this.state;\n      event.preventDefault();\n      const errors = this.validate(data);\n\n      if (!errors) {\n        if (onSubmit) {\n          onSubmit(data);\n        }\n      } else {\n        if (onSubmitError) {\n          onSubmitError(errors);\n        }\n\n        this.setState({\n          errors,\n          submitted: true\n        });\n      }\n    };\n\n    this.updateObject = (name, value, e) => {\n      this.setState(prevState => {\n        const data = Object.assign(Object.assign({}, prevState.data), {\n          [name]: value\n        });\n        const {\n          submitted\n        } = this.state;\n        const errors = this.validate(data);\n\n        if (this.props.onChange) {\n          this.props.onChange(name, value, e);\n        }\n\n        if (errors) {\n          if (this.props.onInvalidForm) {\n            this.props.onInvalidForm(data);\n          }\n        } else if (this.props.onValidForm) {\n          this.props.onValidForm(data);\n        }\n\n        return {\n          data,\n          errors: submitted ? errors : prevState.errors\n        };\n      });\n    };\n\n    this.attachToForm = (name, props) => {\n      this.fields = Object.assign(Object.assign({}, this.fields), {\n        [name]: props\n      });\n    };\n\n    this.detachFromForm = name => {\n      delete this.fields[name];\n    };\n\n    this.getFieldValue = name => this.state.data[name];\n\n    this.getFieldErrors = name => this.state.errors ? this.state.errors[name] : null;\n\n    this.state = {\n      errors: undefined,\n      submitted: false,\n      data: Object.assign(Object.assign({}, props.initialValues), props.object)\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (JSON.stringify(nextProps.object) !== JSON.stringify(prevState.data)) {\n      return {\n        data: deepMerge(prevState.data, nextProps.object)\n      };\n    }\n\n    return null;\n  }\n\n  componentDidMount() {\n    const {\n      focusFirstChild\n    } = this.props;\n\n    if (focusFirstChild) {\n      let items = this.containerRef.current.getElementsByTagName('*');\n      items = filterByFocusable(items);\n\n      if (items.length > 0) {\n        setTimeout(() => {\n          // @ts-ignore\n          items[0].focus();\n        }, 0);\n      }\n    }\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      onSubmitError,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      onValidForm,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      onInvalidForm,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      onSubmit,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      onChange,\n      className,\n      children,\n      a11yTitle,\n      tag\n    } = _a,\n          rest = __rest(_a, [\"onSubmitError\", \"onValidForm\", \"onInvalidForm\", \"onSubmit\", \"onChange\", \"className\", \"children\", \"a11yTitle\", \"tag\"]);\n\n    let StyledComponent = styledComponents[tag];\n\n    if (!StyledComponent) {\n      StyledComponent = StyledForm.withComponent(tag);\n      styledComponents[tag] = StyledComponent;\n    }\n\n    return React.createElement(StyledComponent, {\n      className: className,\n      onSubmit: this.onSubmit,\n      \"aria-label\": a11yTitle\n    }, React.createElement(Box, {\n      direction: \"row\"\n    }, React.createElement(Box, Object.assign({}, rest), React.createElement(\"div\", {\n      ref: this.containerRef\n    }, React.createElement(FormContext.Provider, {\n      value: {\n        attachToForm: this.attachToForm,\n        detachFromForm: this.detachFromForm,\n        getFieldValue: this.getFieldValue,\n        getFieldErrors: this.getFieldErrors,\n        onFieldChange: this.updateObject\n      }\n    }, children)))));\n  }\n\n}\n\nForm.defaultProps = {\n  focusFirstChild: true,\n  onChange: undefined,\n  onSubmit: undefined,\n  onSubmitError: undefined,\n  onInvalidForm: undefined,\n  onValidForm: undefined,\n  initialValues: {},\n  object: {},\n  tag: 'form',\n  basis: 'medium'\n};\n\nconst WithFormField = _a => {\n  var {\n    validation,\n    label,\n    description,\n    name,\n    controlLabel,\n    inField,\n    children\n  } = _a,\n      other = __rest(_a, [\"validation\", \"label\", \"description\", \"name\", \"controlLabel\", \"inField\", \"children\"]);\n\n  const form = useContext(FormContext);\n  const {\n    onFieldChange,\n    getFieldValue,\n    getFieldErrors\n  } = form;\n  useEffect(() => {\n    form.attachToForm(name, {\n      label,\n      description,\n      validation\n    });\n    return () => {\n      form.detachFromForm(name);\n    };\n  });\n\n  const onChange = e => {\n    const {\n      value,\n      target\n    } = e;\n    const targetValue = target ? target.value : undefined;\n    onFieldChange(name, value || targetValue, e);\n  };\n\n  const getValue = () => {\n    const value = getFieldValue(name);\n    return value === undefined ? '' : value;\n  };\n\n  const errors = getFieldErrors(name);\n  let error = Array.isArray(errors) ? errors[0] : errors;\n\n  if (typeof error === 'function') {\n    error = error(typeof label === 'string' ? label : name);\n  }\n\n  const field = children(Object.assign({\n    id: name,\n    name,\n    label: inField ? controlLabel : label,\n    value: getValue(),\n    onChange\n  }, other));\n\n  if (!inField) {\n    return field;\n  }\n\n  return React.createElement(FormField, {\n    htmlFor: name,\n    label: label || controlLabel === true && name,\n    error: error\n  }, field);\n};\n\nWithFormField.defaultProps = {\n  validation: undefined,\n  inField: true,\n  controlLabel: undefined,\n  label: undefined,\n  description: undefined,\n  Control: React.Component\n};\n\nconst CheckBoxField = props => React.createElement(WithFormField, Object.assign({}, props), _a => {\n  var {\n    value,\n    onChange\n  } = _a,\n      rest = __rest(_a, [\"value\", \"onChange\"]);\n\n  return React.createElement(Box, {\n    pad: {\n      vertical: 'small'\n    }\n  }, React.createElement(CheckBox, Object.assign({\n    checked: value === true,\n    onChange: onChange ? () => onChange({\n      target: {\n        value: !value\n      }\n    }) : undefined\n  }, rest)));\n});\n/* eslint-disable no-mixed-operators */\n\n\nconst StyledDropInput = styled(TextInput)`\n  padding-right: ${props => {\n  const widgetsBox = props.numWidgets * (24 + 2 * parseMetricToNum(props.theme.global.edgeSize.small)); // eslint-disable-next-line no-mixed-operators\n\n  return widgetsBox + parseMetricToNum(props.theme.global.spacing) / 2 - parseMetricToNum(props.theme.global.control.border.width);\n}}px;\n`;\nconst StyledDropInputContainer = styled.div`\n  position: relative;\n  width: 100%;\n  cursor: pointer;\n`;\nconst StyledWidgetsContainer = styled(Box)`\n  position: absolute;\n  right: 0;\n  top: 0;\n`;\n/**\r\n *  An Input control with an optional drop button with the specified 'dropContent' or widgets<br/>\r\n *`import { DropInput } from 'grommet-controls';`<br/>\r\n *`<DropInput`<br/>\r\n *&nbsp;&nbsp;`dropContent={(`<br/>\r\n *&nbsp;&nbsp;&nbsp;&nbsp;`...`<br/>\r\n *&nbsp;&nbsp;`]}`<br/>\r\n *`/>`<br/>\r\n */\n\nclass DropInput extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      open: false\n    };\n    this.inputRef = React.createRef();\n\n    this.onUpdateValue = value => {\n      const {\n        onChange\n      } = this.props; // eslint-disable-next-line react/no-find-dom-node\n\n      const input = findDOMNode(this.inputRef.current);\n      input.value = value;\n      this.setState({\n        open: false,\n        value\n      });\n\n      if (onChange) {\n        onChange({\n          target: input\n        });\n      }\n    };\n\n    this.onOpen = e => {\n      const {\n        onOpen,\n        disabled\n      } = this.props;\n      this.setState({\n        open: true\n      });\n\n      if (onOpen && !disabled) {\n        onOpen(e);\n      }\n    };\n\n    this.onClose = e => {\n      const {\n        onClose,\n        disabled\n      } = this.props;\n      this.setState({\n        open: false\n      });\n\n      if (onClose && !disabled) {\n        onClose(e);\n      }\n    };\n\n    this.onKeyDown = e => {\n      const {\n        onKeyDown\n      } = this.props;\n      this.setState({\n        open: true\n      });\n\n      if (onKeyDown) {\n        onKeyDown(e);\n      }\n    };\n\n    this.onKeyUp = e => {\n      const {\n        onKeyUp\n      } = this.props;\n      this.setState({\n        open: false\n      });\n\n      if (onKeyUp) {\n        onKeyUp(e);\n      }\n    };\n  }\n\n  static getDerivedStateFromProps(newProps, oldState) {\n    if (newProps.value !== oldState.value || newProps.defaultValue !== oldState.defaultValue) {\n      return {\n        value: newProps.value,\n        defaultValue: newProps.defaultValue,\n        open: false\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      a11yTitle,\n      a11yDropTitle,\n      dropAlign,\n      dropTarget,\n      update,\n      widgets,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      onOpen,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      onClose,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      onKeyDown,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      onKeyUp,\n      defaultValue,\n      dropContent,\n      dropIcon,\n      disabled\n    } = _a,\n          rest = __rest(_a, [\"a11yTitle\", \"a11yDropTitle\", \"dropAlign\", \"dropTarget\", \"update\", \"widgets\", \"onOpen\", \"onClose\", \"onKeyDown\", \"onKeyUp\", \"defaultValue\", \"dropContent\", \"dropIcon\", \"disabled\"]);\n\n    const {\n      open\n    } = this.state;\n\n    if (typeof update === 'function') {\n      update(this.onUpdateValue);\n    }\n\n    const numWidgets = (dropContent ? 1 : 0) + (widgets ? widgets.length : 0);\n    let decorations;\n\n    if (numWidgets > 0) {\n      let drop;\n\n      if (dropContent) {\n        drop = React.createElement(DropButton, {\n          a11yTitle: a11yDropTitle,\n          disabled: disabled,\n          dropAlign: dropAlign,\n          dropTarget: dropTarget,\n          open: open,\n          tabIndex: -1,\n          focusIndicator: false,\n          onOpen: this.onOpen,\n          onClose: this.onClose,\n          dropContent: dropContent,\n          icon: dropIcon\n        });\n      }\n\n      decorations = React.createElement(StyledWidgetsContainer, {\n        align: \"center\",\n        direction: \"row\"\n      }, widgets.map((widget, index) => React.createElement(Button, Object.assign({\n        disabled: disabled,\n        tabIndex: -1,\n        key: `widget_${index}`\n      }, widget))), drop);\n    }\n\n    return React.createElement(Keyboard, {\n      onDown: this.onKeyDown,\n      onUp: this.onKeyUp\n    }, React.createElement(StyledDropInputContainer, null, React.createElement(ThemeContext.Consumer, null, theme => React.createElement(StyledDropInput, Object.assign({\n      ref: this.inputRef,\n      theme: theme,\n      disabled: disabled,\n      numWidgets: numWidgets,\n      \"aria-label\": a11yTitle,\n      defaultValue: defaultValue ? defaultValue.toString() : undefined\n    }, rest))), decorations));\n  }\n\n}\n\nDropInput.defaultProps = {\n  dropAlign: {\n    top: 'bottom',\n    right: 'left'\n  },\n  dropIcon: React.createElement(FormDown, null),\n  type: 'text',\n  widgets: []\n};\nconst strCaretTrap = '[]';\n\nconst processCaretTraps = mask => {\n  let indexOfCaretTrap;\n\n  while (indexOfCaretTrap = mask.indexOf(strCaretTrap), indexOfCaretTrap !== -1) {\n    // eslint-disable-line\n    mask.splice(indexOfCaretTrap, 1);\n  }\n\n  return mask;\n};\n\nconst transformMaskedValue = (value, providedMask, props) => {\n  if (!providedMask) {\n    return value.toString();\n  }\n\n  let {\n    pipe\n  } = props;\n  let safeValue;\n\n  if (value === undefined || value === null) {\n    safeValue = '';\n  } else {\n    safeValue = value.toString();\n  }\n\n  let mask;\n\n  if (typeof providedMask === 'object' && providedMask.pipe !== undefined && providedMask.mask !== undefined) {\n    // eslint-disable-next-line no-param-reassign\n    providedMask = providedMask.mask;\n    ({\n      pipe\n    } = providedMask);\n  }\n\n  if (typeof providedMask === 'function') {\n    mask = providedMask(safeValue, Object.assign(Object.assign({}, props), {\n      pipe\n    })); // disable masking if `mask` is `false`\n\n    if (mask === false) {\n      return safeValue;\n    } // The processed mask is what we're interested in\n\n\n    mask = processCaretTraps(mask); // If the `providedMask` is not a function, we just use it as-is.\n  } else {\n    mask = providedMask;\n  }\n\n  let conformedValue = safeValue;\n  const {\n    guide,\n    placeholderChar,\n    placeholder,\n    currentCaretPosition,\n    showMask,\n    keepCharPositions\n  } = props;\n  const conformToMaskConfig = {\n    previousPlaceholder: placeholder,\n    guide,\n    placeholderChar,\n    pipe,\n    currentCaretPosition,\n    keepCharPositions\n  };\n  const conformed = conformToMask(safeValue, mask, conformToMaskConfig);\n\n  if (conformed) {\n    ({\n      conformedValue\n    } = conformed);\n  }\n\n  if (typeof pipe === 'function') {\n    const pipeResults = pipe(conformedValue, Object.assign({\n      rawValue: safeValue\n    }, conformToMaskConfig));\n\n    if (typeof pipeResults === 'string') {\n      conformedValue = pipeResults;\n    }\n  }\n\n  if (conformedValue === placeholder) {\n    conformedValue = showMask ? placeholder : '';\n  }\n\n  return conformedValue;\n};\n\nconst maskedNumberValue = ({\n  value,\n  prefix,\n  suffix,\n  thousandsSeparatorSymbol\n}) => {\n  let val;\n\n  if (typeof value === 'string') {\n    val = value.replace(new RegExp(`[${prefix}${suffix}${thousandsSeparatorSymbol}]`, 'g'), '');\n    val = parseFloat(val);\n\n    if (Number.isNaN(val)) {\n      val = undefined;\n    }\n  } else {\n    val = value;\n  }\n\n  return val;\n};\n\nconst createMinMaxInputPipe = _a => {\n  var {\n    min,\n    max,\n    mask\n  } = _a,\n      props = __rest(_a, [\"min\", \"max\", \"mask\"]);\n\n  return conformedValue => {\n    if (typeof min === 'number' || typeof max === 'number') {\n      const value = maskedNumberValue(Object.assign(Object.assign({}, props), {\n        value: conformedValue\n      }));\n\n      if (typeof value === 'number') {\n        if (typeof min === 'number' && value < min) {\n          const resolved = transformMaskedValue(min, mask, props);\n\n          if (resolved === undefined) {\n            return undefined;\n          }\n\n          return {\n            value: resolved\n          };\n        }\n\n        if (typeof max === 'number' && value > max) {\n          const resolved = transformMaskedValue(max, mask, props);\n\n          if (resolved === undefined) {\n            return undefined;\n          }\n\n          return {\n            value: resolved\n          };\n        }\n      }\n    }\n\n    return {\n      value: conformedValue.toString()\n    };\n  };\n};\n/** A masked Input control with an optional drop button with the specified dropContent<br/>\r\n * `import { MakedInput } from 'grommet-controls';`<br/>\r\n * `<MakedInput mask={...} />`<br/>\r\n */\n\n\nclass MaskedInput extends Component {\n  constructor() {\n    super(...arguments);\n    this.textMaskInputElement = null;\n    this.inputControlRef = React.createRef();\n\n    this.onInput = event => {\n      const {\n        onInput\n      } = this.props;\n\n      if (this.textMaskInputElement) {\n        this.textMaskInputElement.update(event.target.value);\n      }\n\n      if (onInput) {\n        onInput(event);\n      }\n    };\n  }\n\n  initTextMask() {\n    const {\n      props,\n      props: {\n        value\n      }\n    } = this;\n\n    if (props.mask && this.inputControlRef) {\n      this.textMaskInputElement = createTextMaskInputElement(Object.assign({\n        // eslint-disable-next-line react/no-find-dom-node\n        inputElement: findDOMNode(this.inputControlRef.current).getElementsByTagName('input')[0]\n      }, props));\n      this.textMaskInputElement.update(value);\n    }\n  }\n\n  componentDidMount() {\n    this.initTextMask();\n  }\n\n  componentDidUpdate() {\n    this.initTextMask();\n  }\n\n  maskedValue(value) {\n    if (value === undefined) {\n      return undefined;\n    }\n\n    const {\n      mask\n    } = this.props;\n\n    if (value) {\n      const conformed = transformMaskedValue(value, mask, this.props);\n      return conformed;\n    }\n\n    return value;\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      defaultValue,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      value,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      mask,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      guide,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      showMask,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      pipe,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      placeholderChar,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      keepCharPositions\n    } = _a,\n          rest = __rest(_a, [\"defaultValue\", \"value\", \"mask\", \"guide\", \"showMask\", \"pipe\", \"placeholderChar\", \"keepCharPositions\"]);\n\n    return React.createElement(DropInput, Object.assign({\n      ref: this.inputControlRef,\n      value: this.maskedValue(value),\n      defaultValue: this.maskedValue(defaultValue),\n      onInput: this.onInput\n    }, rest));\n  }\n\n}\n\nMaskedInput.defaultProps = {\n  type: 'text',\n  guide: true,\n  showMask: false,\n  placeholderChar: '\\u2000'\n};\nMaskedInput.alphabetic = /[A-Z]/i;\nMaskedInput.placeholderChars = {\n  whitespace: '\\u2000',\n  underscore: '_'\n};\nMaskedInput.digit = /\\d/;\nMaskedInput.createAutoCorrectedDatePipe = createAutoCorrectedDatePipe;\nMaskedInput.emailMask = emailMask;\nMaskedInput.createNumberMask = createNumberMask;\nMaskedInput.createMinMaxInputPipe = createMinMaxInputPipe;\nMaskedInput.maskedNumberValue = maskedNumberValue;\n\nconst sizeStyle = props => {\n  const data = props.theme.calendar[props.size];\n  return css`\n    font-size: ${data.fontSize};\n    line-height: ${data.lineHeight};\n  `;\n};\n\nconst StyledColors = styled.div`\n  ${props => sizeStyle(props)}\n`;\nconst StyledRows = styled.div`\n  position: relative;\n`;\nconst StyledRow = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  flex-justify: between;\n`;\nconst StyledColorContainer = styled.div`\n  flex: 0 0;\n`;\n\nconst colorSizeStyle = props => {\n  const data = props.theme.calendar[props.size];\n  return css`\n    width: ${data.daySize};\n    height: ${data.daySize};\n  `;\n};\n\nconst StyledColor = styled(Button)`\n  top: 0;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ${props => colorSizeStyle(props)}\n  span {\n    visibility: hidden;\n  };  \n  transition: transform .2s;\n  &:hover {\n    z-index: 10;\n    width: auto;\n    -webkit-transform:scale(2);\n    -moz-transform:scale(2);\n    transform:scale(2);\n    span {\n      visibility: visible;\n    };\n  );\n`;\n\nconst buildState = props => {\n  const {\n    colors,\n    color,\n    columns,\n    wrap\n  } = props;\n  let colorRows = [];\n  let lastRow = null;\n\n  if (colors) {\n    Object.keys(colors).forEach(item => {\n      if (typeof colors[item] === 'object') {\n        const row = {\n          name: item,\n          colors: [],\n          buttonRef: React.createRef()\n        };\n        Object.keys(colors[item]).forEach(colorName => {\n          const colorsColor = colors[item][colorName];\n          row.colors.push({\n            name: colorName,\n            color: colorsColor\n          });\n        });\n        colorRows.push(row);\n      } else {\n        if (!lastRow) {\n          lastRow = {\n            name: undefined,\n            colors: []\n          };\n          colorRows.push(lastRow);\n        }\n\n        lastRow.colors.push({\n          name: item,\n          color: colors[item],\n          buttonRef: React.createRef()\n        });\n      }\n    });\n  }\n\n  const colorsPerRow = columns || (colorRows.length === 1 ? Math.sqrt(colorRows[0].colors.length) : colorRows.reduce((res, row) => Math.min(res, row.colors.length), Number.MAX_SAFE_INTEGER));\n  let wrapColors = wrap;\n\n  if (wrapColors === undefined) {\n    wrapColors = columns === undefined && colorRows.length === 1;\n  }\n\n  if (wrapColors) {\n    const finalRows = [];\n    colorRows.forEach(row => {\n      while (row.colors.length > 0) {\n        finalRows.push({\n          name: row.name,\n          colors: row.colors.splice(0, colorsPerRow)\n        });\n      }\n    });\n    colorRows = finalRows;\n  } else {\n    colorRows = colorRows.map(row => Object.assign(Object.assign({}, row), {\n      colors: row.colors.filter((_, index) => index < colorsPerRow)\n    }));\n  }\n\n  let activeRow = 0;\n  let activeColor = 0;\n  colorRows.find((row, rowIndex) => row.colors.find((item, colorIndex) => {\n    const found = item.color === color;\n\n    if (found) {\n      activeRow = rowIndex;\n      activeColor = colorIndex;\n    }\n\n    return found;\n  }));\n  return {\n    colorRows,\n    activeRow,\n    activeColor\n  };\n};\n/** A color selection element, with custom color palettes.<br/>\r\n *`import { Colors } from 'grommet-controls';`<br/>\r\n *`<Colors colors={...} />`<br/>\r\n */\n\n\nclass Colors extends Component {\n  constructor(props) {\n    super(props);\n    this.setFocus = false;\n    this.timer = 0;\n\n    this.setActive = ({\n      rowIndex,\n      colorIndex\n    }) => {\n      const {\n        colorRows\n      } = this.state;\n      this.setFocus = true;\n      const activeRow = Math.min(Math.max(0, rowIndex), colorRows.length - 1);\n      const color = Math.max(0, colorIndex);\n      const activeColor = Math.min(color, colorRows[activeRow].colors.length - 1);\n      this.setState({\n        activeRow,\n        activeColor\n      });\n    };\n\n    this.onClickColor = ({\n      color,\n      rowIndex,\n      colorIndex,\n      rowName,\n      colorName\n    }) => () => {\n      const {\n        onSelect\n      } = this.props;\n      this.setActive({\n        rowIndex,\n        colorIndex\n      });\n\n      if (onSelect) {\n        onSelect({\n          color,\n          rowName,\n          colorName\n        });\n      }\n    };\n\n    this.state = buildState(props);\n  }\n\n  static getDerivedStateFromProps(nextProps) {\n    return buildState(nextProps);\n  }\n\n  componentDidUpdate() {\n    if (this.setFocus) {\n      const {\n        activeRow,\n        activeColor,\n        colorRows\n      } = this.state;\n      this.setFocus = false;\n\n      if (colorRows[activeRow] && colorRows[activeRow].colors[activeColor] && colorRows[activeRow].colors[activeColor].buttonRef) {\n        // eslint-disable-next-line react/no-find-dom-node\n        const buttonNode = findDOMNode(colorRows[activeRow].colors[activeColor].buttonRef.current);\n\n        if (buttonNode) {\n          buttonNode.scrollIntoView();\n          buttonNode.focus();\n        }\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.timer);\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      wrap,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      onSelect,\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      columns,\n      size\n    } = _a,\n          rest = __rest(_a, [\"wrap\", \"onSelect\", \"columns\", \"size\"]);\n\n    const {\n      colorRows,\n      activeRow,\n      activeColor\n    } = this.state;\n\n    const colors = (theme, cellSize) => colorRows.map((row, rowIndex) => React.createElement(StyledRow, {\n      key: `row_${rowIndex}`,\n      theme: theme,\n      style: {\n        width: `${cellSize * row.colors.length}px`,\n        height: `${cellSize}px`\n      }\n    }, row.colors.map((color, colorIndex) => {\n      const isActive = activeRow === rowIndex && activeColor === colorIndex;\n      const colorStyle = {\n        backgroundColor: color.color,\n        color: normalizeColor('text', theme),\n        left: `${cellSize * colorIndex}px`\n      };\n      return React.createElement(StyledColorContainer, {\n        key: `color_${colorIndex}`,\n        theme: theme\n      }, React.createElement(StyledColor // eslint-disable-next-line no-param-reassign\n      , {\n        // eslint-disable-next-line no-param-reassign\n        ref: color.buttonRef,\n        style: colorStyle,\n        size: size,\n        theme: theme,\n        tabIndex: isActive ? 0 : -1,\n        a11yTitle: `${row.name !== undefined ? row.name : ''} ${color.name}`,\n        plain: true,\n        active: isActive,\n        hoverIndicator: \"background\",\n        onClick: this.onClickColor({\n          color: color.color,\n          rowIndex,\n          colorIndex,\n          colorName: color.name,\n          rowName: row.name\n        })\n      }, React.createElement(\"span\", null, color.color)));\n    })));\n\n    return React.createElement(ThemeContext.Consumer, null, theme => {\n      const cellSize = parseMetricToNum(theme.calendar[size].daySize);\n      return React.createElement(StyledColors, Object.assign({\n        size: size,\n        theme: theme\n      }, rest), React.createElement(Keyboard, {\n        onUp: event => {\n          event.preventDefault();\n          this.setActive({\n            rowIndex: activeRow - 1,\n            colorIndex: activeColor\n          });\n        },\n        onDown: event => {\n          event.preventDefault();\n          this.setActive({\n            rowIndex: activeRow + 1,\n            colorIndex: activeColor\n          });\n        },\n        onLeft: () => this.setActive({\n          rowIndex: activeRow,\n          colorIndex: activeColor - 1\n        }),\n        onRight: () => this.setActive({\n          rowIndex: activeRow,\n          colorIndex: activeColor + 1\n        })\n      }, React.createElement(Box, null, React.createElement(StyledRows, {\n        style: {\n          height: `${cellSize * colorRows.length}px`\n        }\n      }, colors(theme, cellSize)))));\n    });\n  }\n\n}\n\nColors.defaultProps = {\n  size: 'medium'\n};\nconst StyledColorButton = styled.span`\n  display: inline-flex;\n  svg {\n    border: ${props => `${props.theme.button.border.width} solid ${props.theme.global.colors.border}`};\n    fill: ${props => props.selectedColor};\n    stroke: ${props => props.selectedColor};\n    transition: none;\n  }\n`;\n/** A masked color entry field, with a drop button to select a color<br/>\r\n * All properties of MaskedInput apply<br/>\r\n * `import { ColorInput } from 'grommet-controls';`<br/>\r\n * `<ColorInput colors={...} value={...} />`<br/>\r\n */\n\nclass ColorInput extends Component {\n  constructor(props) {\n    super(props);\n    this.upDateValue = null;\n\n    this.onChange = e => {\n      const {\n        onChange\n      } = this.props;\n      this.setState({\n        selectedColor: e.target.value\n      });\n\n      if (onChange) {\n        onChange(e);\n      }\n    };\n\n    this.onSelect = ({\n      color\n    }) => {\n      this.setState({\n        selectedColor: color\n      });\n      this.upDateValue(color);\n    };\n\n    this.state = {\n      selectedColor: props.value || props.defaultValue\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps) {\n    return {\n      selectedColor: nextProps.value\n    };\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      columns,\n      wrap,\n      colors,\n      size\n    } = _a,\n          rest = __rest(_a, [\"columns\", \"wrap\", \"colors\", \"size\"]);\n\n    const {\n      selectedColor\n    } = this.state;\n    return React.createElement(ThemeContext.Consumer, null, theme => React.createElement(MaskedInput, Object.assign({\n      update: update => {\n        this.upDateValue = update;\n      },\n      dropIcon: React.createElement(StyledColorButton, {\n        theme: theme,\n        selectedColor: selectedColor\n      }, React.createElement(StopFill, null)),\n      dropContent: React.createElement(Colors, {\n        color: selectedColor,\n        colors: colors,\n        onSelect: this.onSelect,\n        columns: columns,\n        wrap: wrap,\n        size: size\n      }),\n      onChange: this.onChange\n    }, rest)));\n  }\n\n}\n\nColorInput.defaultProps = {\n  size: 'small',\n  mask: ['#', /[0-9a-fA-F]/, /[0-9a-fA-F]/, /[0-9a-fA-F]/, /[0-9a-fA-F]/, /[0-9a-fA-F]/, /[0-9a-fA-F]/]\n};\n/**\r\n * A Color selection field with form validation<br/>\r\n */\n\nconst ColorInputField = props => React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(ColorInput, Object.assign({}, childProps)));\n\nconst smallDate = (date, locale = 'en-us') => new Date(date).toLocaleDateString(locale, {\n  year: 'numeric',\n  month: '2-digit',\n  day: '2-digit'\n});\n\nconst shortDate = (date, locale = 'en-us') => new Date(date).toLocaleDateString(locale, {\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric'\n});\n\nconst longDate = (date, locale = 'en-us') => new Date(date).toLocaleDateString(locale, {\n  weekday: 'short',\n  year: 'numeric',\n  month: 'short',\n  day: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit'\n});\n/**\r\n * A masked date entry field with a drop down calendar<br/>\r\n * All properties of MaskedInput apply<br/>\r\n * `import { DateInput } from 'grommet-controls';`<br/>\r\n * `<DateInput value={...} />`<br/>\r\n */\n\n\nclass DateInput extends Component {\n  constructor() {\n    super(...arguments);\n    this.upDateValue = null;\n\n    this.onSelect = isoDate => {\n      const date = new Date(isoDate);\n      this.upDateValue(smallDate(date));\n    };\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      value,\n      bounds,\n      dates,\n      disabledDates,\n      autocorrect,\n      firstDayOfWeek,\n      locale,\n      size,\n      mask: userMask,\n      maskFormat\n    } = _a,\n          rest = __rest(_a, [\"value\", \"bounds\", \"dates\", \"disabledDates\", \"autocorrect\", \"firstDayOfWeek\", \"locale\", \"size\", \"mask\", \"maskFormat\"]);\n\n    let mask;\n\n    if (userMask) {\n      mask = {\n        mask: userMask\n      };\n    } else if (autocorrect) {\n      mask = {\n        mask: [/\\d/, /\\d/, '/', /\\d/, /\\d/, '/', /\\d/, /\\d/, /\\d/, /\\d/],\n        pipe: MaskedInput.createAutoCorrectedDatePipe(maskFormat),\n        keepCharPositions: true\n      };\n    } else {\n      mask = {\n        mask: [/\\d/, /\\d/, '/', /\\d/, /\\d/, '/', /\\d/, /\\d/, /\\d/, /\\d/]\n      };\n    }\n\n    const controlledValue = value === undefined ? '' : value;\n    return React.createElement(MaskedInput, Object.assign({\n      update: update => {\n        this.upDateValue = update;\n      },\n      value: controlledValue,\n      dropContent: React.createElement(Box, {\n        pad: \"small\"\n      }, React.createElement(Calendar, {\n        date: controlledValue.toString(),\n        onSelect: this.onSelect,\n        bounds: bounds,\n        dates: dates,\n        disabled: disabledDates,\n        firstDayOfWeek: firstDayOfWeek,\n        locale: locale,\n        size: size\n      }))\n    }, Object.assign(Object.assign({}, rest), mask)));\n  }\n\n}\n\nDateInput.defaultProps = {\n  dropIcon: React.createElement(Calendar$1, null),\n  size: 'small',\n  a11yDropTitle: 'Open calendar'\n};\n/**\r\n * A Date input field with form validation<br/>\r\n */\n\nconst DateInputField = props => React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(DateInput, Object.assign({}, childProps)));\n/**\r\n * A masked input with a default mask for handling email addresses<br/>\r\n * All properties of MaskedInput apply<br/>\r\n * `import { EmailInput } from 'grommet-controls';`<br/>\r\n * `<EmailInput value={...} />`<br/>\r\n */\n\n\nconst EmailInput = props => React.createElement(MaskedInput, Object.assign({\n  mask: MaskedInput.emailMask,\n  inputMode: \"email\"\n}, props));\n/**\r\n * An email input field with form validation<br/>\r\n */\n\n\nconst EmailInputField = props => React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(EmailInput, Object.assign({}, childProps)));\n\nconst StyledHeader = styled(Box)`\n  position: ${props => props.position};\n  ${props => {\n  if (props.position === 'fixed' || props.position === 'absolute' || props.position === 'sticky') {\n    return `\n        top: 0;\n        left: auto;\n        right: 0;  \n        z-index: ${props.zIndex};\n      `;\n  }\n\n  return undefined;\n}}\n`;\n/**\r\n * A page header component\r\n * ```$ npm install grommet-controls\r\n * import { Header } from 'grommet-controls';\r\n * <Header>\r\n *   ...\r\n * </Header>\r\n * ```\r\n */\n\nconst Header = _a => {\n  var {\n    children\n  } = _a,\n      rest = __rest(_a, [\"children\"]);\n\n  return React.createElement(StyledHeader, Object.assign({\n    tag: \"header\"\n  }, rest), children);\n};\n\nHeader.defaultProps = {\n  position: 'relative',\n  zIndex: 10,\n  direction: 'row',\n  background: 'brand',\n  fill: 'horizontal',\n  justify: 'between',\n  align: 'center',\n  elevation: 'medium',\n  pad: 'medium'\n};\nvar StyledIconButton = styled(Button)`\n  border-radius: 50%;\n`;\n/** A Button with a hover effect, all properties of Button apply<br />\r\n * `import { IconButton } from 'grommet-controls';`<br />\r\n * `<IconButton icon='...' />`<br />\r\n */\n\nconst IconButton = props => React.createElement(StyledIconButton, Object.assign({}, props, {\n  hoverIndicator: {\n    dark: 'dark-2',\n    light: 'light-2'\n  }\n}));\n/**\r\n * A masked input field with form validation<br/>\r\n */\n\n\nconst MaskedInputField = props => React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(MaskedInput, Object.assign({}, childProps)));\n\nconst pink = {\n  '50': '#fce4ec',\n  '100': '#f8bbd0',\n  '200': '#f48fb1',\n  '300': '#f06292',\n  '400': '#ec407a',\n  '500': '#e91e63',\n  '600': '#d81b60',\n  '700': '#c2185b',\n  '800': '#ad1457',\n  '900': '#880e4f',\n  a100: '#ff80ab',\n  a200: '#ff4081',\n  a400: '#f50057',\n  a700: '#c51162'\n};\nconst purple$1 = {\n  '50': '#f3e5f5',\n  '100': '#e1bee7',\n  '200': '#ce93d8',\n  '300': '#ba68c8',\n  '400': '#ab47bc',\n  '500': '#9c27b0',\n  '600': '#8e24aa',\n  '700': '#7b1fa2',\n  '800': '#6a1b9a',\n  '900': '#4a148c',\n  a100: '#ea80fc',\n  a200: '#e040fb',\n  a400: '#d500f9',\n  a700: '#aa00ff'\n};\nconst deepPurple = {\n  '50': '#ede7f6',\n  '100': '#d1c4e9',\n  '200': '#b39ddb',\n  '300': '#9575cd',\n  '400': '#7e57c2',\n  '500': '#673ab7',\n  '600': '#5e35b1',\n  '700': '#512da8',\n  '800': '#4527a0',\n  '900': '#311b92',\n  a100: '#b388ff',\n  a200: '#7c4dff',\n  a400: '#651fff',\n  a700: '#6200ea'\n};\nconst indigo = {\n  '50': '#e8eaf6',\n  '100': '#c5cae9',\n  '200': '#9fa8da',\n  '300': '#7986cb',\n  '400': '#5c6bc0',\n  '500': '#3f51b5',\n  '600': '#3949ab',\n  '700': '#303f9f',\n  '800': '#283593',\n  '900': '#1a237e',\n  a100: '#8c9eff',\n  a200: '#536dfe',\n  a400: '#3d5afe',\n  a700: '#304ffe'\n};\nconst blue$1 = {\n  '50': '#e3f2fd',\n  '100': '#bbdefb',\n  '200': '#90caf9',\n  '300': '#64b5f6',\n  '400': '#42a5f5',\n  '500': '#2196f3',\n  '600': '#1e88e5',\n  '700': '#1976d2',\n  '800': '#1565c0',\n  '900': '#0d47a1',\n  a100: '#82b1ff',\n  a200: '#448aff',\n  a400: '#2979ff',\n  a700: '#2962ff'\n};\nconst lightBlue = {\n  '50': '#e1f5fe',\n  '100': '#b3e5fc',\n  '200': '#81d4fa',\n  '300': '#4fc3f7',\n  '400': '#29b6f6',\n  '500': '#03a9f4',\n  '600': '#039be5',\n  '700': '#0288d1',\n  '800': '#0277bd',\n  '900': '#01579b',\n  a100: '#80d8ff',\n  a200: '#40c4ff',\n  a400: '#00b0ff',\n  a700: '#0091ea'\n};\nconst cyan = {\n  '50': '#e0f7fa',\n  '100': '#b2ebf2',\n  '200': '#80deea',\n  '300': '#4dd0e1',\n  '400': '#26c6da',\n  '500': '#00bcd4',\n  '600': '#00acc1',\n  '700': '#0097a7',\n  '800': '#00838f',\n  '900': '#006064',\n  a100: '#84ffff',\n  a200: '#18ffff',\n  a400: '#00e5ff',\n  a700: '#00b8d4'\n};\nconst teal$1 = {\n  '50': '#e0f2f1',\n  '100': '#b2dfdb',\n  '200': '#80cbc4',\n  '300': '#4db6ac',\n  '400': '#26a69a',\n  '500': '#009688',\n  '600': '#00897b',\n  '700': '#00796b',\n  '800': '#00695c',\n  '900': '#004d40',\n  a100: '#a7ffeb',\n  a200: '#64ffda',\n  a400: '#1de9b6',\n  a700: '#00bfa5'\n};\nconst green$1 = {\n  '50': '#e8f5e9',\n  '100': '#c8e6c9',\n  '200': '#a5d6a7',\n  '300': '#81c784',\n  '400': '#66bb6a',\n  '500': '#4caf50',\n  '600': '#43a047',\n  '700': '#388e3c',\n  '800': '#2e7d32',\n  '900': '#1b5e20',\n  a100: '#b9f6ca',\n  a200: '#69f0ae',\n  a400: '#00e676',\n  a700: '#00c853'\n};\nconst lightGreen = {\n  '50': '#f1f8e9',\n  '100': '#dcedc8',\n  '200': '#c5e1a5',\n  '300': '#aed581',\n  '400': '#9ccc65',\n  '500': '#8bc34a',\n  '600': '#7cb342',\n  '700': '#689f38',\n  '800': '#558b2f',\n  '900': '#33691e',\n  a100: '#ccff90',\n  a200: '#b2ff59',\n  a400: '#76ff03',\n  a700: '#64dd17'\n};\nconst lime$1 = {\n  '50': '#f9fbe7',\n  '100': '#f0f4c3',\n  '200': '#e6ee9c',\n  '300': '#dce775',\n  '400': '#d4e157',\n  '500': '#cddc39',\n  '600': '#c0ca33',\n  '700': '#afb42b',\n  '800': '#9e9d24',\n  '900': '#827717',\n  a100: '#f4ff81',\n  a200: '#eeff41',\n  a400: '#c6ff00',\n  a700: '#aeea00'\n};\nconst yellow$1 = {\n  '50': '#fffde7',\n  '100': '#fff9c4',\n  '200': '#fff59d',\n  '300': '#fff176',\n  '400': '#ffee58',\n  '500': '#ffeb3b',\n  '600': '#fdd835',\n  '700': '#fbc02d',\n  '800': '#f9a825',\n  '900': '#f57f17',\n  a100: '#ffff8d',\n  a200: '#ffff00',\n  a400: '#ffea00',\n  a700: '#ffd600'\n};\nconst amber = {\n  '50': '#fff8e1',\n  '100': '#ffecb3',\n  '200': '#ffe082',\n  '300': '#ffd54f',\n  '400': '#ffca28',\n  '500': '#ffc107',\n  '600': '#ffb300',\n  '700': '#ffa000',\n  '800': '#ff8f00',\n  '900': '#ff6f00',\n  a100: '#ffe57f',\n  a200: '#ffd740',\n  a400: '#ffc400',\n  a700: '#ffab00'\n};\nconst orange = {\n  '50': '#fff3e0',\n  '100': '#ffe0b2',\n  '200': '#ffcc80',\n  '300': '#ffb74d',\n  '400': '#ffa726',\n  '500': '#ff9800',\n  '600': '#fb8c00',\n  '700': '#f57c00',\n  '800': '#ef6c00',\n  '900': '#e65100',\n  a100: '#ffd180',\n  a200: '#ffab40',\n  a400: '#ff9100',\n  a700: '#ff6d00'\n};\nconst deepOrange = {\n  '50': '#fbe9e7',\n  '100': '#ffccbc',\n  '200': '#ffab91',\n  '300': '#ff8a65',\n  '400': '#ff7043',\n  '500': '#ff5722',\n  '600': '#f4511e',\n  '700': '#e64a19',\n  '800': '#d84315',\n  '900': '#bf360c',\n  a100: '#ff9e80',\n  a200: '#ff6e40',\n  a400: '#ff3d00',\n  a700: '#dd2c00'\n};\nconst brown = {\n  '50': '#efebe9',\n  '100': '#d7ccc8',\n  '200': '#bcaaa4',\n  '300': '#a1887f',\n  '400': '#8d6e63',\n  '500': '#795548',\n  '600': '#6d4c41',\n  '700': '#5d4037',\n  '800': '#4e342e',\n  '900': '#3e2723'\n};\nconst grey = {\n  '50': '#fafafa',\n  '100': '#f5f5f5',\n  '200': '#eeeeee',\n  '300': '#e0e0e0',\n  '400': '#bdbdbd',\n  '500': '#9e9e9e',\n  '600': '#757575',\n  '700': '#616161',\n  '800': '#424242',\n  '900': '#212121'\n};\nconst blueGrey = {\n  '50': '#eceff1',\n  '100': '#cfd8dc',\n  '200': '#b0bec5',\n  '300': '#90a4ae',\n  '400': '#78909c',\n  '500': '#607d8b',\n  '600': '#546e7a',\n  '700': '#455a64',\n  '800': '#37474f',\n  '900': '#263238'\n};\nconst materialColors = {\n  amber,\n  blue: blue$1,\n  blueGrey,\n  brown,\n  cyan,\n  deepOrange,\n  deepPurple,\n  green: green$1,\n  grey,\n  indigo,\n  lightBlue,\n  lightGreen,\n  lime: lime$1,\n  orange,\n  pink,\n  purple: purple$1,\n  teal: teal$1,\n  yellow: yellow$1\n};\nconst StatusIcons = {\n  ok: StatusGood,\n  warning: StatusWarning,\n  error: StatusCritical,\n  unknown: StatusUnknown,\n  disabled: StatusDisabled,\n  info: StatusInfo\n};\nconst SIZE_LEVELS = {\n  small: {\n    level: 4,\n    size: 'xsmall',\n    meterSize: 'xsmall'\n  },\n  medium: {\n    level: 3,\n    size: 'small',\n    meterSize: 'small'\n  },\n  large: {\n    level: 1,\n    size: 'medium',\n    meterSize: 'large'\n  }\n};\n/**\r\n * A Box to display notification messages<br/>\r\n * `import { Notification } from 'grommet-controls';`<br/>\r\n * `<Notification message={...} onClose={...} />`<br/>\r\n */\n\nconst Notification = _a => {\n  var {\n    status,\n    message,\n    locale,\n    closer,\n    margin,\n    reverse,\n    a11yTitle,\n    background,\n    border,\n    timestamp,\n    icon,\n    strong,\n    round,\n    pad,\n    size,\n    state,\n    onClose,\n    percentComplete\n  } = _a,\n      rest = __rest(_a, [\"status\", \"message\", \"locale\", \"closer\", \"margin\", \"reverse\", \"a11yTitle\", \"background\", \"border\", \"timestamp\", \"icon\", \"strong\", \"round\", \"pad\", \"size\", \"state\", \"onClose\", \"percentComplete\"]);\n\n  const sizeLevel = SIZE_LEVELS[size];\n  let closeBtn;\n\n  if (onClose) {\n    const closeIcon = closer || React.createElement(Close, {\n      size: sizeLevel.size\n    });\n    closeBtn = React.createElement(Box, {\n      pad: pad\n    }, React.createElement(Button, {\n      a11yTitle: a11yTitle,\n      onClick: onClose\n    }, closeIcon));\n  }\n\n  let heading = message;\n\n  if (strong) {\n    heading = React.createElement(\"strong\", null, heading);\n  }\n\n  let statusIcon;\n\n  if (icon) {\n    const StatusIcon = StatusIcons[status];\n    statusIcon = React.isValidElement(icon) ? icon : React.createElement(StatusIcon, {\n      size: sizeLevel.size\n    });\n  }\n\n  let progress;\n\n  if (percentComplete || percentComplete === 0) {\n    progress = React.createElement(Box, {\n      direction: \"row\",\n      align: \"center\",\n      gap: \"medium\",\n      style: {\n        whiteSpace: 'nowrap'\n      }\n    }, React.createElement(Meter, {\n      size: sizeLevel.meterSize,\n      thickness: \"small\",\n      values: [{\n        label: percentComplete.toFixed(0),\n        value: percentComplete,\n        color: 'accent-1'\n      }]\n    }), React.createElement(Text, {\n      size: \"small\"\n    }, ` ${percentComplete} %`));\n  }\n\n  let timeStamp;\n\n  if (timestamp) {\n    timeStamp = longDate(timestamp, locale);\n  }\n\n  let first;\n  let second;\n\n  if (reverse) {\n    first = heading;\n    second = statusIcon;\n  } else {\n    first = statusIcon;\n    second = heading;\n  }\n\n  const content = React.createElement(Box, {\n    flex: \"grow\",\n    pad: pad\n  }, React.createElement(Heading, {\n    level: sizeLevel.level,\n    margin: margin,\n    style: {\n      maxWidth: '100%'\n    }\n  }, React.createElement(Box, {\n    direction: \"row\",\n    align: \"center\",\n    gap: \"small\"\n  }, first, second)), React.createElement(Text, {\n    size: sizeLevel.size\n  }, state), React.createElement(Text, {\n    size: sizeLevel.size\n  }, timeStamp), progress);\n\n  if (reverse) {\n    first = closeBtn;\n    second = content;\n  } else {\n    first = content;\n    second = closeBtn;\n  }\n\n  return React.createElement(Box, Object.assign({\n    direction: reverse ? 'row-reverse' : 'row',\n    fill: \"horizontal\",\n    border: border,\n    round: round,\n    role: \"checkbox\",\n    \"aria-checked\": true,\n    background: background || `status-${status}`\n  }, rest), first, second);\n};\n\nNotification.defaultProps = {\n  status: 'info',\n  size: 'medium',\n  message: 'Notification...',\n  icon: true,\n  animation: 'fadeIn',\n  closer: undefined,\n  pad: 'small',\n  margin: 'small',\n  locale: 'en-us'\n};\n\nconst precision = n => {\n  // eslint-disable-next-line no-restricted-globals\n  if (!isFinite(n)) return 0;\n  let e = 1;\n  let p = 0;\n\n  while (Math.round(n * e) / e !== n) {\n    e *= 10;\n    p += 1;\n  }\n\n  return p;\n};\n\nconst minMax = ({\n  value,\n  min,\n  max\n}) => {\n  let val = value;\n\n  if (min !== undefined) {\n    val = Math.max(val, min);\n  }\n\n  if (max !== undefined) {\n    val = Math.min(val, max);\n  }\n\n  return val;\n};\n/** A masked number input, with widgets to increment/decrement the value<br/>\r\n *  Additionally, all properties of MaskedInput apply<br/>\r\n *  `import { NumberInput } from 'grommet-controls';`<br/>\r\n *  `<NumberInput value={...} />`<br/>\r\n */\n\n\nclass NumberInput extends Component {\n  constructor() {\n    super(...arguments);\n    this.upDateValue = null;\n    this.value = undefined;\n\n    this.valueToNumber = value => {\n      const {\n        prefix,\n        suffix,\n        thousandsSeparatorSymbol,\n        decimalSymbol\n      } = this.props;\n      return MaskedInput.maskedNumberValue({\n        value,\n        prefix,\n        suffix,\n        thousandsSeparatorSymbol,\n        decimalSymbol\n      });\n    };\n\n    this.isFloat = val => {\n      const floatRegex = /^-?\\d+(?:[.,]\\d*?)?$/;\n\n      if (!floatRegex.test(val.toString())) {\n        return false;\n      } // eslint-disable-next-line no-restricted-globals\n\n\n      if (isNaN(parseFloat(val.toString()))) {\n        return false;\n      }\n\n      return true;\n    };\n\n    this.addStep = () => {\n      const {\n        max,\n        min,\n        step,\n        value\n      } = this.props;\n      let val = this.isFloat(value) ? (this.valueToNumber(value) + step).toFixed(precision(step)) : min || 0;\n\n      if (typeof val === 'number' && Number.isNaN(val)) {\n        if (min !== undefined) {\n          val = min;\n        } else {\n          val = undefined;\n        }\n      } else {\n        val = minMax({\n          value: val,\n          min,\n          max\n        });\n      }\n\n      this.upDateValue(val.toString());\n    };\n\n    this.subtractStep = () => {\n      const {\n        max,\n        min,\n        step,\n        value\n      } = this.props;\n      let val = this.isFloat(value) ? (this.valueToNumber(value) - step).toFixed(precision(step)) : max || 0;\n\n      if (typeof val === 'number' && Number.isNaN(val)) {\n        if (max !== undefined) {\n          val = max;\n        } else {\n          val = undefined;\n        }\n      } else {\n        val = minMax({\n          value: val,\n          min,\n          max\n        });\n      }\n\n      this.upDateValue(val.toString());\n    };\n\n    this.onChange = e => {\n      const {\n        onChange,\n        emptyValue\n      } = this.props;\n\n      if (onChange) {\n        let {\n          value\n        } = e.target;\n\n        if (this.value !== value) {\n          if (value === undefined) {\n            value = emptyValue;\n          }\n\n          this.value = value;\n          onChange(Object.assign(Object.assign({}, e), {\n            target: Object.assign(Object.assign({}, e.target), {\n              value\n            })\n          }));\n        }\n      }\n    };\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      onChange,\n      min,\n      max,\n      step,\n      pipe: userPipe,\n      prefix,\n      suffix,\n      thousandsSeparatorSymbol,\n      decimalSymbol,\n      decimals,\n      integers,\n      a11yIncrement,\n      a11yDecrement,\n      mask: userMask,\n      addIcon,\n      subtractIcon,\n      disabled\n    } = _a,\n          rest = __rest(_a, [\"onChange\", \"min\", \"max\", \"step\", \"pipe\", \"prefix\", \"suffix\", \"thousandsSeparatorSymbol\", \"decimalSymbol\", \"decimals\", \"integers\", \"a11yIncrement\", \"a11yDecrement\", \"mask\", \"addIcon\", \"subtractIcon\", \"disabled\"]);\n\n    const allowNegative = typeof min !== 'number' || min < 0;\n    const includeThousandsSeparator = !!thousandsSeparatorSymbol;\n    const allowDecimal = decimals === null || typeof decimals === 'number' && decimals > 0;\n    const mask = userMask || MaskedInput.createNumberMask({\n      prefix,\n      suffix,\n      includeThousandsSeparator,\n      thousandsSeparatorSymbol,\n      allowDecimal,\n      decimalSymbol,\n      decimalLimit: decimals,\n      integerLimit: integers,\n      allowNegative\n    });\n    const pipe = userPipe || MaskedInput.createMinMaxInputPipe(Object.assign({\n      mask,\n      prefix,\n      suffix,\n      thousandsSeparatorSymbol,\n      decimalSymbol,\n      min,\n      max\n    }, rest));\n    return React.createElement(MaskedInput, Object.assign({\n      update: update => {\n        this.upDateValue = update;\n      },\n      pattern: \"[0-9]*\",\n      inputMode: \"numeric\",\n      onKeyDown: this.subtractStep,\n      onKeyUp: this.addStep,\n      disabled: disabled,\n      onChange: this.onChange,\n      pipe: pipe,\n      mask: mask,\n      widgets: [{\n        icon: addIcon,\n        onClick: disabled ? undefined : this.addStep,\n        'aria-label': `${a11yIncrement} ${step}`\n      }, {\n        icon: subtractIcon,\n        onClick: disabled ? undefined : this.subtractStep,\n        'aria-label': `${a11yDecrement} ${step}`\n      }]\n    }, rest));\n  }\n\n}\n\nNumberInput.defaultProps = {\n  emptyValue: '',\n  step: 1,\n  addIcon: React.createElement(Add, null),\n  subtractIcon: React.createElement(Subtract, null),\n  prefix: '',\n  suffix: '',\n  thousandsSeparatorSymbol: '',\n  decimalSymbol: '.',\n  decimals: null,\n  integers: null,\n  a11yIncrement: 'Increment by',\n  a11yDecrement: 'Decrement by'\n};\n/**\r\n * A numeric input field with form validation<br/>\r\n */\n\nconst NumberInputField = props => React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(NumberInput, Object.assign({}, childProps)));\n/**\r\n *A password field with show/hide password toggle<br/>\r\n *All properties of DropInput apply<br/>\r\n *`import { PasswordInput } from 'grommet-controls';`<br/>\r\n *`<PasswordInput value={...} />`<br/>\r\n */\n\n\nclass PasswordInput extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      showPassword: false\n    };\n\n    this.toggleView = e => {\n      const {\n        showPassword\n      } = this.state;\n      e.stopPropagation();\n      this.setState({\n        showPassword: !showPassword\n      });\n    };\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      viewIcon,\n      hideIcon,\n      a11yViewPassword,\n      a11yHidePassword\n    } = _a,\n          rest = __rest(_a, [\"viewIcon\", \"hideIcon\", \"a11yViewPassword\", \"a11yHidePassword\"]);\n\n    const {\n      showPassword\n    } = this.state;\n    return React.createElement(DropInput, Object.assign({\n      type: showPassword ? 'text' : 'password',\n      widgets: [{\n        icon: showPassword ? hideIcon : viewIcon,\n        'aria-label': showPassword ? a11yHidePassword : a11yViewPassword,\n        onClick: this.toggleView\n      }]\n    }, rest));\n  }\n\n}\n\nPasswordInput.defaultProps = {\n  viewIcon: React.createElement(FormView, null),\n  hideIcon: React.createElement(Hide, null),\n  a11yViewPassword: 'View password',\n  a11yHidePassword: 'Hide password'\n};\n/**\r\n * A password input field with form validation<br/>\r\n */\n\nconst PasswordInputField = props => React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(PasswordInput, Object.assign({}, childProps)));\n/* eslint-disable no-param-reassign,no-nested-ternary */\n//\n// ########################################################################\n// Non-exported Helpers\n// ########################################################################\n\n\nfunction isArray(a) {\n  return Array.isArray(a);\n}\n\nfunction flattenDeep(arr, newArr = []) {\n  if (!isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (let i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n\n  return newArr;\n}\n\nfunction makePathArray(obj) {\n  return flattenDeep(obj).join('.').replace(/\\[/g, '.').replace(/]/g, '').split('.');\n}\n\nfunction get(obj, path, def) {\n  if (!path) {\n    return obj;\n  }\n\n  const pathObj = makePathArray(path);\n  let val;\n\n  try {\n    val = pathObj.reduce((current, pathPart) => current[pathPart], obj);\n  } catch (e) {// continue regardless of error\n  }\n\n  return typeof val !== 'undefined' ? val : def;\n}\n\nfunction set(obj = {}, path, value) {\n  const keys = makePathArray(path);\n  let keyPart;\n  let cursor = obj; // eslint-disable-next-line no-cond-assign\n\n  while ((keyPart = keys.shift()) && keys.length) {\n    if (!cursor[keyPart]) {\n      cursor[keyPart] = {};\n    }\n\n    cursor = cursor[keyPart];\n  }\n\n  cursor[keyPart] = value;\n  return obj;\n}\n\nfunction range(n) {\n  const arr = [];\n\n  for (let i = 0; i < n; i += 1) {\n    arr.push(n);\n  }\n\n  return arr;\n}\n\nfunction orderBy(arr, funcs, dirs, indexKey) {\n  return arr.sort((rowA, rowB) => {\n    for (let i = 0; i < funcs.length; i += 1) {\n      const comp = funcs[i];\n      const desc = dirs[i] === false || dirs[i] === 'desc';\n      const sortInt = comp(rowA, rowB);\n\n      if (sortInt) {\n        return desc ? -sortInt : sortInt;\n      }\n    } // Use the row index for tie breakers\n\n\n    return dirs[0] ? rowA[indexKey] - rowB[indexKey] : rowB[indexKey] - rowA[indexKey];\n  });\n}\n\nfunction remove(a, b) {\n  return a.filter((o, i) => {\n    const r = b(o);\n\n    if (r) {\n      a.splice(i, 1);\n      return true;\n    }\n\n    return false;\n  });\n}\n\nfunction clone(a) {\n  try {\n    return JSON.parse(JSON.stringify(a, (_, value) => {\n      if (typeof value === 'function') {\n        return value.toString();\n      }\n\n      return value;\n    }));\n  } catch (e) {\n    return a;\n  }\n}\n\nfunction getFirstDefined(...args) {\n  for (let i = 0; i < args.length; i += 1) {\n    if (typeof args[i] !== 'undefined') {\n      return args[i];\n    }\n  }\n\n  return undefined;\n}\n\nfunction sum(arr) {\n  return arr.reduce((a, b) => a + b, 0);\n}\n\nfunction groupBy(xs, key) {\n  return xs.reduce((rv, x, i) => {\n    const resKey = typeof key === 'function' ? key(x, i) : x[key];\n    rv[resKey] = isArray(rv[resKey]) ? rv[resKey] : [];\n    rv[resKey].push(x);\n    return rv;\n  }, {});\n}\n\nfunction asPx(value) {\n  value = Number(value);\n  return Number.isNaN(value) ? null : `${value}px`;\n}\n\nfunction compactObject(obj) {\n  const newObj = {};\n\n  if (obj) {\n    Object.keys(obj).map(key => {\n      if (Object.prototype.hasOwnProperty.call(obj, key) && obj[key] !== undefined && typeof obj[key] !== 'undefined') {\n        newObj[key] = obj[key];\n      }\n\n      return true;\n    });\n  }\n\n  return newObj;\n}\n\nfunction isSortingDesc(d) {\n  return !!(d.sort === 'desc' || d.desc === true || d.asc === false);\n}\n\nfunction normalizeComponent(Comp, params = {}, fallback = Comp) {\n  return typeof Comp === 'function' ? Object.getPrototypeOf(Comp).isReactComponent ? React.createElement(Comp, Object.assign({}, params)) : Comp(params) : fallback;\n}\n\nvar _ = {\n  get,\n  set,\n  orderBy,\n  range,\n  remove,\n  clone,\n  getFirstDefined,\n  sum,\n  groupBy,\n  isArray,\n  compactObject,\n  isSortingDesc,\n  normalizeComponent,\n  asPx\n};\nconst StyledTableComponent = styled(Box)`\n  align-items: stretch;\n  width: 100%;\n  border-collapse: collapse;\n  overflow: auto;\n`;\nconst StyledTableBodyComponent = styled(Box)``;\nconst StyledTHeadComponent = styled(Box)`\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n`;\nconst StyledResizerComponent = styled(Box)`\n  display: inline-block;\n  position: absolute;\n  width: 36px;\n  top: 0;\n  bottom: 0;\n  right: -18px;\n  cursor: col-resize;\n  z-index: 10;\n`;\nconst StyledThComponent = styled(Box)`\n  position: relative;\n  ${props => props.sortable && `\n    cursor: pointer;\n  `}    \n  ${props => props.hidden && `\n    width: 0 !important;\n    min-width: 0 !important;\n    padding: 0 !important;\n    border: 0 !important;\n    opacity: 0 !important;\n  `}\n  ${props => props.pivot && `\n    &:after,:before {\n      left: 100%;\n      top: 50%;\n      border: solid transparent;\n      content: \" \";\n      height: 0;\n      width: 0;\n      position: absolute;\n      pointer-events: none\n    }\n  \n    &:after {\n      border-color: rgba(255, 255, 255, 0);\n      border-left-color: #fff;\n      border-width: 8px;\n      margin-top: -8px\n    }\n  \n    &:before {\n      border-color: rgba(102, 102, 102, 0);\n      border-left-color: #f7f7f7;\n      border-width: 10px;\n      margin-top: -10px\n    }\n\n  `}  \n  ${props => props.resizable && `\n    overflow: visible;\n\n    &:last-child {\n      overflow: hidden\n    }\n  `}  \n`;\nconst StyledTrGroupComponent = styled(Box)`\n  align-items: stretch;\n`;\nconst StyledTrComponent = styled(Box)`\n  ${props => props.hover && `\n    &:hover {\n      background-color: ${normalizeColor(props.hover.background || props.theme.global.hover.background, props.theme)};\n      color: ${normalizeColor(props.hover.color || props.theme.global.hover.color, props.theme)};\n    }  \n  `}\n`;\nconst StyledTdComponent = styled(Box)`\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: block;\n  white-space: nowrap;\n  ${props => props.hidden && `\n    width: 0 !important;\n    min-width: 0 !important;\n    padding: 0 !important;\n    border: 0 !important;\n    opacity: 0 !important\n  `}\n`;\nconst StyledExpander = styled(Button)`\n  position: relative;\n  margin: 0;\n  padding: 0;\n  left: -5px;\n  color: transparent;\n  cursor: pointer;\n`;\nconst StyledTfootComponent = styled(Box)``;\n\nclass TableComponent extends Component {\n  render() {\n    return React.createElement(StyledTableComponent, Object.assign({\n      role: \"grid\"\n    }, this.props));\n  }\n\n}\n\nconst defaultButton = _a => {\n  var {\n    disabled,\n    Icon,\n    onClick,\n    label\n  } = _a,\n      other = __rest(_a, [\"disabled\", \"Icon\", \"onClick\", \"label\"]);\n\n  return React.createElement(Button, Object.assign({\n    icon: React.createElement(Icon, null),\n    disabled: disabled,\n    onClick: onClick,\n    label: label,\n    plain: true\n  }, other));\n};\n\nconst StyledButton = styled(defaultButton)`\n  width: 150px;\n  padding: 10px 0;\n`;\nconst StyledPageInput = styled(NumberInput)`\n  max-width: 180px;\n`;\nconst StyledSelect = styled(Select)`\n  max-width: 150px;\n`;\n\nclass ReactTablePagination extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.getSafePage = page => {\n      const pg = Number.isNaN(page) ? this.props.page : page;\n      return Math.min(Math.max(pg, 0), this.props.pages - 1);\n    };\n\n    this.changePage = page => {\n      const pg = this.getSafePage(page);\n      this.setState({\n        page: pg\n      });\n\n      if (this.props.page !== pg) {\n        this.props.onPageChange(pg);\n      }\n    };\n\n    this.applyPage = e => {\n      if (e) {\n        e.preventDefault();\n      }\n\n      const {\n        page\n      } = this.state;\n      this.changePage(page === '' ? this.props.page : page);\n    };\n\n    this.state = {\n      page: props.page\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps) {\n    return {\n      page: nextProps.page\n    };\n  }\n\n  renderPaging() {\n    const {\n      page,\n      showPageJump,\n      pageText,\n      ofText,\n      pages\n    } = this.props;\n    let pageJump;\n\n    if (showPageJump) {\n      pageJump = //@ts-ignore\n      React.createElement(StyledPageInput, {\n        \"aria-label\": \"Select page to jump to\",\n        onChange: e => {\n          const val = e.target.value;\n\n          if (val === '') {\n            return this.setState({\n              page: val\n            });\n          }\n\n          const pg = parseInt(val, 10) - 1;\n          this.setState({\n            page: this.getSafePage(pg)\n          });\n          return false;\n        },\n        value: typeof this.state.page === 'string' ? '' : this.state.page + 1,\n        onBlur: this.applyPage,\n        onKeyPress: e => {\n          if (e.which === 13 || e.keyCode === 13) {\n            this.applyPage(null);\n          }\n        }\n      });\n    } else {\n      pageJump = React.createElement(Text, null, page + 1);\n    }\n\n    return React.createElement(Box, {\n      direction: \"row\",\n      align: \"center\",\n      gap: \"small\"\n    }, React.createElement(Text, null, `${pageText} `), pageJump, React.createElement(\"span\", {\n      style: {\n        whiteSpace: 'nowrap'\n      }\n    }, `${ofText} ${pages || 1}`));\n  }\n\n  renderPageSize() {\n    const {\n      showPageSizeOptions,\n      onPageSizeChange,\n      pageSizeOptions,\n      pageSize\n    } = this.props;\n\n    if (showPageSizeOptions) {\n      return React.createElement(Box, {\n        direction: \"row\"\n      }, React.createElement(StyledSelect, {\n        \"aria-label\": \"Select rows per page\",\n        onChange: e => onPageSizeChange(Number(e.option.split(' ')[0])),\n        value: `${pageSize} ${this.props.rowsText}`,\n        options: pageSizeOptions.map(option => `${option} ${this.props.rowsText}`)\n      }));\n    }\n\n    return null;\n  }\n\n  renderPrevious() {\n    const {\n      PreviousComponent = StyledButton,\n      canPrevious,\n      page\n    } = this.props;\n    return React.createElement(Box, {\n      direction: \"row\"\n    }, React.createElement(PreviousComponent, {\n      \"aria-label\": \"Move to previous page\",\n      Icon: Previous,\n      label: this.props.previousText,\n      onClick: canPrevious ? () => this.changePage(page - 1) : null,\n      disabled: !canPrevious\n    }));\n  }\n\n  renderNext() {\n    const {\n      page,\n      canNext,\n      NextComponent = StyledButton\n    } = this.props;\n    return React.createElement(Box, {\n      direction: \"row\"\n    }, React.createElement(NextComponent, {\n      \"aria-label\": \"Move to next page\",\n      reverse: true,\n      Icon: Next,\n      label: this.props.nextText,\n      onClick: canNext ? () => this.changePage(page + 1) : null,\n      disabled: !canNext\n    }));\n  }\n\n  render() {\n    const props = this.props.getPaginationProps(this.props);\n    return React.createElement(Box, Object.assign({}, Object.assign({\n      direction: 'row',\n      align: 'center',\n      justify: 'between',\n      fill: 'horizontal'\n    }, props)), this.renderPrevious(), this.renderPaging(), this.renderPageSize(), this.renderNext());\n  }\n\n}\n\nconst PivotValueComponent = ({\n  subRows,\n  value\n}) => React.createElement(\"span\", null, value, \" \", subRows && `(${subRows.length})`);\n\nconst TheadComponent = props => React.createElement(StyledTHeadComponent, Object.assign({}, props));\n\nconst TbodyComponent = props => React.createElement(StyledTableBodyComponent, Object.assign({}, props));\n\nconst TfootComponent = props => React.createElement(StyledTfootComponent, Object.assign({}, props));\n\nconst NoDataComponent = _a => {\n  var {\n    children\n  } = _a,\n      rest = __rest(_a, [\"children\"]);\n\n  return React.createElement(Box, Object.assign({}, rest, {\n    align: \"center\",\n    pad: \"small\"\n  }), children);\n};\n\nconst ResizerComponent = props => React.createElement(StyledResizerComponent, Object.assign({}, props));\n\nconst ThComponent = _a => {\n  var {\n    toggleSort,\n    sort,\n    resizable,\n    children,\n    pivot,\n    hidden,\n    sortable,\n    expander,\n    CellTextComponent\n  } = _a,\n      props = __rest(_a, [\"toggleSort\", \"sort\", \"resizable\", \"children\", \"pivot\", \"hidden\", \"sortable\", \"expander\", \"CellTextComponent\"]);\n\n  if (!expander && Array.isArray(children) && children.length > 1 && !children[0] && !children[1]) {\n    return null;\n  }\n\n  const {\n    style\n  } = props,\n        rest = __rest(props, [\"style\"]);\n\n  const childRendered = React.createElement(CellTextComponent, Object.assign({}, rest, {\n    value: children\n  }));\n  let content;\n\n  if (sortable) {\n    const sortAsc = sort === '-sort-asc';\n    const sortDesc = sort === '-sort-desc';\n    let SortIcon = Blank;\n\n    if (sortAsc || sortDesc) {\n      SortIcon = sortAsc ? LinkUp : LinkDown;\n    }\n\n    content = React.createElement(Box, {\n      direction: \"row\",\n      gap: \"xsmall\",\n      align: \"center\"\n    }, childRendered, React.createElement(Button, {\n      onClick: e => toggleSort && toggleSort(e)\n    }, React.createElement(SortIcon, null)));\n  } else {\n    content = childRendered;\n  }\n\n  const boxProps = Object.assign({\n    pad: 'xsmall'\n  }, rest);\n  return React.createElement(StyledThComponent, {\n    role: \"columnheader\",\n    onClick: e => toggleSort && toggleSort(e),\n    direction: \"row\",\n    pivot: pivot,\n    hidden: hidden,\n    sortable: sortable,\n    style: style,\n    resizable: resizable\n  }, React.createElement(Box, Object.assign({}, boxProps, {\n    fill: true\n  }), content));\n};\n\nconst extractTextProps = _a => {\n  var rest = __rest(_a, [\"value\", \"color\", \"size\", \"truncate\", \"weight\", \"textAlign\"]);\n\n  return rest;\n};\n\nconst collectTextProps = ({\n  color,\n  size,\n  truncate,\n  weight,\n  textAlign\n}) => ({\n  color,\n  size,\n  truncate,\n  weight,\n  textAlign\n});\n\nconst CellTextComponent = _a => {\n  var {\n    value\n  } = _a,\n      rest = __rest(_a, [\"value\"]);\n\n  return React.createElement(Text, Object.assign({}, collectTextProps(rest)), value);\n};\n\nconst TdComponent = _a => {\n  var {\n    children\n  } = _a,\n      props = __rest(_a, [\"children\"]);\n\n  const {\n    style\n  } = props,\n        rest = __rest(props, [\"style\"]);\n\n  const boxProps = Object.assign({\n    pad: 'small'\n  }, extractTextProps(rest));\n  return React.createElement(StyledTdComponent, {\n    style: style,\n    role: \"gridcell\"\n  }, React.createElement(Box, Object.assign({\n    fill: true,\n    align: \"center\",\n    direction: \"row\"\n  }, boxProps), children));\n};\n\nconst FilterComponent = _a => {\n  var {\n    filter,\n    onChange,\n    column\n  } = _a,\n      rest = __rest(_a, [\"filter\", \"onChange\", \"column\"]);\n\n  const props = Object.assign({\n    size: 'medium'\n  }, rest);\n  return React.createElement(TextInput, Object.assign({\n    \"aria-label\": `Filter data by ${typeof column.Header === 'string' ? column.Header : column.id}`,\n    value: filter ? filter.value : '',\n    onChange: event => onChange(event.target.value)\n  }, props));\n};\n\nconst ExpanderComponent = ({\n  isExpanded,\n  children,\n  expanderProps\n}) => {\n  const props = Object.assign({\n    CloseIcon: React.createElement(Subtract, null),\n    OpenIcon: React.createElement(Add, null),\n    tabIndex: 0,\n    onClick: () => {}\n  }, expanderProps);\n\n  const {\n    OpenIcon,\n    CloseIcon\n  } = props,\n        rest = __rest(props, [\"OpenIcon\", \"CloseIcon\"]);\n\n  return React.createElement(StyledExpander, Object.assign({\n    a11yTitle: \"Press Enter to expand this row for more information\",\n    icon: isExpanded ? CloseIcon : OpenIcon\n  }, rest), children);\n};\n\nconst spinkitSpinners = {\n  circle: {\n    divCount: 12\n  },\n  'cube-grid': {\n    divCount: 9\n  },\n  wave: {\n    divCount: 5\n  },\n  'folding-cube': {\n    divCount: 4\n  },\n  'three-bounce': {\n    divCount: 3\n  },\n  'double-bounce': {\n    divCount: 2\n  },\n  'wandering-cubes': {\n    divCount: 2\n  },\n  'chasing-dots': {\n    divCount: 2\n  },\n  'rotating-plane': {\n    divCount: 1\n  },\n  pulse: {\n    divCount: 1\n  },\n  wordpress: {\n    divCount: 1\n  }\n};\nconst loadersCssSpinners = {\n  'ball-grid-beat': {\n    divCount: 9\n  },\n  'ball-grid-pulse': {\n    divCount: 9\n  },\n  'line-spin-fade-loader': {\n    divCount: 8\n  },\n  'ball-spin-fade-loader': {\n    divCount: 8\n  },\n  'ball-pulse-rise': {\n    divCount: 5\n  },\n  'line-scale': {\n    divCount: 5\n  },\n  'line-scale-pulse-out': {\n    divCount: 5\n  },\n  'line-scale-pulse-out-rapid': {\n    divCount: 5\n  },\n  pacman: {\n    divCount: 5\n  },\n  'line-scale-party': {\n    divCount: 4\n  },\n  'ball-triangle-path': {\n    divCount: 3\n  },\n  'ball-scale-multiple': {\n    divCount: 3\n  },\n  'ball-scale-ripple-multiple': {\n    divCount: 3\n  },\n  'ball-pulse-sync': {\n    divCount: 3\n  },\n  'ball-beat': {\n    divCount: 3\n  },\n  'ball-zig-zag': {\n    divCount: 2\n  },\n  'ball-zig-zag-deflect': {\n    divCount: 2\n  },\n  'ball-clip-rotate-pulse': {\n    divCount: 2\n  },\n  'ball-clip-rotate-multiple': {\n    divCount: 2\n  },\n  'ball-clip-rotate': {\n    divCount: 1\n  },\n  'ball-scale-ripple': {\n    divCount: 1\n  },\n  'triangle-skew-spin': {\n    divCount: 1\n  }\n};\nconst allSpinners = Object.assign(Object.assign({}, spinkitSpinners), loadersCssSpinners);\nconst animationFadeIn = keyframes`\n  0% { opacity: 0;}\n  50% { opacity: 0;}\n  100% { opacity: 1;}\n`;\nconst animationBounceDelay = keyframes`\n  0%, 80%, 100% { -webkit-transform: scale(0.0) }\n  40% { -webkit-transform: scale(1.0) }\n`;\nconst animationScaleDelay = keyframes`\n  0%, 70%, 100% { -webkit-transform:scale3D(1.0, 1.0, 1.0) }\n  35%           { -webkit-transform:scale3D(0.0, 0.0, 1.0) }\n`;\nconst animationStretchDelay = keyframes`\n  0%, 40%, 100% { -webkit-transform: scaleY(0.4) }\n  20% { -webkit-transform: scaleY(1.0) }\n`;\nconst animationFoldCubeAngle = keyframes`\n  0%, 10% {\n    -webkit-transform: perspective(140px) rotateX(-180deg);\n    opacity: 0;\n  } \n  25%, 75% {\n    -webkit-transform: perspective(140px) rotateX(0deg);\n    opacity: 1;\n  } \n  90%, 100% {\n    -webkit-transform: perspective(140px) rotateY(180deg);\n    opacity: 0;\n  }\n`;\nconst animationBounce = keyframes`\n  0%, 100% {\n    -webkit-transform: scale(0.0);\n  } \n  50% {\n    -webkit-transform: scale(1.0);\n  }\n`;\nconst animationCubeMove = keyframes`\n  25% {\n    -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5);\n  } \n  50% {\n    /* Hack to make FF rotate in the right direction */\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-179deg);\n  } \n  50.1% {\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg);\n  } \n  75% {\n    -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n  } \n  100% {\n    -webkit-transform: rotate(-360deg);\n  }\n`;\nconst animationRotate = keyframes`\n 100% { -webkit-transform: rotate(360deg) }\n`;\nconst animationRotatePlane = keyframes`\n  0% {\n    -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n  } \n  50% {\n    -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n  } \n  100% {\n    -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n  }\n`;\nconst animationScaleOut = keyframes`\n  0% { -webkit-transform: scale(0.0) }\n  100% {\n    -webkit-transform: scale(1.0);\n    opacity: 0;\n  }\n`;\nconst animationInnerCircle = keyframes`\n  0% { -webkit-transform: rotate(0); }\n  100% { -webkit-transform: rotate(360deg); }\n`;\nconst ThreeBounceSpinner = styled.div`\n  ${props => normalizeColor(props.color, props.theme)}\n  & >div {\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n  }\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  & > div {\n    width: ${props => props.theme.global.edgeSize[props.size]};\n    height: ${props => props.theme.global.edgeSize[props.size]};\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    border-radius: 100%;\n    display: inline-block;\n    animation: ${animationBounceDelay} 1.4s infinite ease-in-out;\n    /* Prevent first frame from flickering when animation starts */\n    animation-fill-mode: both;\n  }\n  & > div:first-child {\n    animation-delay: -0.32s;\n  }\n  & > div:nth-child(2) {\n    animation-delay: -0.16s;\n  }\n  animation: ${animationFadeIn} 2s;\n`;\nconst CircleSpinner = styled.div`\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  position: relative;\n\n  & > div {\n    background-color: initial;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n  }\n\n  & > div::before {\n    content: '';\n    display: block;\n    margin: 0 auto;\n    width: 20%;\n    height: 20%;\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    border-radius: 100%;\n    animation: ${animationBounceDelay} 1.2s infinite ease-in-out;\n    /* Prevent first frame from flickering when animation starts */\n    animation-fill-mode: both;\n  }\n\n  & > div:nth-child(2) {\n    -webkit-transform: rotate(30deg);\n    transform: rotate(30deg);\n  }\n  & > div:nth-child(3) {\n    -webkit-transform: rotate(60deg);\n    transform: rotate(60deg);\n  }\n  & > div:nth-child(4) {\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n  }\n  & > div:nth-child(5) {\n    -webkit-transform: rotate(120deg);\n    transform: rotate(120deg);\n  }\n  & > div:nth-child(6) {\n    -webkit-transform: rotate(150deg);\n    transform: rotate(150deg);\n  }\n  & > div:nth-child(7) {\n    -webkit-transform: rotate(180deg);\n    transform: rotate(180deg);\n  }\n  & > div:nth-child(8) {\n    -webkit-transform: rotate(210deg);\n    transform: rotate(210deg);\n  }\n  & > div:nth-child(9) {\n    -webkit-transform: rotate(240deg);\n    transform: rotate(240deg);\n  }\n  & > div:nth-child(10) {\n    -webkit-transform: rotate(270deg);\n    transform: rotate(270deg);\n  }\n  & > div:nth-child(11) {\n    -webkit-transform: rotate(300deg);\n    transform: rotate(300deg);\n  }\n  & > div:nth-child(12) {\n    -webkit-transform: rotate(330deg);\n    transform: rotate(330deg);\n  }\n\n  & > div:nth-child(2)::before {\n    -webkit-animation-delay: -1.1s;\n    animation-delay: -1.1s;\n  }\n  & > div:nth-child(3)::before {\n    -webkit-animation-delay: -1s;\n    animation-delay: -1s;\n  }\n  & > div:nth-child(4)::before {\n    -webkit-animation-delay: -0.9s;\n    animation-delay: -0.9s;\n  }\n  & > div:nth-child(5)::before {\n    -webkit-animation-delay: -0.8s;\n    animation-delay: -0.8s;\n  }\n  & > div:nth-child(6)::before {\n    -webkit-animation-delay: -0.7s;\n    animation-delay: -0.7s;\n  }\n  & > div:nth-child(7)::before {\n    -webkit-animation-delay: -0.6s;\n    animation-delay: -0.6s;\n  }\n  & > div:nth-child(8)::before {\n    -webkit-animation-delay: -0.5s;\n    animation-delay: -0.5s;\n  }\n  & > div:nth-child(9)::before {\n    -webkit-animation-delay: -0.4s;\n    animation-delay: -0.4s;\n  }\n  & > div:nth-child(10)::before {\n    -webkit-animation-delay: -0.3s;\n    animation-delay: -0.3s;\n  }\n  & > div:nth-child(11)::before {\n    -webkit-animation-delay: -0.2s;\n    animation-delay: -0.2s;\n  }\n  & > div:nth-child(12)::before {\n    -webkit-animation-delay: -0.1s;\n    animation-delay: -0.1s;\n  }\n`;\nconst CubeGridSpinner = styled.div`\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n\n  & > div {\n    width: 33%;\n    height: 33%;\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    float: left;\n    animation: ${animationScaleDelay} 1.3s infinite ease-in-out;\n  }\n\n  /*\n  * Spinner positions\n  * 1 2 3\n  * 4 5 6\n  * 7 8 9\n  */\n\n  & > div:nth-child(1) {\n    -webkit-animation-delay: 0.2s;\n    animation-delay: 0.2s;\n  }\n  & > div:nth-child(2) {\n    -webkit-animation-delay: 0.3s;\n    animation-delay: 0.3s;\n  }\n  & > div:nth-child(3) {\n    -webkit-animation-delay: 0.4s;\n    animation-delay: 0.4s;\n  }\n  & > div:nth-child(4) {\n    -webkit-animation-delay: 0.1s;\n    animation-delay: 0.1s;\n  }\n  & > div:nth-child(5) {\n    -webkit-animation-delay: 0.2s;\n    animation-delay: 0.2s;\n  }\n  & > div:nth-child(6) {\n    -webkit-animation-delay: 0.3s;\n    animation-delay: 0.3s;\n  }\n  & > div:nth-child(7) {\n    -webkit-animation-delay: 0s;\n    animation-delay: 0s;\n  }\n  & > div:nth-child(8) {\n    -webkit-animation-delay: 0.1s;\n    animation-delay: 0.1s;\n  }\n  & > div:nth-child(9) {\n    -webkit-animation-delay: 0.2s;\n    animation-delay: 0.2s;\n  }\n`;\nconst WaveSpinner = styled.div`\n  width: 30px;\n  height: 27px;\n\n  & > div {\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    height: 100%;\n    width: 6px;\n    display: inline-block;\n    animation: ${animationStretchDelay} 1.2s infinite ease-in-out;\n  }\n\n  $ > div:nth-child(2) {\n    animation-delay: -1.1s;\n  }\n\n  & > div:nth-child(3) {\n    animation-delay: -1s;\n  }\n\n  & > div:nth-child(4) {\n    animation-delay: -0.9s;\n  }\n\n  & > div:nth-child(5) {\n    animation-delay: -0.8s;\n  }\n`;\nconst FoldingCubeSpinner = styled.div`\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  position: relative;\n  transform: rotateZ(45deg);\n\n  & > div {\n    background-color: initial;\n    float: left;\n    width: 50%;\n    height: 50%;\n    position: relative;\n\n    -webkit-transform: scale(1.1);\n    -ms-transform: scale(1.1);\n    transform: scale(1.1);\n  }\n  & > div::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    animation: ${animationFoldCubeAngle} 2.4s infinite linear both;\n    transform-origin: 100% 100%;\n  }\n  & > div:nth-child(2) {\n    transform: scale(1.1) rotateZ(90deg);\n  }\n  & > div:nth-child(4) {\n    transform: scale(1.1) rotateZ(180deg);\n  }\n  & > div:nth-child(3) {\n    transform: scale(1.1) rotateZ(270deg);\n  }\n  & > div:nth-child(2)::before {\n    animation-delay: 0.3s;\n  }\n  & > div:nth-child(4)::before {\n    animation-delay: 0.6s;\n  }\n  & > div:nth-child(3)::before {\n    animation-delay: 0.9s;\n  }\n`;\nconst DoubleBounceSpinner = styled.div`\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  position: relative;\n\n  & > div {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    opacity: 0.6;\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    animation: ${animationBounce} 2s infinite ease-in-out;\n  }\n\n  & > div:last-child {\n    -webkit-animation-delay: -1s;\n    animation-delay: -1s;\n  }\n`;\nconst WanderingCubesSpinner = styled.div`\n  width: 52px;\n  height: 52px;\n  position: relative;\n\n  & > div {\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    width: 10px;\n    height: 10px;\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    animation: ${animationCubeMove} 1.8s infinite ease-in-out;\n  }\n\n  & > div:last-child {\n    -webkit-animation-delay: -0.9s;\n    animation-delay: -0.9s;\n  }\n`;\nconst ChasingDotsSpinner = styled.div`\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  position: relative;\n  animation: ${animationRotate} 2s infinite linear;\n\n  & > div {\n    width: 60%;\n    height: 60%;\n    display: inline-block;\n    position: absolute;\n    top: 0;\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    border-radius: 100%;\n    animation: ${animationBounce} 2s infinite ease-in-out;\n  }\n\n  & > div:last-child {\n    top: auto;\n    bottom: 0;\n\n    -webkit-animation-delay: -1s;\n    animation-delay: -1s;\n  }\n`;\nconst RotatingPlaneSpinner = styled.div`\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  background-color: ${props => normalizeColor(props.color, props.theme)};\n\n  animation: ${animationRotatePlane} 1.2s infinite ease-in-out;\n`;\nconst PulseSpinner = styled.div`\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  background-color: ${props => normalizeColor(props.color, props.theme)};\n  border-radius: 100%;\n  animation: ${animationScaleOut} 1s infinite ease-in-out;\n`;\nconst WordPressSpinner = styled.div`\n  & > div {\n    width: ${props => props.theme.global.edgeSize[props.size]};\n    height: ${props => props.theme.global.edgeSize[props.size]};\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    display: inline-block;\n    border-radius: ${props => props.theme.global.edgeSize[props.size]};\n    position: relative;\n    animation: ${animationInnerCircle} 1s linear infinite;\n  }\n\n  & > div::after {\n    content: '';\n    display: block;\n    background-color: #fff;\n    width: 8px;\n    height: 8px;\n    position: absolute;\n    border-radius: 8px;\n    top: 5px;\n    left: 5px;\n  }\n`; // ported to styled-componnets from\n\nconst styledComponents$1 = {\n  circle: CircleSpinner,\n  'three-bounce': ThreeBounceSpinner,\n  'cube-grid': CubeGridSpinner,\n  wave: WaveSpinner,\n  'folding-cube': FoldingCubeSpinner,\n  'double-bounce': DoubleBounceSpinner,\n  'wandering-cubes': WanderingCubesSpinner,\n  'chasing-dots': ChasingDotsSpinner,\n  'rotating-plane': RotatingPlaneSpinner,\n  pulse: PulseSpinner,\n  wordpress: WordPressSpinner\n};\n/** A spinning process indicator<br/>\r\n * `import { Spinning } from 'grommet-controls';`<br/>\r\n * `<Spinning />`<br/>\r\n */\n\nconst Spinning = ({\n  kind,\n  fadeIn,\n  color,\n  size\n}) => {\n  const spinnerInfo = allSpinners[kind] || allSpinners['three-bounce'];\n  const StyledSpinning = styledComponents$1[kind];\n  return React.createElement(ThemeContext.Consumer, null, theme => React.createElement(StyledSpinning, {\n    color: color || (theme.dark ? 'light-1' : 'dark-1'),\n    fadeIn: fadeIn,\n    theme: theme,\n    size: size\n  }, Array.from(Array(spinnerInfo.divCount).keys()).map((_, idx) => React.createElement(\"div\", {\n    key: idx\n  }))));\n};\n\nSpinning.defaultProps = {\n  kind: 'circle',\n  fadeIn: 'full',\n  color: undefined,\n  size: 'medium'\n};\n\nconst LoadingComponent = ({\n  loading\n}) => React.createElement(\"div\", null, loading && React.createElement(Box, {\n  align: \"center\",\n  fill: \"horizontal\",\n  pad: {\n    vertical: 'large'\n  }\n}, React.createElement(Spinning, null)));\n\nconst TrGroupComponent = props => React.createElement(StyledTrGroupComponent, Object.assign({\n  role: \"rowgroup\"\n}, props));\n\nconst focusableChildren = parent => {\n  let list = [];\n\n  if (parent && parent.childNodes) {\n    parent.childNodes.forEach(node => {\n      if (node.tagName) {\n        list.push(node);\n\n        if (filterByFocusable([node]).length !== 1) {\n          list = list.concat(focusableChildren(node));\n        }\n      }\n    });\n  }\n\n  return filterByFocusable(list);\n};\n\nconst focusedChildIndex = parent => {\n  const focusable = focusableChildren(parent);\n  const focused = document.activeElement;\n\n  for (let i = 0; i < focusable.length; i += 1) {\n    if (focusable[i] === focused) {\n      return i;\n    }\n  }\n\n  return 0;\n};\n\nconst focusChildByIndex = (parent, index) => {\n  const focusable = focusableChildren(parent);\n  const focusIndex = Math.min(index, focusable.length - 1);\n\n  if (focusIndex >= 0) {\n    focusable[focusIndex].focus();\n    return true;\n  }\n\n  return false;\n};\n\nconst focusNextElement = parent => {\n  const focusable = focusableChildren(parent);\n  const focused = document.activeElement;\n  let nextFocus;\n\n  for (let i = 0; i < focusable.length; i += 1) {\n    if (focusable[i] === focused) {\n      if (i < focusable.length - 1) {\n        nextFocus = focusable[i + 1];\n      }\n\n      break;\n    }\n  }\n\n  if (nextFocus) {\n    nextFocus.focus();\n    return true;\n  }\n\n  return false;\n};\n\nconst focusPrevElement = parent => {\n  const focusable = focusableChildren(parent);\n  const focused = document.activeElement;\n  let prevFocus;\n\n  for (let i = 0; i < focusable.length; i += 1) {\n    if (focusable[i] === focused) {\n      if (i > 0) {\n        prevFocus = focusable[i - 1];\n      }\n\n      break;\n    }\n  }\n\n  if (prevFocus) {\n    prevFocus.focus();\n    return true;\n  }\n\n  return false;\n};\n\nconst hasKeyboardChildren = element => {\n  const currentTag = element.tagName.toLowerCase();\n  const validTags = /(input|select|textarea)$/;\n\n  if (currentTag.match(validTags)) {\n    return true;\n  }\n\n  const focusable = focusableChildren(element);\n\n  for (let i = 0; i < focusable.length; i += 1) {\n    if (focusable[i].tagName && focusable[i].tagName.toLowerCase().match(validTags)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nclass TrComponent extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.selectNextRow = () => {\n      const {\n        selectRow\n      } = this.props;\n      const activeChild = focusedChildIndex(this.container);\n      return selectRow(true, activeChild);\n    };\n\n    this.selectPrevRow = () => {\n      const {\n        selectRow\n      } = this.props;\n      const activeChild = focusedChildIndex(this.container);\n      return selectRow(false, activeChild);\n    };\n\n    this.selectNextChild = () => {\n      if (focusNextElement(this.container)) {\n        return true;\n      }\n\n      return this.selectNextRow();\n    };\n\n    this.selectPrevChild = () => {\n      if (focusPrevElement(this.container)) {\n        return true;\n      }\n\n      return this.selectPrevRow();\n    };\n\n    this.selectFirstChild = activeIndex => focusChildByIndex(this.container, activeIndex);\n  }\n\n  render() {\n    return React.createElement(Keyboard, {\n      onTab: e => {\n        e.preventDefault();\n\n        if (e.shiftKey) {\n          this.selectPrevChild();\n        } else {\n          this.selectNextChild();\n        }\n      },\n      onLeft: e => {\n        if (!hasKeyboardChildren(document.activeElement)) {\n          e.preventDefault();\n          this.selectPrevChild();\n        }\n      },\n      onRight: e => {\n        if (!hasKeyboardChildren(document.activeElement)) {\n          e.preventDefault();\n          this.selectNextChild();\n        }\n      },\n      onUp: e => {\n        if (!hasKeyboardChildren(document.activeElement)) {\n          e.preventDefault();\n          this.selectPrevRow();\n        }\n      },\n      onDown: e => {\n        if (!hasKeyboardChildren(document.activeElement)) {\n          e.preventDefault();\n          this.selectNextRow();\n        }\n      }\n    }, React.createElement(StyledTrComponent, Object.assign({\n      direction: \"row\",\n      role: \"row\",\n      ref: el => {\n        // eslint-disable-next-line react/no-find-dom-node\n        this.container = findDOMNode(el);\n      }\n    }, this.props)));\n  }\n\n}\n/* eslint-disable react/display-name */\n\n\nconst emptyObj = () => ({});\n\nconst defaultTableProps = {};\nconst defaultHeaderProps = {\n  background: 'brand',\n  border: 'all',\n  align: 'center'\n};\nconst defaultBodyProps = {\n  animation: {\n    type: 'fadeIn',\n    duration: 2000,\n    size: 'large'\n  }\n};\nconst defaultRowOddProps = {};\nconst defaultRowEvenProps = {};\nconst defaultFooterProps = {\n  background: 'light-1'\n};\nconst defaultPaginationProps = {\n  pad: {\n    vertical: 'medium'\n  }\n};\nconst defaultFilterProps = {\n  border: 'bottom'\n};\nconst defaultFilterInputProps = {\n  size: 'small',\n  placeholder: 'Filter...'\n};\nvar defaultProps = {\n  // General\n  data: [],\n  loading: false,\n  showPagination: true,\n  showPaginationTop: false,\n  showPaginationBottom: true,\n  showPageSizeOptions: true,\n  pageSizeOptions: [5, 10, 20, 25, 50, 100],\n  defaultPageSize: 20,\n  showPageJump: true,\n  collapseOnSortingChange: true,\n  collapseOnPageChange: true,\n  collapseOnDataChange: true,\n  freezeWhenExpanded: false,\n  sortable: true,\n  multiSort: true,\n  resizable: true,\n  filterable: false,\n  defaultSortDesc: false,\n  defaultSorted: [],\n  defaultFiltered: [],\n  defaultResized: [],\n  defaultExpanded: {},\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  defaultFilterMethod: (filter, row, _column) => {\n    const id = filter.pivotId || filter.id;\n\n    if (row[id] !== undefined && filter.value !== undefined) {\n      return String(row[id]).toUpperCase().startsWith(filter.value.toUpperCase());\n    }\n\n    return true;\n  },\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  defaultSortMethod: (a, b, _desc) => {\n    // force null and undefined to the bottom\n    a = a === null || a === undefined ? '' : a;\n    b = b === null || b === undefined ? '' : b; // force any string values to lowercase\n\n    a = typeof a === 'string' ? a.toLowerCase() : a;\n    b = typeof b === 'string' ? b.toLowerCase() : b; // Return either 1 or -1 to indicate a sort priority\n\n    if (a > b) {\n      return 1;\n    }\n\n    if (a < b) {\n      return -1;\n    } // returning 0, undefined or any falsey value will use subsequent sorts or\n    // the index as a tiebreaker\n\n\n    return 0;\n  },\n  // Controlled State Props\n  // page: undefined,\n  // pageSize: undefined,\n  // sorted: [],\n  // filtered: [],\n  // resized: [],\n  // expanded: {},\n  // Controlled State Callbacks\n  onPageChange: undefined,\n  onPageSizeChange: undefined,\n  onSortedChange: undefined,\n  onFilteredChange: undefined,\n  onResizedChange: undefined,\n  onExpandedChange: undefined,\n  // Pivoting\n  pivotBy: undefined,\n  // Key Constants\n  pivotValKey: '_pivotVal',\n  pivotIDKey: '_pivotID',\n  subRowsKey: '_subRows',\n  aggregatedKey: '_aggregated',\n  nestingLevelKey: '_nestingLevel',\n  originalKey: '_original',\n  indexKey: '_index',\n  groupedByPivotKey: '_groupedByPivot',\n  // Server-side Callbacks\n  onFetchData: () => null,\n  // Component decorators\n  getProps: ({\n    className\n  }) => ({\n    className\n  }),\n  getTableProps: ({\n    decorations\n  }) => decorations && decorations.table || defaultTableProps,\n  getTheadGroupProps: ({\n    decorations\n  }) => decorations && (decorations.headerGroup || decorations.header) || {},\n  getTheadGroupTrProps: emptyObj,\n  getTheadProps: emptyObj,\n  getTheadTrProps: emptyObj,\n  getTheadThProps: ({\n    decorations\n  }) => decorations && decorations.header || defaultHeaderProps,\n  getTheadFilterProps: emptyObj,\n  getTheadFilterTrProps: ({\n    decorations\n  }) => decorations && decorations.filterRow || {},\n  getFilterInputProps: ({\n    decorations\n  }) => decorations && decorations.filterInput || defaultFilterInputProps,\n  getTheadFilterThProps: ({\n    decorations\n  }) => decorations && decorations.filter || defaultFilterProps,\n  getTbodyProps: ({\n    decorations\n  }) => decorations && decorations.body || defaultBodyProps,\n  getTrGroupProps: emptyObj,\n  getTrProps: (even, {\n    decorations\n  }) => {\n    if (decorations) {\n      let props = Object.assign({}, decorations.row);\n\n      if (even) {\n        props = Object.assign(Object.assign({}, props), decorations.rowEven || defaultRowEvenProps);\n      } else {\n        props = Object.assign(Object.assign({}, props), decorations.rowOdd || defaultRowOddProps);\n      }\n\n      return props;\n    }\n\n    return even ? defaultRowEvenProps : defaultRowOddProps;\n  },\n  getTdProps: ({\n    decorations\n  }) => decorations && decorations.cell || {},\n  getExpanderProps: ({\n    decorations\n  }) => decorations && decorations.expander || {},\n  getTfootProps: emptyObj,\n  getTfootTrProps: emptyObj,\n  getTfootTdProps: ({\n    decorations\n  }) => decorations && decorations.footer || defaultFooterProps,\n  getPaginationProps: ({\n    decorations\n  }) => decorations && decorations.pagination || defaultPaginationProps,\n  getLoadingProps: emptyObj,\n  getNoDataProps: emptyObj,\n  getResizerProps: emptyObj,\n  // Global Column Defaults\n  column: {\n    // Renderers\n    Cell: undefined,\n    Header: undefined,\n    Footer: undefined,\n    Aggregated: undefined,\n    Pivot: undefined,\n    PivotValue: undefined,\n    Expander: undefined,\n    Filter: undefined,\n    // All Columns\n    sortable: undefined,\n    resizable: undefined,\n    filterable: undefined,\n    show: true,\n    minWidth: 100,\n    // Cells only\n    getProps: (_state, _rowInfo, column) => {\n      if (column && column.decorations) {\n        return column.decorations.cell || {};\n      }\n\n      return {};\n    },\n    // Pivot only\n    aggregate: undefined,\n    // Headers only\n    getHeaderProps: (_state, _rowInfo, column) => column && column.decorations && column.decorations.header || {},\n    getFilterProps: (_state, _rowInfo, column) => column && column.decorations && column.decorations.filter || {},\n    // Footers only\n    getFooterProps: (_state, _rowInfo, column) => column && column.decorations && column.decorations.footer || {},\n    filterMethod: undefined,\n    filterAll: false,\n    sortMethod: undefined\n  },\n  // Global Expander Column Defaults\n  expanderDefaults: {\n    sortable: false,\n    resizable: false,\n    filterable: false,\n    width: 46\n  },\n  pivotDefaults: {// extend the defaults for pivoted columns here\n  },\n  // Text\n  previousText: 'Previous',\n  nextText: 'Next',\n  loadingText: 'Loading...',\n  noDataText: 'No rows found',\n  pageText: 'Page',\n  ofText: 'of',\n  rowsText: 'rows',\n  // Components\n  TableComponent,\n  TheadComponent,\n  TbodyComponent,\n  TrGroupComponent,\n  TrComponent,\n  ThComponent,\n  TdComponent,\n  CellTextComponent,\n  TfootComponent,\n  FilterComponent,\n  ExpanderComponent,\n  PivotValueComponent,\n  AggregatedComponent: ({\n    subRows,\n    column\n  }) => {\n    const previewValues = subRows.filter(d => typeof d[column.id] !== 'undefined').map((row, i) => // eslint-disable-next-line react/no-array-index-key\n    React.createElement(\"span\", {\n      key: i\n    }, row[column.id], i < subRows.length - 1 ? ', ' : ''));\n    return React.createElement(\"span\", null, previewValues);\n  },\n  PivotComponent: undefined,\n  // the ExpanderComponent and PivotValueComponent at run-time in methods.js\n  PaginationComponent: ReactTablePagination,\n  PreviousComponent: undefined,\n  NextComponent: undefined,\n  LoadingComponent,\n  NoDataComponent,\n  ResizerComponent,\n  PadRowComponent: () => React.createElement(\"span\", null, \"\\u00A0\")\n};\n/* eslint-disable no-nested-ternary,no-shadow,no-param-reassign,\r\nprefer-destructuring,no-mixed-operators */\n\nclass ReactTable extends Component {\n  constructor(props) {\n    super(props);\n    this.rowRef = [];\n    this.footerRef = null;\n    this.filterRef = null;\n    this.headerRef = null;\n    this.headerGroupsRef = null;\n\n    this.getResolvedState = (props, state) => Object.assign(Object.assign(Object.assign(Object.assign({}, _.compactObject(this.state)), _.compactObject(this.props)), _.compactObject(state)), _.compactObject(props));\n\n    this.fireFetchData = () => {\n      this.props.onFetchData(this.getResolvedState(), this);\n    };\n\n    this.getStateOrProp = key => _.getFirstDefined(this.state[key], this.props[key]);\n\n    this.getMinRows = () => _.getFirstDefined(this.props.minRows, this.getStateOrProp('pageSize')); // User actions\n\n\n    this.onPageChange = page => {\n      const {\n        onPageChange,\n        collapseOnPageChange\n      } = this.props;\n      const newState = {\n        page\n      };\n\n      if (collapseOnPageChange) {\n        newState.expanded = {};\n      }\n\n      this.setStateWithData(newState, this.state, this.props, () => onPageChange && onPageChange(page));\n    };\n\n    this.onPageSizeChange = newPageSize => {\n      const {\n        onPageSizeChange\n      } = this.props;\n      const {\n        pageSize,\n        page\n      } = this.getResolvedState(); // Normalize the page to display\n\n      const currentRow = pageSize * page;\n      const newPage = Math.floor(currentRow / newPageSize);\n      this.setStateWithData({\n        pageSize: newPageSize,\n        page: newPage\n      }, this.state, this.props, () => onPageSizeChange && onPageSizeChange(newPageSize, newPage));\n    };\n\n    this.sortColumn = (column, additive) => {\n      const {\n        sorted,\n        skipNextSort,\n        defaultSortDesc\n      } = this.getResolvedState();\n      const firstSortDirection = Object.prototype.hasOwnProperty.call(column, 'defaultSortDesc') ? column.defaultSortDesc : defaultSortDesc;\n      const secondSortDirection = !firstSortDirection; // we can't stop event propagation from the column resize move handlers\n      // attached to the document because of react's synthetic events\n      // so we have to prevent the sort function from actually sorting\n      // if we click on the column resize element within a header.\n\n      if (skipNextSort) {\n        this.setStateWithData({\n          skipNextSort: false\n        }, this.state, this.props);\n        return;\n      }\n\n      const {\n        onSortedChange\n      } = this.props;\n\n      let newSorted = _.clone(sorted || []).map(d => {\n        d.desc = _.isSortingDesc(d);\n        return d;\n      });\n\n      if (!_.isArray(column)) {\n        // Single-Sort\n        const existingIndex = newSorted.findIndex(d => d.id === column.id);\n\n        if (existingIndex > -1) {\n          const existing = newSorted[existingIndex];\n\n          if (existing.desc === secondSortDirection) {\n            if (additive) {\n              newSorted.splice(existingIndex, 1);\n            } else {\n              existing.desc = firstSortDirection;\n              newSorted = [existing];\n            }\n          } else {\n            existing.desc = secondSortDirection;\n\n            if (!additive) {\n              newSorted = [existing];\n            }\n          }\n        } else if (additive) {\n          newSorted.push({\n            id: column.id,\n            desc: firstSortDirection\n          });\n        } else {\n          newSorted = [{\n            id: column.id,\n            desc: firstSortDirection\n          }];\n        }\n      } else {\n        // Multi-Sort\n        const existingIndex = newSorted.findIndex(d => d.id === column[0].id); // Existing Sorted Column\n\n        if (existingIndex > -1) {\n          const existing = newSorted[existingIndex];\n\n          if (existing.desc === secondSortDirection) {\n            if (additive) {\n              newSorted.splice(existingIndex, column.length);\n            } else {\n              column.forEach((_d, i) => {\n                newSorted[existingIndex + i].desc = firstSortDirection;\n              });\n            }\n          } else {\n            column.forEach((_d, i) => {\n              newSorted[existingIndex + i].desc = secondSortDirection;\n            });\n          }\n\n          if (!additive) {\n            newSorted = newSorted.slice(existingIndex, column.length);\n          } // New Sort Column\n\n        } else if (additive) {\n          newSorted = newSorted.concat(column.map(d => ({\n            id: d.id,\n            desc: firstSortDirection\n          })));\n        } else {\n          newSorted = column.map(d => ({\n            id: d.id,\n            desc: firstSortDirection\n          }));\n        }\n      }\n\n      this.setStateWithData({\n        page: !sorted.length && newSorted.length || !additive ? 0 : this.state.page,\n        sorted: newSorted\n      }, this.state, this.props, () => onSortedChange && onSortedChange(newSorted, column, additive));\n    };\n\n    this.filterColumn = (column, value) => {\n      const {\n        filtered\n      } = this.getResolvedState();\n      const {\n        onFilteredChange\n      } = this.props; // Remove old filter first if it exists\n\n      const newFiltering = (filtered || []).filter(x => x.id !== column.id);\n\n      if (value !== '') {\n        newFiltering.push({\n          id: column.id,\n          value\n        });\n      }\n\n      this.setStateWithData({\n        filtered: newFiltering\n      }, this.state, this.props, () => onFilteredChange && onFilteredChange(newFiltering, column, value));\n    };\n\n    this.resizeColumnStart = (event, column, isTouch) => {\n      event.stopPropagation();\n      const parentWidth = event.target.parentElement.getBoundingClientRect().width;\n      let pageX;\n\n      if (isTouch) {\n        pageX = event.changedTouches[0].pageX;\n      } else {\n        pageX = event.pageX;\n      }\n\n      this.setStateWithData({\n        currentlyResizing: {\n          id: column.id,\n          startX: pageX,\n          parentWidth\n        }\n      }, this.state, this.props, () => {\n        if (isTouch) {\n          document.addEventListener('touchmove', this.resizeColumnMoving);\n          document.addEventListener('touchcancel', this.resizeColumnEnd);\n          document.addEventListener('touchend', this.resizeColumnEnd);\n        } else {\n          document.addEventListener('mousemove', this.resizeColumnMoving);\n          document.addEventListener('mouseup', this.resizeColumnEnd);\n          document.addEventListener('mouseleave', this.resizeColumnEnd);\n        }\n      });\n    };\n\n    this.resizeColumnMoving = event => {\n      event.stopPropagation();\n      const {\n        onResizedChange\n      } = this.props;\n      const {\n        resized,\n        currentlyResizing\n      } = this.getResolvedState(); // Delete old value\n\n      const newResized = resized.filter(x => x.id !== currentlyResizing.id);\n      let pageX;\n\n      if (event.type === 'touchmove') {\n        pageX = event.changedTouches[0].pageX;\n      } else if (event.type === 'mousemove') {\n        pageX = event.pageX;\n      } // Set the min size to 10 to account for margin and border or else the\n      // group headers don't line up correctly\n\n\n      const newWidth = Math.max(currentlyResizing.parentWidth + pageX - currentlyResizing.startX, 11);\n      newResized.push({\n        id: currentlyResizing.id,\n        value: newWidth\n      });\n      this.setStateWithData({\n        resized: newResized\n      }, this.state, this.props, () => onResizedChange && onResizedChange(newResized, event));\n    };\n\n    this.resizeColumnEnd = event => {\n      event.stopPropagation();\n      const isTouch = event.type === 'touchend' || event.type === 'touchcancel';\n\n      if (isTouch) {\n        document.removeEventListener('touchmove', this.resizeColumnMoving);\n        document.removeEventListener('touchcancel', this.resizeColumnEnd);\n        document.removeEventListener('touchend', this.resizeColumnEnd);\n      } // If its a touch event clear the mouse one's as well because sometimes\n      // the mouseDown event gets called as well, but the mouseUp event doesn't\n\n\n      document.removeEventListener('mousemove', this.resizeColumnMoving);\n      document.removeEventListener('mouseup', this.resizeColumnEnd);\n      document.removeEventListener('mouseleave', this.resizeColumnEnd); // The touch events don't propagate up to the sorting's onMouseDown event so\n      // no need to prevent it from happening or else the first click after a touch\n      // event resize will not sort the column.\n\n      if (!isTouch) {\n        this.setStateWithData({\n          skipNextSort: true,\n          currentlyResizing: undefined\n        }, this.state, this.props);\n      }\n    };\n\n    this.rowRef = [];\n    this.state = {\n      page: 0,\n      pageSize: props.defaultPageSize,\n      sorted: props.defaultSorted,\n      expanded: props.defaultExpanded,\n      filtered: props.defaultFiltered,\n      resized: props.defaultResized,\n      currentlyResizing: undefined,\n      skipNextSort: false\n    };\n  }\n\n  componentDidMount() {\n    this.fireFetchData();\n  }\n\n  static getDerivedStateFromProps(nextProps, oldState) {\n    const newState = Object.assign(Object.assign({}, oldState), nextProps); // Do a deep compare of new and old `defaultOption` and\n    // if they are different reset `option = defaultOption`\n\n    const defaultableOptions = ['sorted', 'filtered', 'resized', 'expanded'];\n    defaultableOptions.forEach(x => {\n      const defaultName = `default${x.charAt(0).toUpperCase() + x.slice(1)}`;\n\n      if (JSON.stringify(oldState[defaultName]) !== JSON.stringify(newState[defaultName])) {\n        newState[x] = newState[defaultName];\n      }\n    }); // If they change these table options, we need to reset defaults\n    // or else we could get into a state where the user has changed the UI\n    // and then disabled the ability to change it back.\n    // e.g. If `filterable` has changed, set `filtered = defaultFiltered`\n\n    const resettableOptions = ['sortable', 'filterable', 'resizable'];\n    resettableOptions.forEach(x => {\n      if (oldState[x] !== newState[x]) {\n        const baseName = x.replace('able', '');\n        const optionName = `${baseName}ed`;\n        const defaultName = `default${optionName.charAt(0).toUpperCase() + optionName.slice(1)}`;\n        newState[optionName] = newState[defaultName];\n      }\n    }); // Props that trigger a data update\n\n    if (oldState.data !== newState.data || JSON.stringify(oldState.columns) !== JSON.stringify(newState.columns) || oldState.pivotBy !== newState.pivotBy || oldState.sorted !== newState.sorted || oldState.filtered !== newState.filtered) {\n      return ReactTable.getStateWithData(ReactTable.getDataModel(newState, nextProps), oldState, nextProps);\n    }\n\n    return null;\n  }\n\n  static getStateWithData(newState, oldState, props) {\n    const newResolvedState = Object.assign(Object.assign(Object.assign({}, oldState), newState), props);\n    const {\n      freezeWhenExpanded\n    } = newResolvedState; // Default to unfrozen state\n\n    newResolvedState.frozen = false; // If freezeWhenExpanded is set, check for frozen conditions\n\n    if (freezeWhenExpanded) {\n      // if any rows are expanded, freeze the existing data and sorting\n      const keys = Object.keys(newResolvedState.expanded);\n\n      for (let i = 0; i < keys.length; i += 1) {\n        if (newResolvedState.expanded[keys[i]]) {\n          newResolvedState.frozen = true;\n          break;\n        }\n      }\n    } // If the data isn't frozen and either the data or\n    // sorting model has changed, update the data\n\n\n    if (oldState.frozen && !newResolvedState.frozen || oldState.sorted !== newResolvedState.sorted || oldState.filtered !== newResolvedState.filtered || oldState.showFilters !== newResolvedState.showFilters || !newResolvedState.frozen && oldState.resolvedData !== newResolvedState.resolvedData) {\n      // Handle collapseOnsortedChange & collapseOnDataChange\n      if (oldState.sorted !== newResolvedState.sorted && props.collapseOnSortingChange || oldState.filtered !== newResolvedState.filtered || oldState.showFilters !== newResolvedState.showFilters || oldState.sortedData && !newResolvedState.frozen && oldState.resolvedData !== newResolvedState.resolvedData && props.collapseOnDataChange) {\n        newResolvedState.expanded = {};\n      }\n\n      Object.assign(newResolvedState, ReactTable.getSortedData(newResolvedState, props));\n    } // Set page to 0 if filters change\n\n\n    if (oldState.filtered !== newResolvedState.filtered) {\n      newResolvedState.page = 0;\n    } // Calculate pageSize all the time\n\n\n    if (newResolvedState.sortedData) {\n      newResolvedState.pages = newResolvedState.manual ? newResolvedState.pages : Math.ceil(newResolvedState.sortedData.length / newResolvedState.pageSize);\n      newResolvedState.page = Math.max(newResolvedState.page >= newResolvedState.pages ? newResolvedState.pages - 1 : newResolvedState.page, 0);\n    }\n\n    return newResolvedState;\n  }\n\n  setStateWithData(newState, oldState, props, cb) {\n    const newResolvedState = ReactTable.getStateWithData(newState, oldState, props);\n    return this.setState(newResolvedState, () => {\n      if (cb) {\n        cb();\n      }\n\n      if (oldState.page !== newResolvedState.page || oldState.pageSize !== newResolvedState.pageSize || oldState.sorted !== newResolvedState.sorted || oldState.filtered !== newResolvedState.filtered) {\n        this.fireFetchData();\n      }\n    });\n  }\n\n  render() {\n    const resolvedState = this.getResolvedState();\n    const {\n      getProps,\n      getTableProps,\n      getTheadGroupProps,\n      getTheadGroupTrProps,\n      getTheadProps,\n      getTheadTrProps,\n      getTheadThProps,\n      getTheadFilterProps,\n      getTheadFilterTrProps,\n      getTheadFilterThProps,\n      getFilterInputProps,\n      getTbodyProps,\n      getTrGroupProps,\n      getTrProps,\n      getTdProps,\n      getExpanderProps,\n      getTfootProps,\n      getTfootTrProps,\n      getTfootTdProps,\n      getPaginationProps,\n      getLoadingProps,\n      getNoDataProps,\n      getResizerProps,\n      showPagination,\n      showPaginationTop,\n      showPaginationBottom,\n      manual,\n      loadingText,\n      noDataText,\n      sortable,\n      multiSort,\n      resizable,\n      filterable,\n      // Pivoting State\n      pivotIDKey,\n      pivotValKey,\n      pivotBy,\n      subRowsKey,\n      aggregatedKey,\n      originalKey,\n      indexKey,\n      groupedByPivotKey,\n      expanderTdDefaultProps,\n      // State\n      loading,\n      pageSize,\n      page,\n      sorted,\n      filtered,\n      resized,\n      expanded,\n      pages,\n      onExpandedChange,\n      // Components\n      TableComponent,\n      TheadComponent,\n      TbodyComponent,\n      TrGroupComponent,\n      TrComponent,\n      ThComponent,\n      TdComponent,\n      CellTextComponent,\n      TfootComponent,\n      PaginationComponent,\n      LoadingComponent,\n      SubComponent,\n      NoDataComponent,\n      ResizerComponent,\n      ExpanderComponent,\n      PivotValueComponent,\n      PivotComponent,\n      AggregatedComponent,\n      FilterComponent,\n      PadRowComponent,\n      // Data model\n      resolvedData,\n      allVisibleColumns,\n      headerGroups,\n      hasHeaderGroups,\n      // Sorted Data\n      sortedData\n    } = resolvedState; // Pagination\n\n    const startRow = pageSize * page;\n    const endRow = startRow + pageSize;\n    let pageRows = manual ? resolvedData : sortedData.slice(startRow, endRow);\n    const minRows = this.getMinRows();\n\n    const padRows = _.range(Math.max(minRows - pageRows.length, 0));\n\n    const hasColumnFooter = allVisibleColumns.some(d => d.Footer);\n    const hasFilters = filterable || allVisibleColumns.some(d => d.filterable);\n\n    const recurseRowsViewIndex = (rows, path = [], index = -1) => [rows.map((row, i) => {\n      index += 1;\n      const rowWithViewIndex = Object.assign(Object.assign({}, row), {\n        viewIndex: index\n      });\n      const newPath = path.concat([i]);\n\n      if (rowWithViewIndex[subRowsKey] && _.get(expanded, newPath)) {\n        [rowWithViewIndex[subRowsKey], index] = recurseRowsViewIndex(rowWithViewIndex[subRowsKey], newPath, index);\n      }\n\n      return rowWithViewIndex;\n    }), index];\n\n    [pageRows] = recurseRowsViewIndex(pageRows);\n    const canPrevious = page > 0;\n    const canNext = page + 1 < pages;\n\n    const rowMinWidth = _.sum(allVisibleColumns.map(d => {\n      const resizedColumn = resized.find(x => x.id === d.id) || {\n        id: undefined,\n        value: undefined\n      };\n      return _.getFirstDefined(resizedColumn.value, d.width, d.minWidth);\n    }));\n\n    let rowIndex = -1;\n    const finalState = Object.assign(Object.assign({}, resolvedState), {\n      startRow,\n      endRow,\n      pageRows,\n      minRows,\n      padRows,\n      hasColumnFooter,\n      canPrevious,\n      canNext,\n      rowMinWidth\n    });\n    const rootProps = getProps(finalState, undefined, undefined, this);\n    const tableProps = getTableProps(finalState, undefined, undefined, this);\n    const tBodyProps = getTbodyProps(finalState, undefined, undefined, this);\n    const loadingProps = getLoadingProps(finalState, undefined, undefined, this);\n    const noDataProps = getNoDataProps(finalState, undefined, undefined, this); // Visual Components\n\n    const makeHeaderGroup = (column, i) => {\n      const resizedValue = col => (resized.find(x => x.id === col.id) || {\n        id: undefined,\n        value: undefined\n      }).value;\n\n      const flex = _.sum(column.columns.map(col => col.width || resizedValue(col) ? 0 : col.minWidth));\n\n      const width = _.sum(column.columns.map(col => _.getFirstDefined(resizedValue(col), col.width, col.minWidth)));\n\n      const maxWidth = _.sum(column.columns.map(col => _.getFirstDefined(resizedValue(col), col.width, col.maxWidth)));\n\n      const theadGroupThProps = getTheadGroupProps(finalState, undefined, column, this);\n      const columnHeaderProps = column.getHeaderProps(finalState, undefined, column, this);\n      const rest = Object.assign(Object.assign(Object.assign({}, theadGroupThProps), columnHeaderProps), {\n        CellTextComponent\n      });\n      const flexStyles = {\n        flex: `${flex} 0 auto`,\n        width: _.asPx(width),\n        maxWidth: _.asPx(maxWidth)\n      };\n      return React.createElement(ThComponent, Object.assign({\n        key: `${i}-${column.id}`,\n        style: flexStyles\n      }, rest), _.normalizeComponent(column.Header, {\n        data: sortedData,\n        column\n      }));\n    };\n\n    const selectRow = index => (nextRow, childIndex) => {\n      const selectFirstAvailable = rows => {\n        for (let i = 0; i < rows.length; i += 1) {\n          if (rows[i]) {\n            return rows[i].selectFirstChild(childIndex);\n          }\n        }\n\n        return false;\n      };\n\n      let found;\n\n      if (typeof index === 'number') {\n        const {\n          page,\n          pages\n        } = this.state;\n\n        if (nextRow) {\n          if (pageRows.length > index + 1) {\n            found = this.rowRef[index + 1].selectFirstChild(childIndex);\n          } else if (page < pages - 1) {\n            this.onPageChange(page + 1);\n            found = true;\n          } else {\n            found = selectFirstAvailable([this.footerRef]);\n          }\n        } else if (index > 0) {\n          found = this.rowRef[index - 1].selectFirstChild(childIndex);\n        } else if (page > 0) {\n          this.onPageChange(page - 1);\n          found = true;\n        } else {\n          found = selectFirstAvailable([this.filterRef, this.headerRef, this.headerGroupsRef]);\n        }\n      }\n\n      if (!found) {\n        if (nextRow) {\n          focusNextElement(document);\n        } else {\n          focusPrevElement(document);\n        }\n      }\n    };\n\n    const makeHeaderGroups = () => {\n      const theadGroupProps = getTheadGroupProps(finalState, undefined, undefined, this);\n      const theadGroupTrProps = getTheadGroupTrProps(finalState, undefined, undefined, this);\n      return React.createElement(TheadComponent, Object.assign({\n        style: {\n          minWidth: `${rowMinWidth}px`\n        }\n      }, theadGroupProps), React.createElement(TrComponent, Object.assign({\n        ref: el => {\n          this.headerGroupsRef = el;\n        },\n        selectRow: selectRow('headerGroup')\n      }, theadGroupTrProps), headerGroups.map(makeHeaderGroup)));\n    };\n\n    const makeHeader = (column, i) => {\n      const resizedCol = resized.find(x => x.id === column.id) || {\n        id: undefined,\n        value: undefined\n      };\n      const sort = sorted.find(d => d.id === column.id);\n      const show = typeof column.show === 'function' ? column.show() : column.show;\n\n      const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n      const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n      const theadThProps = getTheadThProps(finalState, undefined, column, this);\n      const columnHeaderProps = column.getHeaderProps(finalState, undefined, column, this);\n      const rest = Object.assign(Object.assign(Object.assign({}, theadThProps), columnHeaderProps), {\n        CellTextComponent\n      });\n\n      const isResizable = _.getFirstDefined(column.resizable, resizable, false);\n\n      const resizer = isResizable ? React.createElement(ResizerComponent, Object.assign({\n        onMouseDown: e => this.resizeColumnStart(e, column, false),\n        onTouchStart: e => this.resizeColumnStart(e, column, true)\n      }, getResizerProps(finalState, undefined, column, this))) : null;\n\n      const isSortable = _.getFirstDefined(column.sortable, sortable, false);\n\n      return React.createElement(ThComponent, Object.assign({\n        key: `${i}-${column.id}`,\n        sort: sort && (sort.desc ? '-sort-desc' : '-sort-asc'),\n        resizable: isResizable,\n        sortable: isSortable,\n        hidden: !show,\n        expander: column.expander,\n        pivot: pivotBy && pivotBy.slice(0, -1).includes(column.id),\n        style: {\n          flex: `${width} 0 auto`,\n          width: _.asPx(width),\n          maxWidth: _.asPx(maxWidth)\n        },\n        toggleSort: e => {\n          if (isSortable) this.sortColumn(column, multiSort ? e.shiftKey : false);\n        }\n      }, rest), _.normalizeComponent(column.Header, {\n        data: sortedData,\n        column\n      }), resizer);\n    };\n\n    const makeHeaders = () => {\n      const theadProps = getTheadProps(finalState, undefined, undefined, this);\n      const theadTrProps = getTheadTrProps(finalState, undefined, undefined, this);\n      return React.createElement(TheadComponent, Object.assign({\n        header: true,\n        style: {\n          minWidth: `${rowMinWidth}px`\n        }\n      }, theadProps), React.createElement(TrComponent, Object.assign({\n        ref: el => {\n          this.headerRef = el;\n        },\n        selectRow: selectRow('header')\n      }, theadTrProps), allVisibleColumns.map(makeHeader)));\n    };\n\n    const makeFilter = (column, i) => {\n      const resizedCol = resized.find(x => x.id === column.id) || {\n        id: undefined,\n        value: undefined\n      };\n\n      const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n      const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n      const theadFilterThProps = getTheadFilterThProps(finalState, undefined, column, this);\n      const filterInputProps = getFilterInputProps(finalState, undefined, column, this);\n      const columnHeaderProps = column.getFilterProps(finalState, undefined, column, this);\n      const rest = Object.assign(Object.assign(Object.assign({}, theadFilterThProps), columnHeaderProps), {\n        CellTextComponent\n      });\n      const filter = filtered.find(filter => filter.id === column.id);\n      const ResolvedFilterComponent = column.Filter || FilterComponent;\n\n      const isFilterable = _.getFirstDefined(column.filterable, filterable, false);\n\n      return React.createElement(ThComponent, Object.assign({\n        key: `${i}-${column.id}`,\n        style: {\n          flex: `${width} 0 auto`,\n          width: _.asPx(width),\n          maxWidth: _.asPx(maxWidth)\n        }\n      }, rest), isFilterable ? _.normalizeComponent(ResolvedFilterComponent, Object.assign(Object.assign({}, filterInputProps), {\n        column,\n        filter,\n        onChange: value => this.filterColumn(column, value)\n      }), undefined) : null);\n    };\n\n    const makeFilters = () => {\n      const theadFilterProps = getTheadFilterProps(finalState, undefined, undefined, this);\n      const theadFilterTrProps = getTheadFilterTrProps(finalState, undefined, undefined, this);\n      return React.createElement(TheadComponent, Object.assign({\n        filters: true,\n        style: {\n          minWidth: `${rowMinWidth}px`\n        }\n      }, theadFilterProps), React.createElement(TrComponent, Object.assign({\n        ref: el => {\n          this.filterRef = el;\n        },\n        selectRow: selectRow('filter')\n      }, theadFilterTrProps), allVisibleColumns.map(makeFilter)));\n    };\n\n    const makePageRow = (row, i, path = []) => {\n      const rowInfo = {\n        original: row[originalKey],\n        row,\n        index: row[indexKey],\n        viewIndex: rowIndex += 1,\n        pageSize,\n        page,\n        level: path.length,\n        nestingPath: path.concat([i]),\n        aggregated: row[aggregatedKey],\n        groupedByPivot: row[groupedByPivotKey],\n        subRows: row[subRowsKey]\n      };\n\n      const isExpanded = _.get(expanded, rowInfo.nestingPath);\n\n      const trGroupProps = getTrGroupProps(finalState, rowInfo, undefined, this);\n      const expanderProps = getExpanderProps(finalState, rowInfo, undefined, this);\n      const trProps = getTrProps(row.viewIndex % 2, finalState, rowInfo, undefined, this);\n      return React.createElement(TrGroupComponent, Object.assign({\n        key: rowInfo.nestingPath.join('_')\n      }, trGroupProps), React.createElement(TrComponent, Object.assign({\n        selectRow: selectRow(i),\n        ref: el => {\n          this.rowRef[i] = el;\n        },\n        rowIndex: row.viewIndex\n      }, trProps), allVisibleColumns.map((column, i2) => {\n        let defaultTdProps = {};\n        const resizedCol = resized.find(x => x.id === column.id) || {\n          id: undefined,\n          value: undefined\n        };\n        const show = typeof column.show === 'function' ? column.show() : column.show;\n\n        const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n        const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n        const tdProps = getTdProps(finalState, rowInfo, column, this);\n        const columnProps = column.getProps(finalState, rowInfo, column);\n        const cellInfo = Object.assign(Object.assign(Object.assign(Object.assign({}, rowInfo), {\n          isExpanded,\n          column: Object.assign({}, column),\n          value: rowInfo.row[column.id],\n          pivoted: column.pivoted,\n          expander: column.expander,\n          expandable: undefined,\n          resized,\n          show,\n          width,\n          maxWidth\n        }), tdProps), columnProps);\n        let value = cellInfo.value;\n        let useOnExpanderClick;\n        let isBranch;\n        let isPreview;\n\n        const onExpanderClick = e => {\n          let newExpanded = _.clone(expanded);\n\n          if (isExpanded) {\n            newExpanded = _.set(newExpanded, cellInfo.nestingPath, false);\n          } else {\n            newExpanded = _.set(newExpanded, cellInfo.nestingPath, {});\n          }\n\n          return this.setStateWithData({\n            expanded: newExpanded\n          }, this.state, this.props, () => onExpandedChange && onExpandedChange(newExpanded, cellInfo.nestingPath, e));\n        }; // Default to a standard cell\n\n\n        if (column.Cell) {\n          value = _.normalizeComponent(column.Cell, cellInfo, value);\n        }\n\n        const cellProps = Object.assign(Object.assign({}, tdProps), columnProps);\n        let resolvedCell = React.createElement(CellTextComponent, Object.assign({\n          value: value\n        }, cellProps)); // Resolve Renderers\n\n        const ResolvedAggregatedComponent = column.Aggregated || (!column.aggregate ? AggregatedComponent : column.Cell);\n        const ResolvedExpanderComponent = column.Expander || ExpanderComponent;\n        const ResolvedPivotValueComponent = column.PivotValue || PivotValueComponent;\n\n        const DefaultResolvedPivotComponent = PivotComponent || (props => React.createElement(React.Fragment, null, React.createElement(ResolvedExpanderComponent, Object.assign({}, Object.assign(Object.assign({}, props), {\n          expanderProps\n        }))), React.createElement(ResolvedPivotValueComponent, Object.assign({}, props))));\n\n        const ResolvedPivotComponent = column.Pivot || DefaultResolvedPivotComponent; // Is this cell expandable?\n\n        if (cellInfo.pivoted || cellInfo.expander) {\n          // Make it expandable by defualt\n          cellInfo.expandable = true;\n          useOnExpanderClick = true; // If pivoted, has no subRows, and does not have a subComponent,\n          // do not make expandable\n\n          if (cellInfo.pivoted && !cellInfo.subRows && !SubComponent) {\n            cellInfo.expandable = false;\n          }\n        }\n\n        if (cellInfo.pivoted) {\n          // Is this column a branch?\n          isBranch = rowInfo.row[pivotIDKey] === column.id && cellInfo.subRows; // Should this column be blank?\n\n          isPreview = pivotBy.indexOf(column.id) > pivotBy.indexOf(rowInfo.row[pivotIDKey]) && cellInfo.subRows; // Pivot Cell Render Override\n\n          if (isBranch) {\n            // isPivot\n            resolvedCell = _.normalizeComponent(ResolvedPivotComponent, Object.assign(Object.assign({}, cellInfo), {\n              value: row[pivotValKey]\n            }), row[pivotValKey]);\n          } else if (isPreview) {\n            // Show the pivot preview\n            resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value);\n          } else {\n            resolvedCell = null;\n          }\n        } else if (cellInfo.aggregated) {\n          resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value);\n        }\n\n        if (cellInfo.expander) {\n          defaultTdProps = expanderTdDefaultProps;\n          resolvedCell = _.normalizeComponent(ResolvedExpanderComponent, Object.assign(Object.assign({}, cellInfo), {\n            expanderProps\n          }), row[pivotValKey]);\n\n          if (pivotBy) {\n            if (cellInfo.groupedByPivot) {\n              resolvedCell = null;\n            }\n\n            if (!cellInfo.subRows && !SubComponent) {\n              resolvedCell = null;\n            }\n          }\n        }\n\n        const resolvedOnExpanderClick = useOnExpanderClick ? onExpanderClick : () => {}; // If there are multiple onClick events, make sure they don't\n        // override eachother. This should maybe be expanded to handle all\n        // function attributes\n\n        const interactionProps = {\n          onClick: resolvedOnExpanderClick\n        };\n\n        if (tdProps.onClick) {\n          interactionProps.onClick = e => {\n            tdProps.onClick(e, () => resolvedOnExpanderClick(e));\n          };\n        }\n\n        if (columnProps.onClick) {\n          interactionProps.onClick = e => {\n            columnProps.onClick(e, () => resolvedOnExpanderClick(e));\n          };\n        } // Return the cell\n\n\n        return React.createElement(TdComponent // eslint-disable-next-line react/no-array-index-key\n        , Object.assign({\n          // eslint-disable-next-line react/no-array-index-key\n          key: `${i2}-${column.id}`,\n          hidden: !show,\n          style: {\n            flex: `${width} 0 auto`,\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth)\n          }\n        }, tdProps, columnProps, interactionProps, defaultTdProps), resolvedCell);\n      })), rowInfo.subRows && isExpanded && rowInfo.subRows.map((d, i) => makePageRow(d, i, rowInfo.nestingPath)), SubComponent && !rowInfo.subRows && isExpanded && SubComponent(rowInfo));\n    };\n\n    const makePadColumn = (column, i) => {\n      const resizedCol = resized.find(x => x.id === column.id) || {\n        id: undefined,\n        value: undefined\n      };\n      const show = typeof column.show === 'function' ? column.show() : column.show;\n\n      const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n      const flex = width;\n\n      const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n      const tdProps = getTdProps(finalState, undefined, column, this);\n      return React.createElement(TdComponent, Object.assign({\n        key: `${i}-${column.id}`,\n        hidden: !show,\n        style: {\n          flex: `${flex} 0 auto`,\n          width: _.asPx(width),\n          maxWidth: _.asPx(maxWidth)\n        }\n      }, tdProps), _.normalizeComponent(PadRowComponent));\n    };\n\n    const makePadRow = (row, i) => {\n      const trGroupProps = getTrGroupProps(finalState, undefined, undefined, this);\n      const trProps = getTrProps(row.viewIndex % 2, finalState, undefined, undefined, this);\n      return React.createElement(TrGroupComponent, Object.assign({\n        key: i\n      }, trGroupProps), React.createElement(TrComponent, Object.assign({\n        padrow: true,\n        even: (pageRows.length + i) % 2\n      }, trProps), allVisibleColumns.map(makePadColumn)));\n    };\n\n    const makeColumnFooter = (column, i) => {\n      const resizedCol = resized.find(x => x.id === column.id) || {\n        id: undefined,\n        value: undefined\n      };\n      const show = typeof column.show === 'function' ? column.show() : column.show;\n\n      const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\n\n      const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\n\n      const tFootTdProps = getTfootTdProps(finalState, undefined, undefined, this);\n      const columnProps = column.getProps(finalState, undefined, column, this);\n      const columnFooterProps = column.getFooterProps(finalState, undefined, column, this);\n      return React.createElement(TdComponent, Object.assign({\n        key: `${i}-${column.id}`,\n        hidden: !show,\n        style: {\n          flex: `${width} 0 auto`,\n          width: _.asPx(width),\n          maxWidth: _.asPx(maxWidth)\n        }\n      }, columnProps, tFootTdProps, columnFooterProps), _.normalizeComponent(column.Footer, {\n        data: sortedData,\n        column\n      }));\n    };\n\n    const makeColumnFooters = () => {\n      const tFootProps = getTfootProps(finalState, undefined, undefined, this);\n      const tFootTrProps = getTfootTrProps(finalState, undefined, undefined, this);\n      return React.createElement(TfootComponent, Object.assign({\n        style: {\n          minWidth: `${rowMinWidth}px`\n        }\n      }, tFootProps), React.createElement(TrComponent, Object.assign({\n        ref: el => {\n          this.footerRef = el;\n        },\n        selectRow: selectRow('footer')\n      }, tFootTrProps), allVisibleColumns.map(makeColumnFooter)));\n    };\n\n    const makePagination = () => {\n      const paginationProps = getPaginationProps(finalState, undefined, undefined, this);\n      return React.createElement(PaginationComponent, Object.assign({}, resolvedState, {\n        pages: pages,\n        canPrevious: canPrevious,\n        canNext: canNext,\n        onPageChange: this.onPageChange,\n        onPageSizeChange: this.onPageSizeChange\n      }, paginationProps));\n    };\n\n    const makeTable = () => {\n      const pagination = makePagination();\n      return React.createElement(\"div\", Object.assign({}, rootProps), showPagination && showPaginationTop ? React.createElement(\"div\", null, pagination) : null, React.createElement(TableComponent, Object.assign({}, tableProps), hasHeaderGroups ? makeHeaderGroups() : null, makeHeaders(), hasFilters ? makeFilters() : null, React.createElement(TbodyComponent, Object.assign({\n        style: {\n          minWidth: `${rowMinWidth}px`\n        }\n      }, tBodyProps), React.createElement(LoadingComponent, Object.assign({\n        loading: loading,\n        loadingText: loadingText\n      }, loadingProps)), pageRows.map((d, i) => makePageRow(d, i)), padRows.map(makePadRow)), hasColumnFooter ? makeColumnFooters() : null), showPagination && showPaginationBottom ? React.createElement(\"div\", null, pagination) : null, !pageRows.length && !loading && React.createElement(NoDataComponent, Object.assign({}, noDataProps), _.normalizeComponent(noDataText)));\n    }; // childProps are optionally passed to a function-as-a-child\n\n\n    return makeTable();\n  }\n\n}\n\nReactTable.defaultProps = defaultProps;\n\nReactTable.getDataModel = (newState, props) => {\n  const {\n    columns,\n    pivotBy = [],\n    data,\n    pivotIDKey,\n    pivotValKey,\n    subRowsKey,\n    aggregatedKey,\n    nestingLevelKey,\n    originalKey,\n    indexKey,\n    groupedByPivotKey,\n    SubComponent\n  } = newState; // Determine Header Groups\n\n  let hasHeaderGroups = false;\n  columns.forEach(column => {\n    if (column.columns) {\n      hasHeaderGroups = true;\n    }\n  });\n  let columnsWithExpander = [...columns];\n  let expanderColumn = columns.find(col => col.expander || col.columns && col.columns.some(col2 => col2.expander)); // The actual expander might be in the columns field of a group column\n\n  if (expanderColumn && !expanderColumn.expander) {\n    expanderColumn = expanderColumn.columns.find(col => col.expander);\n  } // If we have SubComponent's we need to make sure we have an expander column\n\n\n  if (SubComponent && !expanderColumn) {\n    expanderColumn = {\n      expander: true\n    };\n    columnsWithExpander = [expanderColumn, ...columnsWithExpander];\n  }\n\n  const makeDecoratedColumn = (column, parentColumn) => {\n    let dcol;\n\n    if (column.expander) {\n      dcol = Object.assign(Object.assign(Object.assign({}, props.column), props.expanderDefaults), column);\n    } else {\n      dcol = Object.assign(Object.assign({}, props.column), column);\n    } // Ensure minWidth is not greater than maxWidth if set\n\n\n    if (dcol.maxWidth < dcol.minWidth) {\n      dcol.minWidth = dcol.maxWidth;\n    }\n\n    if (parentColumn) {\n      dcol.parentColumn = parentColumn;\n    } // First check for string accessor\n\n\n    if (typeof dcol.accessor === 'string') {\n      dcol.id = dcol.id || dcol.accessor;\n      const accessorString = dcol.accessor;\n\n      dcol.accessor = row => _.get(row, accessorString);\n\n      return dcol;\n    } // Fall back to functional accessor (but require an ID)\n\n\n    if (dcol.accessor && !dcol.id) {\n      console.warn(dcol);\n      throw new Error('A column id is required if using a non-string accessor for column above.');\n    } // Fall back to an undefined accessor\n\n\n    if (!dcol.accessor) {\n      dcol.accessor = () => undefined;\n    }\n\n    return dcol;\n  };\n\n  const allDecoratedColumns = []; // Decorate the columns\n\n  const decorateAndAddToAll = (column, parentColumn) => {\n    const decoratedColumn = makeDecoratedColumn(column, parentColumn);\n    allDecoratedColumns.push(decoratedColumn);\n    return decoratedColumn;\n  };\n\n  const decoratedColumns = columnsWithExpander.map(column => {\n    if (column.columns) {\n      return Object.assign(Object.assign({}, column), {\n        columns: column.columns.map(d => decorateAndAddToAll(d, column))\n      });\n    }\n\n    return decorateAndAddToAll(column);\n  }); // Build the visible columns, headers and flat column list\n\n  let visibleColumns = decoratedColumns.slice();\n  let allVisibleColumns = [];\n  visibleColumns = visibleColumns.map(column => {\n    if (column.columns) {\n      const visibleSubColumns = column.columns.filter(d => pivotBy.indexOf(d.id) > -1 ? false : _.getFirstDefined(d.show, true));\n      return Object.assign(Object.assign({}, column), {\n        columns: visibleSubColumns\n      });\n    }\n\n    return column;\n  });\n  visibleColumns = visibleColumns.filter(column => column.columns ? column.columns.length : pivotBy.indexOf(column.id) > -1 ? false : _.getFirstDefined(column.show, true)); // Find any custom pivot location\n\n  const pivotIndex = visibleColumns.findIndex(col => col.pivot); // Handle Pivot Columns\n\n  if (pivotBy.length) {\n    // Retrieve the pivot columns in the correct pivot order\n    const pivotColumns = [];\n    pivotBy.forEach(pivotID => {\n      const found = allDecoratedColumns.find(d => d.id === pivotID);\n\n      if (found) {\n        pivotColumns.push(found);\n      }\n    });\n    const PivotParentColumn = pivotColumns.reduce((prev, current) => prev && prev === current.parentColumn && current.parentColumn, pivotColumns[0].parentColumn);\n    const PivotGroupHeader = hasHeaderGroups && (PivotParentColumn ? PivotParentColumn.Header : pivotColumns[0].PivotHeader || pivotColumns[0].Header);\n    let pivotColumnGroup = {\n      Header: PivotGroupHeader,\n      columns: pivotColumns.map(col => Object.assign(Object.assign(Object.assign({}, props.pivotDefaults), col), {\n        pivoted: true\n      }))\n    }; // Place the pivotColumns back into the visibleColumns\n\n    if (pivotIndex >= 0) {\n      pivotColumnGroup = Object.assign(Object.assign({}, visibleColumns[pivotIndex]), pivotColumnGroup);\n      visibleColumns.splice(pivotIndex, 1, pivotColumnGroup);\n    } else {\n      visibleColumns.unshift(pivotColumnGroup);\n    }\n  } // Build Header Groups\n\n\n  const headerGroups = [];\n  let currentSpan = []; // A convenience function to add a header and reset the currentSpan\n\n  const addHeader = (columns, column) => {\n    headerGroups.push(Object.assign(Object.assign(Object.assign({}, props.column), column), {\n      columns\n    }));\n    currentSpan = [];\n  }; // Build flast list of allVisibleColumns and HeaderGroups\n\n\n  visibleColumns.forEach(column => {\n    if (column.columns) {\n      allVisibleColumns = allVisibleColumns.concat(column.columns);\n\n      if (currentSpan.length > 0) {\n        addHeader(currentSpan);\n      }\n\n      addHeader(column.columns, column);\n      return;\n    }\n\n    allVisibleColumns.push(column);\n    currentSpan.push(column);\n  });\n\n  if (hasHeaderGroups && currentSpan.length > 0) {\n    addHeader(currentSpan);\n  } // Access the data\n\n\n  const accessRow = (d, i, level = 0) => {\n    const row = {\n      [originalKey]: d,\n      [indexKey]: i,\n      [subRowsKey]: d[subRowsKey],\n      [nestingLevelKey]: level\n    };\n    allDecoratedColumns.forEach(column => {\n      if (column.expander) return;\n      row[column.id] = column.accessor(d);\n    });\n\n    if (row[subRowsKey]) {\n      row[subRowsKey] = row[subRowsKey].map((d, i) => accessRow(d, i, level + 1));\n    }\n\n    return row;\n  };\n\n  let resolvedData = data.map((d, i) => accessRow(d, i));\n  const aggregatingColumns = allVisibleColumns.filter(d => !d.expander && d.aggregate); // If pivoting, recursively group the data\n\n  const aggregate = rows => {\n    const aggregationValues = {};\n    aggregatingColumns.forEach(column => {\n      const values = rows.map(d => d[column.id]);\n      aggregationValues[column.id] = column.aggregate(values, rows);\n    });\n    return aggregationValues;\n  };\n\n  if (pivotBy.length) {\n    const groupRecursively = (rows, keys, i = 0) => {\n      // This is the last level, just return the rows\n      if (i === keys.length) {\n        return rows;\n      } // Group the rows together for this level\n\n\n      let groupedRows = Object.entries(_.groupBy(rows, keys[i])).map(([key, value]) => ({\n        [pivotIDKey]: keys[i],\n        [pivotValKey]: key,\n        [keys[i]]: key,\n        [subRowsKey]: value,\n        [nestingLevelKey]: i,\n        [groupedByPivotKey]: true\n      })); // Recurse into the subRows\n\n      groupedRows = groupedRows.map(rowGroup => {\n        const subRows = groupRecursively(rowGroup[subRowsKey], keys, i + 1);\n        return Object.assign(Object.assign(Object.assign({}, rowGroup), {\n          [subRowsKey]: subRows,\n          [aggregatedKey]: true\n        }), aggregate(subRows));\n      });\n      return groupedRows;\n    };\n\n    resolvedData = groupRecursively(resolvedData, pivotBy);\n  }\n\n  return Object.assign(Object.assign({}, newState), {\n    resolvedData,\n    allVisibleColumns,\n    headerGroups,\n    allDecoratedColumns,\n    hasHeaderGroups\n  });\n};\n\nReactTable.getSortedData = (resolvedState, props) => {\n  const {\n    manual,\n    sorted,\n    filtered,\n    defaultFilterMethod,\n    resolvedData,\n    allVisibleColumns,\n    allDecoratedColumns\n  } = resolvedState;\n  const sortMethodsByColumnID = {};\n  allDecoratedColumns.filter(col => col.sortMethod).forEach(col => {\n    sortMethodsByColumnID[col.id] = col.sortMethod;\n  }); // Resolve the data from either manual data or sorted data\n\n  return {\n    sortedData: manual ? resolvedData : ReactTable.sortData(ReactTable.filterData(resolvedData, filtered, defaultFilterMethod, allVisibleColumns, props), sorted, sortMethodsByColumnID, props)\n  };\n};\n\nReactTable.filterData = (data, filtered, defaultFilterMethod, allVisibleColumns, props) => {\n  let filteredData = data;\n\n  if (filtered.length) {\n    filteredData = filtered.reduce((filteredSoFar, nextFilter) => {\n      const column = allVisibleColumns.find(x => x.id === nextFilter.id); // Don't filter hidden columns or columns that have had their filters disabled\n\n      if (!column || column.filterable === false) {\n        return filteredSoFar;\n      }\n\n      const filterMethod = column.filterMethod || defaultFilterMethod; // If 'filterAll' is set to true, pass the entire dataset to the filter method\n\n      if (column.filterAll) {\n        return filterMethod(nextFilter, filteredSoFar, column);\n      }\n\n      return filteredSoFar.filter(row => filterMethod(nextFilter, row, column));\n    }, filteredData); // Apply the filter to the subrows if we are pivoting, and then\n    // filter any rows without subcolumns because it would be strange to show\n\n    filteredData = filteredData.map(row => {\n      if (!row[props.subRowsKey]) {\n        return row;\n      }\n\n      return Object.assign(Object.assign({}, row), {\n        [props.subRowsKey]: ReactTable.filterData(row[props.subRowsKey], filtered, defaultFilterMethod, allVisibleColumns, props)\n      });\n    }).filter(row => {\n      if (!row[props.subRowsKey]) {\n        return true;\n      }\n\n      return row[props.subRowsKey].length > 0;\n    });\n  }\n\n  return filteredData;\n};\n\nReactTable.sortData = (data, sorted, sortMethodsByColumnID = {}, props) => {\n  if (!sorted.length) {\n    return data;\n  }\n\n  const sortedData = _.orderBy(data, sorted.map(sort => {\n    // Support custom sorting methods for each column\n    if (sortMethodsByColumnID[sort.id]) {\n      return (a, b) => sortMethodsByColumnID[sort.id](a[sort.id], b[sort.id], sort.desc);\n    }\n\n    return (a, b) => props.defaultSortMethod(a[sort.id], b[sort.id], sort.desc);\n  }), sorted.map(d => !d.desc), props.indexKey);\n\n  sortedData.forEach(row => {\n    if (!row[props.subRowsKey]) {\n      return;\n    }\n\n    row[props.subRowsKey] = ReactTable.sortData(row[props.subRowsKey], sorted, sortMethodsByColumnID, props);\n  });\n  return sortedData;\n};\n\nconst StyledPagingTable = styled(ReactTable)`\n  max-width: 100%;\n  width: 100%;\n  overflow: hidden;\n`;\n\nconst responsiveColumns = (size, columns) => Array.isArray(columns) ? columns.map(column => {\n  if (size === undefined) {\n    return column;\n  }\n\n  let {\n    show\n  } = column;\n\n  if (column.responsiveShow) {\n    const sizes = Array.isArray(column.responsiveShow) ? column.responsiveShow : [column.responsiveShow];\n\n    if (sizes.indexOf(size) !== -1) {\n      show = true;\n    }\n  }\n\n  if (column.responsiveHide) {\n    const sizes = Array.isArray(column.responsiveHide) ? column.responsiveHide : [column.responsiveHide];\n\n    if (sizes.indexOf(size) !== -1) {\n      show = false;\n    }\n  }\n\n  if (show === undefined) {\n    return column;\n  }\n\n  return Object.assign(Object.assign({}, column), {\n    show\n  });\n}) : columns;\n/**\r\n * Table component with pagination, filtering, footer, child rows and grouping<br/>\r\n * Derived from https://github.com/react-tools/react-table<br/>\r\n * `import { PagingTable } from 'grommet-controls';`<br/>\r\n * `<PagingTable columns={...} data={...} />`<br/>\r\n */\n\n\nconst PagingTable = _a => {\n  var {\n    data,\n    columns\n  } = _a,\n      rest = __rest(_a, [\"data\", \"columns\"]);\n\n  const defaults = {\n    showPagination: rest.onFetchData !== undefined || data && data.length > (rest.defaultPageSize || 20),\n    minRows: data && data.length < (rest.defaultPageSize || 20) ? 0 : undefined\n  };\n  const newProps = Object.assign(Object.assign({}, defaults), rest);\n  return React.createElement(ResponsiveContext.Consumer, null, size => React.createElement(ThemeContext.Consumer, null, theme => React.createElement(StyledPagingTable, Object.assign({\n    data: data || [],\n    columns: responsiveColumns(size, columns),\n    theme: theme\n  }, newProps))));\n};\n\nPagingTable.defaultProps = {\n  defaultPageSize: 20,\n  filterable: false,\n  loading: false,\n  manual: false,\n  resizable: true,\n  showPagination: true,\n  sortable: true\n};\n/**\r\n * A Select field with form validation<br/>\r\n */\n\nconst SelectField = props => React.createElement(WithFormField, Object.assign({}, props), _a => {\n  var {\n    options\n  } = _a,\n      rest = __rest(_a, [\"options\"]);\n\n  return React.createElement(Select, Object.assign({\n    options: options\n  }, rest));\n});\n/** Collapsible side bar component\r\n * ```$ npm install grommet-controls\r\n * import { Sidebar } from 'grommet-controls';\r\n * <Sidebar title='My title'>\r\n       ...\r\n * </Sidebar>\r\n * ```\r\n */\n\n\nconst Sidebar = _a => {\n  var {\n    title,\n    width,\n    children,\n    collapsible\n  } = _a,\n      rest = __rest(_a, [\"title\", \"width\", \"children\", \"collapsible\"]);\n\n  const [collapsed, setCollapsed] = React.useState(undefined);\n\n  const BtnToggle = ({\n    view\n  }) => collapsible ? React.createElement(Button, {\n    icon: React.createElement(Menu, null),\n    onClick: () => setCollapsed(view !== 'collapsed')\n  }) : null;\n\n  return React.createElement(ResponsiveContext.Consumer, null, size => collapsible && size === 'small' && collapsed === undefined || collapsed === true ? React.createElement(Box, {\n    align: \"start\"\n  }, React.createElement(BtnToggle, {\n    view: \"collapsed\"\n  })) : React.createElement(Box, Object.assign({\n    width: width\n  }, rest), React.createElement(Box, {\n    pad: {\n      bottom: 'small'\n    },\n    gap: \"small\",\n    direction: \"row\",\n    align: \"center\"\n  }, React.createElement(BtnToggle, {\n    view: \"expanded\"\n  }), title && React.createElement(Box, {\n    flex: false,\n    tag: \"header\"\n  }, typeof title === 'string' ? React.createElement(Heading, {\n    margin: \"none\",\n    level: 3\n  }, title) : title)), children));\n};\n\nSidebar.defaultProps = {\n  title: undefined,\n  width: 'medium',\n  collapsible: true\n};\nconst disabledStyle = `\n  opacity: 0.4;\n  cursor: default;\n`;\nconst StyledIcon = styled.span`\n  display: inline-block;\n  > * {\n    vertical-align: bottom;\n  }\n  ${props => !props.disabled && 'cursor: pointer;'}\n`;\nconst StyledTag = styled(Box)`\n  ${props => backgroundStyle(props.background || 'brand', props.theme)}\n  ${props => props.onClick && 'cursor: pointer;'}\n  user-select: none;\n  ${props => props.disabled && disabledStyle}\n`;\n/**\r\n * A tag control with a label and icon<br/>\r\n * `import { Tag } from 'grommet-controls';`<br/>\r\n * `<Tag label={...} icon={...} />`<br/>\r\n */\n\nconst Tag = React.forwardRef((_a, ref) => {\n  var {\n    disabled,\n    label,\n    a11yTitle,\n    reverse,\n    background,\n    onClick,\n    onChange,\n    icon,\n    color,\n    focusable,\n    round,\n    size,\n    truncate\n  } = _a,\n      rest = __rest(_a, [\"disabled\", \"label\", \"a11yTitle\", \"reverse\", \"background\", \"onClick\", \"onChange\", \"icon\", \"color\", \"focusable\", \"round\", \"size\", \"truncate\"]);\n\n  const clickTag = e => {\n    if (!disabled && onClick) {\n      onClick(e);\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const toggleTag = e => {\n    if (!disabled && onChange) {\n      e.preventDefault();\n      e.stopPropagation();\n      onChange(e);\n    }\n  };\n\n  const tagRound = round;\n  const canFocus = focusable && !disabled && !!(onClick || onChange);\n  return React.createElement(Keyboard, {\n    onEnter: clickTag,\n    onSpace: toggleTag\n  }, React.createElement(ThemeContext.Consumer, null, theme => {\n    let closeIcon;\n\n    if (icon || onChange) {\n      closeIcon = React.createElement(StyledIcon, {\n        theme: theme,\n        disabled: disabled,\n        onClick: onChange\n      }, icon || React.createElement(FormClose, {\n        theme: theme\n      }));\n    }\n\n    return React.createElement(StyledTag, Object.assign({\n      ref: ref,\n      direction: reverse ? 'row-reverse' : 'row',\n      justify: \"between\",\n      align: \"center\",\n      a11yTitle: a11yTitle,\n      round: tagRound,\n      onClick: onClick && clickTag,\n      role: \"checkbox\",\n      \"aria-checked\": true,\n      tabIndex: canFocus ? 0 : undefined,\n      background: background,\n      disabled: disabled,\n      theme: theme\n    }, rest), reverse && closeIcon, React.isValidElement(label) ? label : React.createElement(Text, {\n      color: color,\n      size: size,\n      truncate: truncate\n    }, label && label.toString()), !reverse && closeIcon);\n  }));\n});\nTag.displayName = 'Tag';\nTag.defaultProps = {\n  label: 'Text',\n  pad: {\n    horizontal: 'xsmall'\n  },\n  focusable: true\n};\n\nconst TagsSelect = props => {\n  const _a = props || {\n    tagProps: {}\n  },\n        {\n    tagProps\n  } = _a,\n        rest = __rest(_a, [\"tagProps\"]);\n\n  return ({\n    placeholder,\n    value,\n    onChange\n  }) => React.createElement(Tags, Object.assign({\n    focusable: false,\n    placeholder: placeholder,\n    value: value,\n    onChange: onChange,\n    tagProps: Object.assign(Object.assign({}, tagProps), {\n      onClick: e => e.stopPropagation()\n    })\n  }, rest));\n};\n/**\r\n * A list of tags that can be removed<b/>\r\n * `import { Tags } from 'grommet-controls';`<b/>\r\n * `<Tags />`<b/>\r\n */\n\n\nclass Tags extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      selectedTagIndex: -1\n    };\n    this.tagRefs = [];\n    this.elementRef = React.createRef();\n\n    this.selectTag = selected => {\n      const {\n        onChange,\n        value\n      } = this.props;\n\n      if (onChange) {\n        let tags = selected;\n\n        if (Array.isArray(value)) {\n          const index = value.indexOf(tags);\n\n          if (index !== -1) {\n            tags = value.filter(item => item !== selected);\n          } else {\n            tags = [...value, tags];\n          }\n        } else {\n          tags = [tags];\n        }\n\n        onChange({\n          target: findDOMNode(this.elementRef.current),\n          option: selected,\n          value: tags\n        });\n      }\n    };\n\n    this.onNextTag = event => {\n      const {\n        value\n      } = this.props;\n      const {\n        selectedTagIndex\n      } = this.state;\n      event.preventDefault();\n      let index = selectedTagIndex + 1;\n\n      if (index >= value.length) {\n        index = 0;\n      }\n\n      this.focusTag(index);\n    };\n\n    this.onPreviousTag = event => {\n      const {\n        selectedTagIndex\n      } = this.state;\n      const {\n        value\n      } = this.props;\n      event.preventDefault();\n      let index = selectedTagIndex - 1;\n\n      if (index < 0) {\n        index = value.length - 1;\n      }\n\n      this.focusTag(index);\n    };\n\n    this.onSelectTag = event => {\n      const {\n        value\n      } = this.props;\n      const {\n        selectedTagIndex\n      } = this.state;\n\n      if (selectedTagIndex >= 0 && selectedTagIndex < value.length) {\n        event.preventDefault(); // prevent submitting forms\n\n        event.stopPropagation();\n        this.selectTag(value[selectedTagIndex]);\n      }\n    };\n\n    this.onCloseClick = (e, tag) => {\n      e.stopPropagation();\n      this.selectTag(tag);\n    };\n  }\n\n  focusTag(index) {\n    if (index >= 0 && index < this.tagRefs.length) {\n      const tagElement = findDOMNode(this.tagRefs[index].current);\n\n      if (tagElement && typeof tagElement.focus === 'function') {\n        tagElement.focus();\n      }\n\n      this.setState({\n        selectedTagIndex: index\n      });\n    }\n  }\n\n  render() {\n    const _a = this.props,\n          {\n      placeholder,\n      children,\n      value,\n      onChange,\n      focusable,\n      onClick,\n      direction,\n      icon,\n      tagProps\n    } = _a,\n          rest = __rest(_a, [\"placeholder\", \"children\", \"value\", \"onChange\", \"focusable\", \"onClick\", \"direction\", \"icon\", \"tagProps\"]);\n\n    let noValues;\n\n    if (!value || Array.isArray(value) && value.length === 0) {\n      noValues = React.isValidElement(placeholder) ? placeholder : // placeholder. minimum height of icon to keep size\n      React.createElement(Text, {\n        color: 'placeholder',\n        style: {\n          minHeight: '24px'\n        }\n      }, placeholder || 'No selection');\n    }\n\n    let values;\n\n    if (Array.isArray(value)) {\n      values = value;\n    } else {\n      values = value ? [value] : [];\n    }\n\n    return React.createElement(Keyboard, {\n      onEnter: this.onSelectTag,\n      onSpace: this.onSelectTag,\n      onLeft: this.onPreviousTag,\n      onRight: this.onNextTag\n    }, React.createElement(Box, Object.assign({\n      tabIndex: focusable ? 0 : undefined,\n      ref: this.elementRef,\n      direction: direction,\n      overflow: 'auto',\n      style: {\n        minWidth: 'auto'\n      }\n    }, rest), noValues || values.map((tag, index) => {\n      if (children) {\n        return children(tag, index, value);\n      }\n\n      if (!this.tagRefs[index]) {\n        this.tagRefs[index] = React.createRef();\n      }\n\n      return React.createElement(Tag, Object.assign({\n        key: `tag_${tag}_${index}`,\n        ariaChecked: true,\n        a11yTitle: `Remove ${tag.toString()}`,\n        label: typeof tag !== 'object' ? tag.toString() : undefined,\n        ref: this.tagRefs[index],\n        onClick: onClick ? e => onClick(e, tag) : undefined,\n        onChange: onChange ? e => this.onCloseClick(e, tag) : undefined,\n        icon: icon\n      }, typeof tag === 'object' ? Object.assign(Object.assign({}, tagProps), tag) : tagProps));\n    })));\n  }\n\n}\n\nTags.defaultProps = {\n  pad: 'small',\n  focusable: true,\n  margin: {\n    horizontal: 'xsmall',\n    vertical: 'small'\n  },\n  value: [],\n  gap: 'xsmall',\n  direction: 'row-responsive',\n  icon: React.createElement(FormClose, null)\n};\n/**\r\n * A TextArea field with form validation<br/>\r\n */\n\nconst TextAreaField = props => React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(TextArea, Object.assign({}, childProps)));\n/**\r\n * A TextInput field with form validation<br/>\r\n */\n\n\nconst TextInputField = props => React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(TextInput, Object.assign({}, childProps)));\n\nconst aqua$1 = '#00ffff';\nconst azure = '#f0ffff';\nconst beige = '#f5f5dc';\nconst black$1 = '#000000';\nconst blue$2 = '#0000ff';\nconst brown$1 = '#a52a2a';\nconst cyan$1 = '#00ffff';\nconst darkblue = '#00008b';\nconst darkcyan = '#008b8b';\nconst darkgrey = '#a9a9a9';\nconst darkgreen = '#006400';\nconst darkkhaki = '#bdb76b';\nconst darkmagenta = '#8b008b';\nconst darkolivegreen = '#556b2f';\nconst darkorange = '#ff8c00';\nconst darkorchid = '#9932cc';\nconst darkred = '#8b0000';\nconst darksalmon = '#e9967a';\nconst darkviolet = '#9400d3';\nconst fuchsia$1 = '#ff00ff';\nconst gold = '#ffd700';\nconst green$2 = '#008000';\nconst indigo$1 = '#4b0082';\nconst khaki = '#f0e68c';\nconst lightblue = '#add8e6';\nconst lightcyan = '#e0ffff';\nconst lightgreen = '#90ee90';\nconst lightgrey = '#d3d3d3';\nconst lightpink = '#ffb6c1';\nconst lightyellow = '#ffffe0';\nconst lime$2 = '#00ff00';\nconst magenta = '#ff00ff';\nconst maroon$1 = '#800000';\nconst navy$1 = '#000080';\nconst olive$1 = '#808000';\nconst orange$1 = '#ffa500';\nconst pink$1 = '#ffc0cb';\nconst purple$2 = '#800080';\nconst violet = '#800080';\nconst red$1 = '#ff0000';\nconst silver$1 = '#c0c0c0';\nconst white$1 = '#ffffff';\nconst yellow$2 = '#ffff00';\nconst uiColors = {\n  aqua: aqua$1,\n  azure,\n  beige,\n  black: black$1,\n  blue: blue$2,\n  brown: brown$1,\n  cyan: cyan$1,\n  darkblue,\n  darkcyan,\n  darkgrey,\n  darkgreen,\n  darkkhaki,\n  darkmagenta,\n  darkolivegreen,\n  darkorange,\n  darkorchid,\n  darkred,\n  darksalmon,\n  darkviolet,\n  fuchsia: fuchsia$1,\n  gold,\n  green: green$2,\n  indigo: indigo$1,\n  khaki,\n  lightblue,\n  lightcyan,\n  lightgreen,\n  lightgrey,\n  lightpink,\n  lightyellow,\n  lime: lime$2,\n  magenta,\n  maroon: maroon$1,\n  navy: navy$1,\n  olive: olive$1,\n  orange: orange$1,\n  pink: pink$1,\n  purple: purple$2,\n  violet,\n  red: red$1,\n  silver: silver$1,\n  white: white$1,\n  yellow: yellow$2\n};\n\nconst isExisty = value => value !== null && value !== undefined;\n\nconst isEmpty = value => value === '';\n\nconst isDefaultRequiredValue = (_values, value) => value === undefined || value === '';\n\nconst required = (_values, value) => isExisty(value) && !isEmpty(value);\n\nconst matchRegexp = (_values, value, regexp) => !isExisty(value) || isEmpty(value) || regexp.test(value);\n\nconst notEmptyString = (_values, value) => !isEmpty(value);\n\nconst isEmail = (values, value) => matchRegexp(values, value, /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i);\n\nconst isUrl = (values, value) => matchRegexp(values, value, /^(https?|s?ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!&',;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!&',;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!&',;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!&',;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!&',;=]|:|@)|\\/|\\?)*)?$/i);\n\nconst isTrue = (_values, value) => value === true;\n\nconst isFalse = (_values, value) => value === false;\n\nconst isNumeric = (values, value) => typeof value === 'number' ? true : matchRegexp(values, value, /^[-+]?(?:\\d*[.])?\\d+$/);\n\nconst isAlpha = (values, value) => matchRegexp(values, value, /^[A-Z]+$/i);\n\nconst isAlphanumeric = (values, value) => matchRegexp(values, value, /^[0-9A-Z]+$/i);\n\nconst isInt = (values, value) => matchRegexp(values, value, /^(?:[-+]?(?:0|[1-9]\\d*))$/);\n\nconst isFloat = (values, value) => matchRegexp(values, value, /^(?:[-+]?(?:\\d+))?(?:\\.\\d*)?(?:[eE]?(?:\\d+))?$/);\n\nconst isWords = (values, value) => matchRegexp(values, value, /^[A-Z\\s]+$/i);\n\nconst startsWith = str => (_values, value) => !isEmpty(value) && value.startsWith(str);\n\nconst isLength = length => (_values, value) => !isExisty(value) || isEmpty(value) || value.length === length;\n\nconst equals = eql => (_values, value) => !isExisty(value) || isEmpty(value) || value === eql;\n\nconst equalsField = field => (values, value) => value === values[field];\n\nconst maxLength = length => (_values, value) => !isExisty(value) || value.length <= length;\n\nconst minLength = length => (_values, value) => !isExisty(value) || isEmpty(value) || value.length >= length;\n\nconst isBigger = number => (_values, value) => !isExisty(value) || value > number;\n\nconst isSmaller = number => (_values, value) => !isExisty(value) || value < number;\n\nconst isBiggerOrEqual = number => (_values, value) => !isExisty(value) || value >= number;\n\nconst isSmallerOrEqual = number => (_values, value) => !isExisty(value) || value <= number;\n\nconst invalidFieldMessage = label => `${label} is not valid`;\n\nconst requiredFieldMessage = label => `${label} is required`;\n\nconst canNotBeEmptyFieldMessage = label => `${label} can not be empty`;\n\nconst ruleWrapper = (rule, customMessage, defaultMessage) => (dataRow, value, index) => {\n  if (rule(dataRow, value, index)) {\n    return undefined;\n  }\n\n  return customMessage || defaultMessage;\n};\n\nconst validators = {\n  required: message => ruleWrapper(required, message, requiredFieldMessage),\n  email: message => ruleWrapper(isEmail, message, invalidFieldMessage),\n  url: message => ruleWrapper(isUrl, message, invalidFieldMessage),\n  defaultRequired: message => ruleWrapper(isDefaultRequiredValue, message, requiredFieldMessage),\n  notEmptyString: message => ruleWrapper(notEmptyString, message, canNotBeEmptyFieldMessage),\n  numeric: message => ruleWrapper(isNumeric, message, label => `${label} must be a numeric value`),\n  alpha: message => ruleWrapper(isAlpha, message, label => `${label} must be alphabetic`),\n  alphaNumeric: message => ruleWrapper(isAlphanumeric, message, label => `${label} must be alphanumeric`),\n  int: message => ruleWrapper(isInt, message, label => `${label} must be an integer`),\n  float: message => ruleWrapper(isFloat, message, label => `${label} must be a number`),\n  words: message => ruleWrapper(isWords, message, label => `${label} must be a collection of words`),\n  length: (length, message) => ruleWrapper(isLength(length), message, label => `${label} must be ${length} characters long`),\n  minLength: (length, message) => ruleWrapper(minLength(length), message, label => `${label} must be at least ${length} characters long`),\n  maxLength: (length, message) => ruleWrapper(maxLength(length), message, label => `${label} must be up to ${length} characters long`),\n  equals: (value, message) => ruleWrapper(equals(value), message, label => `${label} must be equal to ${value}`),\n  equalsField: (field, fieldLabel, message) => ruleWrapper(equalsField(field), message, label => `${label} does not match ${fieldLabel || field}`),\n  True: message => ruleWrapper(isTrue, message, label => `${label} must be True`),\n  False: message => ruleWrapper(isFalse, message, label => `${label} must be False`),\n  bigger: (value, message) => ruleWrapper(isBigger(value), message, label => `${label} must be bigger than ${value}`),\n  biggerOrEqual: (value, message) => ruleWrapper(isBiggerOrEqual(value), message, label => `${label} must be bigger or eqial to ${value}`),\n  smaller: (value, message) => ruleWrapper(isSmaller(value), message, label => `${label} must be smaller than ${value}`),\n  smallerOrEqual: (value, message) => ruleWrapper(isSmallerOrEqual(value), message, label => `${label} must be smaller or equal to ${value}`),\n  startsWith: (value, message) => ruleWrapper(startsWith(value), message, label => `${label} must start with ${value}`)\n};\nconst LABEL_SIZE_MAP = {\n  xsmall: 'xsmall',\n  small: 'xsmall',\n  medium: 'xsmall',\n  large: 'small',\n  xlarge: 'medium',\n  xxlarge: 'large'\n};\n/**\r\n * A single value visualization with a label<br/>\r\n * `import { Value } from 'grommet-controls';`<br/>\r\n * `<Value value={...} label={...} />`<br/>\r\n */\n\nconst Value = ({\n  label,\n  value,\n  size,\n  weight,\n  gap,\n  units,\n  color\n}) => React.createElement(Box, {\n  gap: gap\n}, React.isValidElement(value) ? value : React.createElement(Text, {\n  size: size,\n  weight: weight,\n  color: color\n}, `${value !== undefined ? value : '-'}${units ? ` ${units}` : ''}`), React.createElement(Box, {\n  alignSelf: \"end\"\n}, React.createElement(Text, {\n  size: LABEL_SIZE_MAP[size],\n  color: color\n}, label)));\n\nValue.defaultProps = {\n  label: undefined,\n  value: undefined,\n  weight: 'bold',\n  gap: 'small',\n  size: 'large',\n  color: undefined\n};\n\nconst isActive = (active, item) => item.id === active.id || item.label === active.label;\n\nconst hasActiveChidlren = (active, item) => {\n  if (isActive(active, item)) {\n    if (item.items && item.items.find(t => hasActiveChidlren(active, t))) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\nconst getExpandedItems = (children, active) => children.reduce((expandedItems, item) => {\n  const {\n    items,\n    expanded,\n    id,\n    label\n  } = item;\n\n  if (expanded || active && hasActiveChidlren(active, item)) {\n    expandedItems.push(id || label);\n  }\n\n  let childrenExpandedItems = [];\n\n  if (items) {\n    childrenExpandedItems = getExpandedItems(items, active);\n  }\n\n  return expandedItems.concat(childrenExpandedItems);\n}, []);\n\nconst getCollapsibleItems = children => children.reduce((collapsibleItems, {\n  items,\n  id,\n  label\n}) => {\n  let childrenCollapsibleItems = [];\n\n  if (items) {\n    collapsibleItems.push(id || label);\n    childrenCollapsibleItems = getCollapsibleItems(items);\n  }\n\n  return collapsibleItems.concat(childrenCollapsibleItems);\n}, []);\n\nconst getFlatChildrenIds = children => children.reduce((flatChildren, item) => {\n  flatChildren.push(item.id || item.label);\n\n  if (item.items) {\n    // eslint-disable-next-line no-param-reassign\n    flatChildren = flatChildren.concat(getFlatChildrenIds(item.items));\n  }\n\n  return flatChildren;\n}, []);\n\nconst getChildrenById = (children, id) => {\n  let items;\n  children.some(item => {\n    if (item.id === id || item.label === id) {\n      ({\n        items\n      } = item);\n      return true;\n    }\n\n    if (item.items) {\n      items = getChildrenById(item.items, id);\n\n      if (items) {\n        return true;\n      }\n    }\n\n    return false;\n  });\n  return items;\n};\n\nconst filterItems = (items, search) => {\n  if (search && search.length) {\n    const searchLC = search.toLowerCase();\n    return items.map(item => Object.assign({}, item)).filter(item => {\n      const {\n        items: children,\n        label\n      } = item;\n\n      if (typeof label === 'string' && label.toLowerCase().indexOf(searchLC) >= 0) {\n        return true;\n      }\n\n      if (children) {\n        const childItems = filterItems(children, search); // eslint-disable-next-line no-param-reassign\n\n        item.items = childItems;\n\n        if (childItems.length) {\n          return true;\n        }\n      }\n\n      return false;\n    });\n  }\n\n  return items;\n};\n\nconst compareItems = (items, nextItems) => {\n  if (!items && !nextItems) {\n    return true;\n  }\n\n  if (!items && nextItems || items && !nextItems) {\n    return false;\n  }\n\n  if (items.length !== nextItems.length) {\n    return false;\n  }\n\n  for (let i = 0; i < items.length; i += 1) {\n    if (items[i].expanded !== nextItems[i].expanded || items[i].href !== nextItems[i].href || items[i].icon !== nextItems[i].icon || items[i].label !== nextItems[i].label || items[i].onClick !== nextItems[i].onClick || items[i].widget !== nextItems[i].widget || !compareItems(items[i].items, nextItems[i].items)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n/** Hierarchical collapsible menu\r\n * ```$ npm install grommet-controls\\n\r\n * import { VerticalMenu } from 'grommet-controls';\\n\r\n * <VerticalMenu items={...} onSelect={...} />\r\n *```\r\n */\n\n\nclass VerticalMenu extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      expandedItems: []\n    };\n\n    this.onMenuChange = (id, expanded) => {\n      const {\n        expandedItems,\n        filteredItems\n      } = this.state;\n      let newExpandedItems = [...expandedItems];\n\n      if (expanded) {\n        const toBeCollapsed = [id, ...getFlatChildrenIds(getChildrenById(filteredItems, id))];\n        newExpandedItems = newExpandedItems.filter(item => toBeCollapsed.indexOf(item) < 0);\n      } else {\n        newExpandedItems.push(id);\n      }\n\n      this.setState({\n        expandedItems: newExpandedItems\n      });\n    };\n\n    this.renderItem = (item, level = 1) => {\n      const {\n        activeItem,\n        onSelect,\n        buttonClass\n      } = this.props;\n      const {\n        expandedItems\n      } = this.state;\n\n      const {\n        items,\n        id,\n        label,\n        widget,\n        icon\n      } = item,\n            rest = __rest(item, [\"items\", \"id\", \"label\", \"widget\", \"icon\"]);\n\n      const itemId = id || label;\n      const isExpanded = expandedItems.includes(itemId);\n      const ButtonClass = (items ? Button : buttonClass) || Button;\n      const itemKey = `item_${itemId}_${level}`;\n      let background;\n\n      if (activeItem && activeItem.id === id) {\n        background = {\n          color: 'active',\n          opacity: 'strong'\n        };\n      }\n\n      const content = React.createElement(Box, {\n        background: background\n      }, React.createElement(ButtonClass, Object.assign({\n        onClick: !rest.route && !rest.path ? () => items ? this.onMenuChange(itemId, isExpanded) : onSelect && onSelect(item) : undefined,\n        hoverIndicator: {\n          color: 'active'\n        }\n      }, rest), React.createElement(Box, {\n        direction: \"row\",\n        align: \"center\",\n        pad: \"small\",\n        style: {\n          marginLeft: items ? `${12 * level}px` : `${16 * level}px`\n        }\n      }, items && (isExpanded ? React.createElement(FormDown, null) : React.createElement(FormNext, null)), React.createElement(Box, {\n        direction: \"row\",\n        justify: \"between\",\n        fill: \"horizontal\",\n        align: \"center\"\n      }, React.createElement(Box, {\n        direction: \"row\",\n        align: \"center\",\n        gap: \"small\"\n      }, icon, typeof label === 'string' ? React.createElement(Text, null, items ? React.createElement(\"strong\", null, label) : label) : label), widget))));\n      return React.createElement(Box, {\n        key: itemKey\n      }, items ? React.createElement(Keyboard, {\n        onDown: () => this.onMenuChange(itemId, false),\n        onRight: () => this.onMenuChange(itemId, false),\n        onUp: () => this.onMenuChange(itemId, true),\n        onLeft: () => this.onMenuChange(itemId, true)\n      }, content) : content, items && isExpanded && items.map(child => this.renderItem(child, level + 1)));\n    };\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState = {}) {\n    const {\n      items,\n      expandAll,\n      activeItem,\n      search\n    } = nextProps;\n    const {\n      originalExpandAll,\n      search: stateSearch,\n      items: stateItems = []\n    } = prevState;\n\n    if (items !== stateItems || // when instance are not the same we do not need to do a full compare.\n    !compareItems(items, stateItems) || expandAll !== originalExpandAll || search !== stateSearch) {\n      const filteredItems = filterItems(items, search);\n      const collapsibleItems = getCollapsibleItems(filteredItems);\n      let expandedItems;\n\n      if (expandAll || search && search.length) {\n        expandedItems = collapsibleItems;\n      } else {\n        expandedItems = getExpandedItems(filteredItems, activeItem);\n      }\n\n      const allExpanded = typeof expandAll !== 'undefined' ? expandAll : collapsibleItems.length === expandedItems.length;\n      return {\n        expandedItems,\n        items,\n        filteredItems,\n        search,\n        collapsibleItems,\n        allExpanded,\n        expandAll,\n        originalExpandAll: expandAll\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    const {\n      filteredItems\n    } = this.state;\n    return React.createElement(React.Fragment, null, filteredItems && filteredItems.map(item => this.renderItem(item, 1)));\n  }\n\n}\n\nexport { Avatar, Card, CardActions, CardContent, CardTitle, CheckBoxField, ColorInput, ColorInputField, Colors, DateInput, DateInputField, DropInput, EmailInput, EmailInputField, Form, Header, IconButton, ImageStamp, MaskedInput, MaskedInputField, Notification, NumberInput, NumberInputField, PagingTable, PasswordInput, PasswordInputField, SelectField, Sidebar, Spinning, Tag, Tags, TagsSelect, TextAreaField, TextInputField, Value, VerticalMenu, WithFormField, basicColors, longDate, materialColors, shortDate, smallDate, uiColors, validators };","map":{"version":3,"sources":["C:/Users/priyankani/Desktop/Mega_Project/User_Func_Integrated/Frontend/node_modules/grommet-controls/dist/index.esm.js"],"names":["__rest","React","Component","useContext","useEffect","Box","Text","Heading","FormField","CheckBox","TextInput","DropButton","Button","Keyboard","Calendar","Meter","Select","ResponsiveContext","TextArea","styled","ThemeContext","css","keyframes","controlBorderStyle","edgeStyle","deepMerge","StopFill","findDOMNode","conformToMask","createTextMaskInputElement","createAutoCorrectedDatePipe","emailMask","createNumberMask","FormDown","parseMetricToNum","normalizeColor","Calendar$1","Close","StatusGood","StatusWarning","StatusCritical","StatusUnknown","StatusInfo","StatusDisabled","Add","Subtract","FormView","Hide","Previous","Next","Blank","LinkDown","LinkUp","Menu","FormClose","backgroundStyle","FormNext","a","colorForName","c","colorFromIndex","ROUND_MAP","full","StyledImageStamp","img","props","plain","contain","size","undefined","theme","round","global","edgeSize","SIZE_MAP","small","medium","large","xlarge","ImageStamp","_a","src","rest","createElement","Object","assign","defaultProps","Avatar","image","title","subTitle","direction","align","gap","justify","weight","truncate","white","silver","gray","black","red","maroon","yellow","olive","lime","green","aqua","teal","blue","navy","fuchsia","purple","basicColors","StyledCard","breakpoints","Card","children","Consumer","overflow","displayName","border","elevation","flex","fill","background","CardActions","pad","CardTitle","color","textAlign","level","strong","responsive","margin","CardContent","StyledForm","form","filterByFocusable","elements","Array","prototype","filter","call","element","currentTag","tagName","toLowerCase","validTags","isValidTag","match","focus","childNodes","length","getAttribute","hasAttribute","FormContext","createContext","attachToForm","detachFromForm","getFieldValue","getFieldErrors","onFieldChange","styledComponents","Form","constructor","fields","containerRef","createRef","validate","data","errors","addError","key","field","message","msg","description","label","push","keys","forEach","rules","validation","isArray","i","rule","value","arrayErrors","_v","index","isValid","onSubmit","event","onSubmitError","state","preventDefault","setState","submitted","updateObject","name","e","prevState","onChange","onInvalidForm","onValidForm","initialValues","object","getDerivedStateFromProps","nextProps","JSON","stringify","componentDidMount","focusFirstChild","items","current","getElementsByTagName","setTimeout","render","className","a11yTitle","tag","StyledComponent","withComponent","ref","Provider","basis","WithFormField","controlLabel","inField","other","target","targetValue","getValue","error","id","htmlFor","Control","CheckBoxField","vertical","checked","StyledDropInput","widgetsBox","numWidgets","spacing","control","width","StyledDropInputContainer","div","StyledWidgetsContainer","DropInput","arguments","open","inputRef","onUpdateValue","input","onOpen","disabled","onClose","onKeyDown","onKeyUp","newProps","oldState","defaultValue","a11yDropTitle","dropAlign","dropTarget","update","widgets","dropContent","dropIcon","decorations","drop","tabIndex","focusIndicator","icon","map","widget","onDown","onUp","toString","top","right","type","strCaretTrap","processCaretTraps","mask","indexOfCaretTrap","indexOf","splice","transformMaskedValue","providedMask","pipe","safeValue","conformedValue","guide","placeholderChar","placeholder","currentCaretPosition","showMask","keepCharPositions","conformToMaskConfig","previousPlaceholder","conformed","pipeResults","rawValue","maskedNumberValue","prefix","suffix","thousandsSeparatorSymbol","val","replace","RegExp","parseFloat","Number","isNaN","createMinMaxInputPipe","min","max","resolved","MaskedInput","textMaskInputElement","inputControlRef","onInput","initTextMask","inputElement","componentDidUpdate","maskedValue","alphabetic","placeholderChars","whitespace","underscore","digit","sizeStyle","calendar","fontSize","lineHeight","StyledColors","StyledRows","StyledRow","StyledColorContainer","colorSizeStyle","daySize","StyledColor","buildState","colors","columns","wrap","colorRows","lastRow","item","row","buttonRef","colorName","colorsColor","colorsPerRow","Math","sqrt","reduce","res","MAX_SAFE_INTEGER","wrapColors","finalRows","_","activeRow","activeColor","find","rowIndex","colorIndex","found","Colors","setFocus","timer","setActive","onClickColor","rowName","onSelect","buttonNode","scrollIntoView","componentWillUnmount","clearTimeout","cellSize","style","height","isActive","colorStyle","backgroundColor","left","active","hoverIndicator","onClick","onLeft","onRight","StyledColorButton","span","button","selectedColor","ColorInput","upDateValue","ColorInputField","childProps","smallDate","date","locale","Date","toLocaleDateString","year","month","day","shortDate","longDate","weekday","hour","minute","DateInput","isoDate","bounds","dates","disabledDates","autocorrect","firstDayOfWeek","userMask","maskFormat","controlledValue","DateInputField","EmailInput","inputMode","EmailInputField","StyledHeader","position","zIndex","Header","StyledIconButton","IconButton","dark","light","MaskedInputField","pink","a100","a200","a400","a700","purple$1","deepPurple","indigo","blue$1","lightBlue","cyan","teal$1","green$1","lightGreen","lime$1","yellow$1","amber","orange","deepOrange","brown","grey","blueGrey","materialColors","StatusIcons","ok","warning","unknown","info","SIZE_LEVELS","meterSize","Notification","status","closer","reverse","timestamp","percentComplete","sizeLevel","closeBtn","closeIcon","heading","statusIcon","StatusIcon","isValidElement","progress","whiteSpace","thickness","values","toFixed","timeStamp","first","second","content","maxWidth","role","animation","precision","n","isFinite","p","minMax","NumberInput","valueToNumber","decimalSymbol","isFloat","floatRegex","test","addStep","step","subtractStep","emptyValue","userPipe","decimals","integers","a11yIncrement","a11yDecrement","addIcon","subtractIcon","allowNegative","includeThousandsSeparator","allowDecimal","decimalLimit","integerLimit","pattern","NumberInputField","PasswordInput","showPassword","toggleView","stopPropagation","viewIcon","hideIcon","a11yViewPassword","a11yHidePassword","PasswordInputField","flattenDeep","arr","newArr","makePathArray","obj","join","split","get","path","def","pathObj","pathPart","set","keyPart","cursor","shift","range","orderBy","funcs","dirs","indexKey","sort","rowA","rowB","comp","desc","sortInt","remove","b","o","r","clone","parse","getFirstDefined","args","sum","groupBy","xs","rv","x","resKey","asPx","compactObject","newObj","hasOwnProperty","isSortingDesc","d","asc","normalizeComponent","Comp","params","fallback","getPrototypeOf","isReactComponent","StyledTableComponent","StyledTableBodyComponent","StyledTHeadComponent","StyledResizerComponent","StyledThComponent","sortable","hidden","pivot","resizable","StyledTrGroupComponent","StyledTrComponent","hover","StyledTdComponent","StyledExpander","StyledTfootComponent","TableComponent","defaultButton","Icon","StyledButton","StyledPageInput","StyledSelect","ReactTablePagination","context","getSafePage","page","pg","pages","changePage","onPageChange","applyPage","renderPaging","showPageJump","pageText","ofText","pageJump","parseInt","onBlur","onKeyPress","which","keyCode","renderPageSize","showPageSizeOptions","onPageSizeChange","pageSizeOptions","pageSize","option","rowsText","options","renderPrevious","PreviousComponent","canPrevious","previousText","renderNext","canNext","NextComponent","nextText","getPaginationProps","PivotValueComponent","subRows","TheadComponent","TbodyComponent","TfootComponent","NoDataComponent","ResizerComponent","ThComponent","toggleSort","expander","CellTextComponent","childRendered","sortAsc","sortDesc","SortIcon","boxProps","extractTextProps","collectTextProps","TdComponent","FilterComponent","column","ExpanderComponent","isExpanded","expanderProps","CloseIcon","OpenIcon","spinkitSpinners","circle","divCount","wave","pulse","wordpress","loadersCssSpinners","pacman","allSpinners","animationFadeIn","animationBounceDelay","animationScaleDelay","animationStretchDelay","animationFoldCubeAngle","animationBounce","animationCubeMove","animationRotate","animationRotatePlane","animationScaleOut","animationInnerCircle","ThreeBounceSpinner","CircleSpinner","CubeGridSpinner","WaveSpinner","FoldingCubeSpinner","DoubleBounceSpinner","WanderingCubesSpinner","ChasingDotsSpinner","RotatingPlaneSpinner","PulseSpinner","WordPressSpinner","styledComponents$1","Spinning","kind","fadeIn","spinnerInfo","StyledSpinning","from","idx","LoadingComponent","loading","TrGroupComponent","focusableChildren","parent","list","node","concat","focusedChildIndex","focusable","focused","document","activeElement","focusChildByIndex","focusIndex","focusNextElement","nextFocus","focusPrevElement","prevFocus","hasKeyboardChildren","TrComponent","selectNextRow","selectRow","activeChild","container","selectPrevRow","selectNextChild","selectPrevChild","selectFirstChild","activeIndex","onTab","shiftKey","el","emptyObj","defaultTableProps","defaultHeaderProps","defaultBodyProps","duration","defaultRowOddProps","defaultRowEvenProps","defaultFooterProps","defaultPaginationProps","defaultFilterProps","defaultFilterInputProps","showPagination","showPaginationTop","showPaginationBottom","defaultPageSize","collapseOnSortingChange","collapseOnPageChange","collapseOnDataChange","freezeWhenExpanded","multiSort","filterable","defaultSortDesc","defaultSorted","defaultFiltered","defaultResized","defaultExpanded","defaultFilterMethod","_column","pivotId","String","toUpperCase","startsWith","defaultSortMethod","_desc","onSortedChange","onFilteredChange","onResizedChange","onExpandedChange","pivotBy","pivotValKey","pivotIDKey","subRowsKey","aggregatedKey","nestingLevelKey","originalKey","groupedByPivotKey","onFetchData","getProps","getTableProps","table","getTheadGroupProps","headerGroup","header","getTheadGroupTrProps","getTheadProps","getTheadTrProps","getTheadThProps","getTheadFilterProps","getTheadFilterTrProps","filterRow","getFilterInputProps","filterInput","getTheadFilterThProps","getTbodyProps","body","getTrGroupProps","getTrProps","even","rowEven","rowOdd","getTdProps","cell","getExpanderProps","getTfootProps","getTfootTrProps","getTfootTdProps","footer","pagination","getLoadingProps","getNoDataProps","getResizerProps","Cell","Footer","Aggregated","Pivot","PivotValue","Expander","Filter","show","minWidth","_state","_rowInfo","aggregate","getHeaderProps","getFilterProps","getFooterProps","filterMethod","filterAll","sortMethod","expanderDefaults","pivotDefaults","loadingText","noDataText","AggregatedComponent","previewValues","PivotComponent","PaginationComponent","PadRowComponent","ReactTable","rowRef","footerRef","filterRef","headerRef","headerGroupsRef","getResolvedState","fireFetchData","getStateOrProp","getMinRows","minRows","newState","expanded","setStateWithData","newPageSize","currentRow","newPage","floor","sortColumn","additive","sorted","skipNextSort","firstSortDirection","secondSortDirection","newSorted","existingIndex","findIndex","existing","_d","slice","filterColumn","filtered","newFiltering","resizeColumnStart","isTouch","parentWidth","parentElement","getBoundingClientRect","pageX","changedTouches","currentlyResizing","startX","addEventListener","resizeColumnMoving","resizeColumnEnd","resized","newResized","newWidth","removeEventListener","defaultableOptions","defaultName","charAt","resettableOptions","baseName","optionName","getStateWithData","getDataModel","newResolvedState","frozen","showFilters","resolvedData","sortedData","getSortedData","manual","ceil","cb","resolvedState","expanderTdDefaultProps","SubComponent","allVisibleColumns","headerGroups","hasHeaderGroups","startRow","endRow","pageRows","padRows","hasColumnFooter","some","hasFilters","recurseRowsViewIndex","rows","rowWithViewIndex","viewIndex","newPath","rowMinWidth","resizedColumn","finalState","rootProps","tableProps","tBodyProps","loadingProps","noDataProps","makeHeaderGroup","resizedValue","col","theadGroupThProps","columnHeaderProps","flexStyles","nextRow","childIndex","selectFirstAvailable","makeHeaderGroups","theadGroupProps","theadGroupTrProps","makeHeader","resizedCol","theadThProps","isResizable","resizer","onMouseDown","onTouchStart","isSortable","includes","makeHeaders","theadProps","theadTrProps","makeFilter","theadFilterThProps","filterInputProps","ResolvedFilterComponent","isFilterable","makeFilters","theadFilterProps","theadFilterTrProps","filters","makePageRow","rowInfo","original","nestingPath","aggregated","groupedByPivot","trGroupProps","trProps","i2","defaultTdProps","tdProps","columnProps","cellInfo","pivoted","expandable","useOnExpanderClick","isBranch","isPreview","onExpanderClick","newExpanded","cellProps","resolvedCell","ResolvedAggregatedComponent","ResolvedExpanderComponent","ResolvedPivotValueComponent","DefaultResolvedPivotComponent","Fragment","ResolvedPivotComponent","resolvedOnExpanderClick","interactionProps","makePadColumn","makePadRow","padrow","makeColumnFooter","tFootTdProps","columnFooterProps","makeColumnFooters","tFootProps","tFootTrProps","makePagination","paginationProps","makeTable","columnsWithExpander","expanderColumn","col2","makeDecoratedColumn","parentColumn","dcol","accessor","accessorString","console","warn","Error","allDecoratedColumns","decorateAndAddToAll","decoratedColumn","decoratedColumns","visibleColumns","visibleSubColumns","pivotIndex","pivotColumns","pivotID","PivotParentColumn","prev","PivotGroupHeader","PivotHeader","pivotColumnGroup","unshift","currentSpan","addHeader","accessRow","aggregatingColumns","aggregationValues","groupRecursively","groupedRows","entries","rowGroup","sortMethodsByColumnID","sortData","filterData","filteredData","filteredSoFar","nextFilter","StyledPagingTable","responsiveColumns","responsiveShow","sizes","responsiveHide","PagingTable","defaults","SelectField","Sidebar","collapsible","collapsed","setCollapsed","useState","BtnToggle","view","bottom","disabledStyle","StyledIcon","StyledTag","Tag","forwardRef","clickTag","toggleTag","tagRound","canFocus","onEnter","onSpace","horizontal","TagsSelect","tagProps","Tags","selectedTagIndex","tagRefs","elementRef","selectTag","selected","tags","onNextTag","focusTag","onPreviousTag","onSelectTag","onCloseClick","tagElement","noValues","minHeight","ariaChecked","TextAreaField","TextInputField","aqua$1","azure","beige","black$1","blue$2","brown$1","cyan$1","darkblue","darkcyan","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkviolet","fuchsia$1","gold","green$2","indigo$1","khaki","lightblue","lightcyan","lightgreen","lightgrey","lightpink","lightyellow","lime$2","magenta","maroon$1","navy$1","olive$1","orange$1","pink$1","purple$2","violet","red$1","silver$1","white$1","yellow$2","uiColors","isExisty","isEmpty","isDefaultRequiredValue","_values","required","matchRegexp","regexp","notEmptyString","isEmail","isUrl","isTrue","isFalse","isNumeric","isAlpha","isAlphanumeric","isInt","isWords","str","isLength","equals","eql","equalsField","maxLength","minLength","isBigger","number","isSmaller","isBiggerOrEqual","isSmallerOrEqual","invalidFieldMessage","requiredFieldMessage","canNotBeEmptyFieldMessage","ruleWrapper","customMessage","defaultMessage","dataRow","validators","email","url","defaultRequired","numeric","alpha","alphaNumeric","int","float","words","fieldLabel","True","False","bigger","biggerOrEqual","smaller","smallerOrEqual","LABEL_SIZE_MAP","xsmall","xxlarge","Value","units","alignSelf","hasActiveChidlren","t","getExpandedItems","expandedItems","childrenExpandedItems","getCollapsibleItems","collapsibleItems","childrenCollapsibleItems","getFlatChildrenIds","flatChildren","getChildrenById","filterItems","search","searchLC","childItems","compareItems","nextItems","href","VerticalMenu","onMenuChange","filteredItems","newExpandedItems","toBeCollapsed","renderItem","activeItem","buttonClass","itemId","ButtonClass","itemKey","opacity","route","marginLeft","child","expandAll","originalExpandAll","stateSearch","stateItems","allExpanded"],"mappings":"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CAACK,KAAN,CAAYE,MAAZ,CAAmBC,QAAnB,CAA4BR,KAAK,CAACG,IAAlC,CAAwC;AAC9D,cAAcH,KAAK,IAAIA,KAAK,CAACK,KAAN,CAAYE,MAAZ,CAAmBC,QAAnB,CAA4BR,KAAK,CAACG,IAAlC,CAAwC;AAC/D,wBAAwBH,KAAK,IAAI9B,cAAc,CAAC8B,KAAK,CAACgE,KAAP,EAAchE,KAAK,CAACK,KAApB,CAA2B;AAC1E;AACA;AACA,iBAAiB+lB,oBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeD,eAAgB;AAC/B,CAvBA;AAwBA,MAAMY,aAAa,GAAG7pB,MAAM,CAACqO,GAAK;AAClC,WAAWvL,KAAK,IAAIA,KAAK,CAACK,KAAN,CAAYE,MAAZ,CAAmBC,QAAnB,CAA4BR,KAAK,CAACG,IAAlC,CAAwC;AAC5D,YAAYH,KAAK,IAAIA,KAAK,CAACK,KAAN,CAAYE,MAAZ,CAAmBC,QAAnB,CAA4BR,KAAK,CAACG,IAAlC,CAAwC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwBH,KAAK,IAAI9B,cAAc,CAAC8B,KAAK,CAACgE,KAAP,EAAchE,KAAK,CAACK,KAApB,CAA2B;AAC1E;AACA,iBAAiB+lB,oBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CApHA;AAqHA,MAAMY,eAAe,GAAG9pB,MAAM,CAACqO,GAAK;AACpC,WAAWvL,KAAK,IAAIA,KAAK,CAACK,KAAN,CAAYE,MAAZ,CAAmBC,QAAnB,CAA4BR,KAAK,CAACG,IAAlC,CAAwC;AAC5D,YAAYH,KAAK,IAAIA,KAAK,CAACK,KAAN,CAAYE,MAAZ,CAAmBC,QAAnB,CAA4BR,KAAK,CAACG,IAAlC,CAAwC;AAC7D;AACA;AACA;AACA;AACA,wBAAwBH,KAAK,IAAI9B,cAAc,CAAC8B,KAAK,CAACgE,KAAP,EAAchE,KAAK,CAACK,KAApB,CAA2B;AAC1E;AACA,iBAAiBgmB,mBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAvDA;AAwDA,MAAMY,WAAW,GAAG/pB,MAAM,CAACqO,GAAK;AAChC;AACA;AACA;AACA;AACA,wBAAwBvL,KAAK,IAAI9B,cAAc,CAAC8B,KAAK,CAACgE,KAAP,EAAchE,KAAK,CAACK,KAApB,CAA2B;AAC1E;AACA;AACA;AACA,iBAAiBimB,qBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA3BA;AA4BA,MAAMY,kBAAkB,GAAGhqB,MAAM,CAACqO,GAAK;AACvC,WAAWvL,KAAK,IAAIA,KAAK,CAACK,KAAN,CAAYE,MAAZ,CAAmBC,QAAnB,CAA4BR,KAAK,CAACG,IAAlC,CAAwC;AAC5D,YAAYH,KAAK,IAAIA,KAAK,CAACK,KAAN,CAAYE,MAAZ,CAAmBC,QAAnB,CAA4BR,KAAK,CAACG,IAAlC,CAAwC;AAC7D;AACA;AACA;AACA;AACA;AACA;A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","sourcesContent":["import { __rest } from 'tslib';\nimport React, { Component, useContext, useEffect } from 'react';\nimport { Box, Text, Heading, FormField, CheckBox, TextInput, DropButton, Button, Keyboard, Calendar, Meter, Select, ResponsiveContext, TextArea } from 'grommet';\nimport styled, { ThemeContext, css, keyframes } from 'styled-components';\nimport { controlBorderStyle, edgeStyle } from 'grommet/utils/styles';\nimport { deepMerge } from 'grommet/utils/object';\nimport { StopFill } from 'grommet-icons';\nimport { findDOMNode } from 'react-dom';\nimport { conformToMask, createTextMaskInputElement } from 'text-mask-core';\nimport { createAutoCorrectedDatePipe, emailMask, createNumberMask } from 'text-mask-addons';\nimport { FormDown } from 'grommet-icons/icons/FormDown';\nimport { parseMetricToNum } from 'grommet/utils/mixins';\nimport { normalizeColor } from 'grommet/utils/colors';\nimport { Calendar as Calendar$1 } from 'grommet-icons/icons/Calendar';\nimport { Close } from 'grommet-icons/icons/Close';\nimport { StatusGood } from 'grommet-icons/icons/StatusGood';\nimport { StatusWarning } from 'grommet-icons/icons/StatusWarning';\nimport { StatusCritical } from 'grommet-icons/icons/StatusCritical';\nimport { StatusUnknown } from 'grommet-icons/icons/StatusUnknown';\nimport { StatusInfo } from 'grommet-icons/icons/StatusInfo';\nimport { StatusDisabled } from 'grommet-icons/icons/StatusDisabled';\nimport { Add } from 'grommet-icons/icons/Add';\nimport { Subtract } from 'grommet-icons/icons/Subtract';\nimport { FormView } from 'grommet-icons/icons/FormView';\nimport { Hide } from 'grommet-icons/icons/Hide';\nimport { Previous } from 'grommet-icons/icons/Previous';\nimport { Next } from 'grommet-icons/icons/Next';\nimport { Blank } from 'grommet-icons/icons/Blank';\nimport { LinkDown } from 'grommet-icons/icons/LinkDown';\nimport { LinkUp } from 'grommet-icons/icons/LinkUp';\nimport { Menu } from 'grommet-icons/icons/Menu';\nimport { FormClose } from 'grommet-icons/icons/FormClose';\nimport { backgroundStyle } from 'grommet/utils/background';\nimport { FormNext } from 'grommet-icons/icons/FormNext';\nexport { a as colorForName, c as colorFromIndex } from './colors.esm.js';\n\nconst ROUND_MAP = {\r\n    full: '100%',\r\n};\r\nconst StyledImageStamp = styled.img `\n  ${props => !props.plain && controlBorderStyle};\n  ${props => (!props.contain || props.contain === 'width') &&\r\n    props.size &&\r\n    edgeStyle('width', props.size, false, undefined, props.theme)}\n  ${props => (!props.contain || props.contain === 'height') &&\r\n    props.size &&\r\n    edgeStyle('height', props.size, false, undefined, props.theme)}\n  overflow: hidden;\n  object-fit: cover;\n  border-radius: ${props => ROUND_MAP[props.round] || props.theme.global.edgeSize[props.round]};\n  -webkit-border-radius: ${props => ROUND_MAP[props.round] || props.theme.global.edgeSize[props.round]};\n  -moz-border-radius: ${props => ROUND_MAP[props.round] || props.theme.global.edgeSize[props.round]};\n`;\n\nconst SIZE_MAP = {\r\n    small: 'medium',\r\n    medium: 'large',\r\n    large: 'xlarge',\r\n    xlarge: 'xxlarge',\r\n};\r\n/**\r\n *  A small image stamp used for avatars or image thumbnails\r\n */\r\nconst ImageStamp = (_a) => {\r\n    var { size, src } = _a, rest = __rest(_a, [\"size\", \"src\"]);\r\n    return src ? React.createElement(StyledImageStamp, Object.assign({ src: src, size: SIZE_MAP[size] }, rest)) : null;\r\n};\r\nImageStamp.defaultProps = {\r\n    contain: null,\r\n    size: 'medium',\r\n    plain: false,\r\n};\n\n/**\r\n * An image with some text, can be used as a user Avatar image<br/>\r\n * `import { Avatar } from 'grommet-controls;'`<br/>\r\n * `<Avatar image='...' />`<br/>\r\n */\r\nconst Avatar = (_a) => {\r\n    var { image, title, subTitle } = _a, rest = __rest(_a, [\"image\", \"title\", \"subTitle\"]);\r\n    return (React.createElement(Box, { direction: \"row\", align: \"center\", gap: \"small\" },\r\n        React.createElement(ImageStamp, Object.assign({ src: image, round: \"full\" }, rest)),\r\n        React.createElement(Box, { justify: \"between\" },\r\n            React.createElement(Text, { weight: \"bold\", truncate: true }, title),\r\n            React.createElement(Text, { size: \"small\", truncate: true }, subTitle))));\r\n};\n\nconst white = '#ffffff';\r\nconst silver = '#c0c0c0';\r\nconst gray = '#808080';\r\nconst black = '#000000';\r\nconst red = '#ff0000';\r\nconst maroon = '#800000';\r\nconst yellow = '#ffff00';\r\nconst olive = '#808000';\r\nconst lime = '#00ff00';\r\nconst green = '#008000';\r\nconst aqua = '#00ffff';\r\nconst teal = '#008080';\r\nconst blue = '#0000ff';\r\nconst navy = '#000080';\r\nconst fuchsia = '#ff00ff';\r\nconst purple = '#800080';\r\nconst basicColors = {\r\n    white,\r\n    silver,\r\n    gray,\r\n    black,\r\n    red,\r\n    maroon,\r\n    yellow,\r\n    olive,\r\n    lime,\r\n    green,\r\n    aqua,\r\n    teal,\r\n    blue,\r\n    navy,\r\n    fuchsia,\r\n    purple,\r\n};\n\nconst StyledCard = styled(Box) `\n  @media (max-width: ${props => props.theme.global.breakpoints.small}px) {\n    flex-basis: 100%;\n  }\n`;\n\n/**\r\n * A Card-type container, all props of Box apply<br/>\r\n * `import { Card } from 'grommet-controls';`<br/>\r\n * `<Card>`<br/>\r\n * &nbsp;&nbsp;`<Card.CardTitle>`<br/>\r\n * &nbsp;&nbsp;&nbsp;&nbsp;`Title`<br/>\r\n * &nbsp;&nbsp;`</Card.CardTitle>`<br/>\r\n * &nbsp;&nbsp;`<Card.CardContent>`<br/>\r\n * &nbsp;&nbsp;&nbsp;&nbsp;`card content goes here`<br/>\r\n * &nbsp;&nbsp;`</Card.CardContent>`<br/>\r\n * `</Card>`<br/>\r\n */\r\nconst Card = (_a) => {\r\n    var { children } = _a, rest = __rest(_a, [\"children\"]);\r\n    return (React.createElement(ThemeContext.Consumer, null, theme => (React.createElement(StyledCard, Object.assign({ theme: theme, overflow: \"hidden\" }, rest), children))));\r\n};\r\nCard.displayName = 'Card';\r\nCard.defaultProps = {\r\n    align: 'center',\r\n    border: 'all',\r\n    elevation: 'small',\r\n    round: 'xsmall',\r\n    flex: false,\r\n    gap: 'small',\r\n    fill: 'horizontal',\r\n    background: 'white',\r\n};\r\n/**\r\n *  Card Actions to be placed at the bottom of the Card\r\n */\r\nconst CardActions = (_a) => {\r\n    var { children, pad = 'small' } = _a, rest = __rest(_a, [\"children\", \"pad\"]);\r\n    return (React.createElement(Box, Object.assign({ align: \"center\", pad: pad, gap: \"small\", border: \"top\", flex: false, fill: \"horizontal\", direction: \"row\" }, rest), children));\r\n};\r\nCardActions.displayName = 'CardActions';\r\nCard.CardActions = CardActions;\r\n/**\r\n *  Card Title display the card title\r\n */\r\nconst CardTitle = (_a) => {\r\n    var { children, color, textAlign, truncate, level = 4, strong = false, responsive } = _a, rest = __rest(_a, [\"children\", \"color\", \"textAlign\", \"truncate\", \"level\", \"strong\", \"responsive\"]);\r\n    return (React.createElement(Box, Object.assign({ direction: \"row\", fill: \"horizontal\", border: \"bottom\", gap: \"small\", flex: false }, rest), typeof children !== 'string' ? (children) : (React.createElement(Heading, { level: level, margin: \"none\", color: color, textAlign: textAlign, truncate: truncate, responsive: responsive }, strong ? React.createElement(\"strong\", null, children) : children))));\r\n};\r\nCardTitle.displayName = 'CardTitle';\r\nCard.CardTitle = CardTitle;\r\n/**\r\n *  Card Content\r\n */\r\nconst CardContent = (_a) => {\r\n    var { children, pad = 'small' } = _a, rest = __rest(_a, [\"children\", \"pad\"]);\r\n    return (React.createElement(Box, Object.assign({ pad: pad, fill: true, flex: true }, rest), children));\r\n};\r\nCardContent.displayName = 'CardContent';\r\nCard.CardContent = CardContent;\n\nconst StyledForm = styled.form `\n  width: 100%;\n`;\n\nconst filterByFocusable = elements => Array.prototype.filter.call(elements || [], element => {\r\n    const currentTag = element.tagName.toLowerCase();\r\n    const validTags = /(svg|a|area|input|select|textarea|button|iframe|div)$/;\r\n    const isValidTag = currentTag.match(validTags) && element.focus;\r\n    if (currentTag === 'a') {\r\n        return (isValidTag &&\r\n            element.childNodes.length > 0 &&\r\n            element.getAttribute('href'));\r\n    }\r\n    if (currentTag === 'svg' || currentTag === 'div') {\r\n        return (isValidTag &&\r\n            element.hasAttribute('tabindex') &&\r\n            element.getAttribute('tabindex') !== '-1');\r\n    }\r\n    return isValidTag;\r\n});\n\nconst FormContext = React.createContext({\r\n    attachToForm: null,\r\n    detachFromForm: null,\r\n    getFieldValue: null,\r\n    getFieldErrors: null,\r\n    onFieldChange: null,\r\n});\r\nconst styledComponents = {\r\n    form: StyledForm,\r\n};\r\n/** A Form with built-in validation<br/>\r\n *`import { Form } from 'grommet-controls';`<br/>\r\n *`<Form onSubmit={...} />`<br/>\r\n */\r\nclass Form extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.fields = {};\r\n        this.containerRef = React.createRef();\r\n        this.validate = (data) => {\r\n            const errors = {};\r\n            const addError = (key, field, message) => {\r\n                if (!errors[key]) {\r\n                    errors[key] = [];\r\n                }\r\n                let msg;\r\n                if (typeof message === 'function') {\r\n                    msg = message(field.description || field.label || key);\r\n                }\r\n                else {\r\n                    msg = message;\r\n                }\r\n                errors[key].push(msg);\r\n            };\r\n            Object.keys(this.fields).forEach(key => {\r\n                const field = this.fields[key];\r\n                let rules = field.validation;\r\n                if (rules) {\r\n                    if (!Array.isArray(rules)) {\r\n                        rules = [rules];\r\n                    }\r\n                    for (let i = 0; i < rules.length; i += 1) {\r\n                        const rule = rules[i];\r\n                        if (typeof rule === 'function') {\r\n                            const value = data[key];\r\n                            if (Array.isArray(value)) {\r\n                                const arrayErrors = [];\r\n                                value.forEach((_v, index) => {\r\n                                    const message = rule(data, data[key], index);\r\n                                    if (message) {\r\n                                        arrayErrors[index] = message;\r\n                                    }\r\n                                });\r\n                                if (arrayErrors.length) {\r\n                                    addError(key, field, arrayErrors);\r\n                                }\r\n                            }\r\n                            else {\r\n                                const message = rule(data, data[key]);\r\n                                if (message) {\r\n                                    addError(key, field, message);\r\n                                }\r\n                            }\r\n                        }\r\n                        else if (rule !== null && typeof rule === 'object') {\r\n                            if (rule.rule && typeof rule.rule === 'function') {\r\n                                const isValid = rule.rule(data, data[key]);\r\n                                if (!isValid) {\r\n                                    if (typeof rule.message === 'function') {\r\n                                        addError(key, field, rule.message(typeof field.label === 'string' ? field.label : key));\r\n                                    }\r\n                                    else {\r\n                                        addError(key, field, rule.message);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            if (Object.keys(errors).length === 0) {\r\n                return undefined;\r\n            }\r\n            return errors;\r\n        };\r\n        this.onSubmit = event => {\r\n            const { onSubmit, onSubmitError } = this.props;\r\n            const { data } = this.state;\r\n            event.preventDefault();\r\n            const errors = this.validate(data);\r\n            if (!errors) {\r\n                if (onSubmit) {\r\n                    onSubmit(data);\r\n                }\r\n            }\r\n            else {\r\n                if (onSubmitError) {\r\n                    onSubmitError(errors);\r\n                }\r\n                this.setState({ errors, submitted: true });\r\n            }\r\n        };\r\n        this.updateObject = (name, value, e) => {\r\n            this.setState(prevState => {\r\n                const data = Object.assign(Object.assign({}, prevState.data), { [name]: value });\r\n                const { submitted } = this.state;\r\n                const errors = this.validate(data);\r\n                if (this.props.onChange) {\r\n                    this.props.onChange(name, value, e);\r\n                }\r\n                if (errors) {\r\n                    if (this.props.onInvalidForm) {\r\n                        this.props.onInvalidForm(data);\r\n                    }\r\n                }\r\n                else if (this.props.onValidForm) {\r\n                    this.props.onValidForm(data);\r\n                }\r\n                return { data, errors: submitted ? errors : prevState.errors };\r\n            });\r\n        };\r\n        this.attachToForm = (name, props) => {\r\n            this.fields = Object.assign(Object.assign({}, this.fields), { [name]: props });\r\n        };\r\n        this.detachFromForm = name => {\r\n            delete this.fields[name];\r\n        };\r\n        this.getFieldValue = name => this.state.data[name];\r\n        this.getFieldErrors = name => (this.state.errors ? this.state.errors[name] : null);\r\n        this.state = {\r\n            errors: undefined,\r\n            submitted: false,\r\n            data: Object.assign(Object.assign({}, props.initialValues), props.object),\r\n        };\r\n    }\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        if (JSON.stringify(nextProps.object) !== JSON.stringify(prevState.data)) {\r\n            return {\r\n                data: deepMerge(prevState.data, nextProps.object),\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n    componentDidMount() {\r\n        const { focusFirstChild } = this.props;\r\n        if (focusFirstChild) {\r\n            let items = this.containerRef.current.getElementsByTagName('*');\r\n            items = filterByFocusable(items);\r\n            if (items.length > 0) {\r\n                setTimeout(() => {\r\n                    // @ts-ignore\r\n                    items[0].focus();\r\n                }, 0);\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n        const _a = this.props, { \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        onSubmitError, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        onValidForm, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        onInvalidForm, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        onSubmit, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        onChange, className, children, a11yTitle, tag } = _a, rest = __rest(_a, [\"onSubmitError\", \"onValidForm\", \"onInvalidForm\", \"onSubmit\", \"onChange\", \"className\", \"children\", \"a11yTitle\", \"tag\"]);\r\n        let StyledComponent = styledComponents[tag];\r\n        if (!StyledComponent) {\r\n            StyledComponent = StyledForm.withComponent(tag);\r\n            styledComponents[tag] = StyledComponent;\r\n        }\r\n        return (React.createElement(StyledComponent, { className: className, onSubmit: this.onSubmit, \"aria-label\": a11yTitle },\r\n            React.createElement(Box, { direction: \"row\" },\r\n                React.createElement(Box, Object.assign({}, rest),\r\n                    React.createElement(\"div\", { ref: this.containerRef },\r\n                        React.createElement(FormContext.Provider, { value: {\r\n                                attachToForm: this.attachToForm,\r\n                                detachFromForm: this.detachFromForm,\r\n                                getFieldValue: this.getFieldValue,\r\n                                getFieldErrors: this.getFieldErrors,\r\n                                onFieldChange: this.updateObject,\r\n                            } }, children))))));\r\n    }\r\n}\r\nForm.defaultProps = {\r\n    focusFirstChild: true,\r\n    onChange: undefined,\r\n    onSubmit: undefined,\r\n    onSubmitError: undefined,\r\n    onInvalidForm: undefined,\r\n    onValidForm: undefined,\r\n    initialValues: {},\r\n    object: {},\r\n    tag: 'form',\r\n    basis: 'medium',\r\n};\n\nconst WithFormField = (_a) => {\r\n    var { validation, label, description, name, controlLabel, inField, children } = _a, other = __rest(_a, [\"validation\", \"label\", \"description\", \"name\", \"controlLabel\", \"inField\", \"children\"]);\r\n    const form = useContext(FormContext);\r\n    const { onFieldChange, getFieldValue, getFieldErrors } = form;\r\n    useEffect(() => {\r\n        form.attachToForm(name, { label, description, validation });\r\n        return () => {\r\n            form.detachFromForm(name);\r\n        };\r\n    });\r\n    const onChange = e => {\r\n        const { value, target } = e;\r\n        const targetValue = target ? target.value : undefined;\r\n        onFieldChange(name, value || targetValue, e);\r\n    };\r\n    const getValue = () => {\r\n        const value = getFieldValue(name);\r\n        return value === undefined ? '' : value;\r\n    };\r\n    const errors = getFieldErrors(name);\r\n    let error = Array.isArray(errors) ? errors[0] : errors;\r\n    if (typeof error === 'function') {\r\n        error = error(typeof label === 'string' ? label : name);\r\n    }\r\n    const field = children(Object.assign({ id: name, name, label: inField ? controlLabel : label, value: getValue(), onChange }, other));\r\n    if (!inField) {\r\n        return field;\r\n    }\r\n    return (React.createElement(FormField, { htmlFor: name, label: label || (controlLabel === true && name), error: error }, field));\r\n};\r\nWithFormField.defaultProps = {\r\n    validation: undefined,\r\n    inField: true,\r\n    controlLabel: undefined,\r\n    label: undefined,\r\n    description: undefined,\r\n    Control: React.Component,\r\n};\n\nconst CheckBoxField = (props) => (React.createElement(WithFormField, Object.assign({}, props), (_a) => {\r\n    var { value, onChange } = _a, rest = __rest(_a, [\"value\", \"onChange\"]);\r\n    return (React.createElement(Box, { pad: { vertical: 'small' } },\r\n        React.createElement(CheckBox, Object.assign({ checked: value === true, onChange: onChange ? () => onChange({ target: { value: !value } }) : undefined }, rest))));\r\n}));\n\n/* eslint-disable no-mixed-operators */\r\nconst StyledDropInput = styled(TextInput) `\n  padding-right: ${props => {\r\n    const widgetsBox = props.numWidgets *\r\n        (24 + 2 * parseMetricToNum(props.theme.global.edgeSize.small));\r\n    // eslint-disable-next-line no-mixed-operators\r\n    return (widgetsBox +\r\n        parseMetricToNum(props.theme.global.spacing) / 2 -\r\n        parseMetricToNum(props.theme.global.control.border.width));\r\n}}px;\n`;\r\nconst StyledDropInputContainer = styled.div `\n  position: relative;\n  width: 100%;\n  cursor: pointer;\n`;\r\nconst StyledWidgetsContainer = styled(Box) `\n  position: absolute;\n  right: 0;\n  top: 0;\n`;\n\n/**\r\n *  An Input control with an optional drop button with the specified 'dropContent' or widgets<br/>\r\n *`import { DropInput } from 'grommet-controls';`<br/>\r\n *`<DropInput`<br/>\r\n *&nbsp;&nbsp;`dropContent={(`<br/>\r\n *&nbsp;&nbsp;&nbsp;&nbsp;`...`<br/>\r\n *&nbsp;&nbsp;`]}`<br/>\r\n *`/>`<br/>\r\n */\r\nclass DropInput extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = { open: false };\r\n        this.inputRef = React.createRef();\r\n        this.onUpdateValue = value => {\r\n            const { onChange } = this.props;\r\n            // eslint-disable-next-line react/no-find-dom-node\r\n            const input = findDOMNode(this.inputRef.current);\r\n            input.value = value;\r\n            this.setState({ open: false, value });\r\n            if (onChange) {\r\n                onChange({ target: input });\r\n            }\r\n        };\r\n        this.onOpen = e => {\r\n            const { onOpen, disabled } = this.props;\r\n            this.setState({ open: true });\r\n            if (onOpen && !disabled) {\r\n                onOpen(e);\r\n            }\r\n        };\r\n        this.onClose = e => {\r\n            const { onClose, disabled } = this.props;\r\n            this.setState({ open: false });\r\n            if (onClose && !disabled) {\r\n                onClose(e);\r\n            }\r\n        };\r\n        this.onKeyDown = e => {\r\n            const { onKeyDown } = this.props;\r\n            this.setState({ open: true });\r\n            if (onKeyDown) {\r\n                onKeyDown(e);\r\n            }\r\n        };\r\n        this.onKeyUp = e => {\r\n            const { onKeyUp } = this.props;\r\n            this.setState({ open: false });\r\n            if (onKeyUp) {\r\n                onKeyUp(e);\r\n            }\r\n        };\r\n    }\r\n    static getDerivedStateFromProps(newProps, oldState) {\r\n        if (newProps.value !== oldState.value ||\r\n            newProps.defaultValue !== oldState.defaultValue) {\r\n            return {\r\n                value: newProps.value,\r\n                defaultValue: newProps.defaultValue,\r\n                open: false,\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n    render() {\r\n        const _a = this.props, { a11yTitle, a11yDropTitle, dropAlign, dropTarget, update, widgets, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        onOpen, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        onClose, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        onKeyDown, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        onKeyUp, defaultValue, dropContent, dropIcon, disabled } = _a, rest = __rest(_a, [\"a11yTitle\", \"a11yDropTitle\", \"dropAlign\", \"dropTarget\", \"update\", \"widgets\", \"onOpen\", \"onClose\", \"onKeyDown\", \"onKeyUp\", \"defaultValue\", \"dropContent\", \"dropIcon\", \"disabled\"]);\r\n        const { open } = this.state;\r\n        if (typeof update === 'function') {\r\n            update(this.onUpdateValue);\r\n        }\r\n        const numWidgets = (dropContent ? 1 : 0) + (widgets ? widgets.length : 0);\r\n        let decorations;\r\n        if (numWidgets > 0) {\r\n            let drop;\r\n            if (dropContent) {\r\n                drop = (React.createElement(DropButton, { a11yTitle: a11yDropTitle, disabled: disabled, dropAlign: dropAlign, dropTarget: dropTarget, open: open, tabIndex: -1, focusIndicator: false, onOpen: this.onOpen, onClose: this.onClose, dropContent: dropContent, icon: dropIcon }));\r\n            }\r\n            decorations = (React.createElement(StyledWidgetsContainer, { align: \"center\", direction: \"row\" },\r\n                widgets.map((widget, index) => (React.createElement(Button, Object.assign({ disabled: disabled, tabIndex: -1, key: `widget_${index}` }, widget)))),\r\n                drop));\r\n        }\r\n        return (React.createElement(Keyboard, { onDown: this.onKeyDown, onUp: this.onKeyUp },\r\n            React.createElement(StyledDropInputContainer, null,\r\n                React.createElement(ThemeContext.Consumer, null, theme => (React.createElement(StyledDropInput, Object.assign({ ref: this.inputRef, theme: theme, disabled: disabled, numWidgets: numWidgets, \"aria-label\": a11yTitle, defaultValue: defaultValue ? defaultValue.toString() : undefined }, rest)))),\r\n                decorations)));\r\n    }\r\n}\r\nDropInput.defaultProps = {\r\n    dropAlign: { top: 'bottom', right: 'left' },\r\n    dropIcon: React.createElement(FormDown, null),\r\n    type: 'text',\r\n    widgets: [],\r\n};\n\nconst strCaretTrap = '[]';\r\nconst processCaretTraps = (mask) => {\r\n    let indexOfCaretTrap;\r\n    while (indexOfCaretTrap = mask.indexOf(strCaretTrap), indexOfCaretTrap !== -1) { // eslint-disable-line\r\n        mask.splice(indexOfCaretTrap, 1);\r\n    }\r\n    return mask;\r\n};\r\nconst transformMaskedValue = (value, providedMask, props) => {\r\n    if (!providedMask) {\r\n        return value.toString();\r\n    }\r\n    let { pipe } = props;\r\n    let safeValue;\r\n    if (value === undefined || value === null) {\r\n        safeValue = '';\r\n    }\r\n    else {\r\n        safeValue = value.toString();\r\n    }\r\n    let mask;\r\n    if (typeof providedMask === 'object' &&\r\n        providedMask.pipe !== undefined &&\r\n        providedMask.mask !== undefined) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        providedMask = providedMask.mask;\r\n        ({ pipe } = providedMask);\r\n    }\r\n    if (typeof providedMask === 'function') {\r\n        mask = providedMask(safeValue, Object.assign(Object.assign({}, props), { pipe }));\r\n        // disable masking if `mask` is `false`\r\n        if (mask === false) {\r\n            return safeValue;\r\n        }\r\n        // The processed mask is what we're interested in\r\n        mask = processCaretTraps(mask);\r\n        // If the `providedMask` is not a function, we just use it as-is.\r\n    }\r\n    else {\r\n        mask = providedMask;\r\n    }\r\n    let conformedValue = safeValue;\r\n    const { guide, placeholderChar, placeholder, currentCaretPosition, showMask, keepCharPositions, } = props;\r\n    const conformToMaskConfig = {\r\n        previousPlaceholder: placeholder,\r\n        guide,\r\n        placeholderChar,\r\n        pipe,\r\n        currentCaretPosition,\r\n        keepCharPositions,\r\n    };\r\n    const conformed = conformToMask(safeValue, mask, conformToMaskConfig);\r\n    if (conformed) {\r\n        ({ conformedValue } = conformed);\r\n    }\r\n    if (typeof pipe === 'function') {\r\n        const pipeResults = pipe(conformedValue, Object.assign({ rawValue: safeValue }, conformToMaskConfig));\r\n        if (typeof pipeResults === 'string') {\r\n            conformedValue = pipeResults;\r\n        }\r\n    }\r\n    if (conformedValue === placeholder) {\r\n        conformedValue = showMask ? placeholder : '';\r\n    }\r\n    return conformedValue;\r\n};\n\nconst maskedNumberValue = ({ value, prefix, suffix, thousandsSeparatorSymbol, }) => {\r\n    let val;\r\n    if (typeof value === 'string') {\r\n        val = value.replace(new RegExp(`[${prefix}${suffix}${thousandsSeparatorSymbol}]`, 'g'), '');\r\n        val = parseFloat(val);\r\n        if (Number.isNaN(val)) {\r\n            val = undefined;\r\n        }\r\n    }\r\n    else {\r\n        val = value;\r\n    }\r\n    return val;\r\n};\r\nconst createMinMaxInputPipe = (_a) => {\r\n    var { min, max, mask } = _a, props = __rest(_a, [\"min\", \"max\", \"mask\"]);\r\n    return (conformedValue) => {\r\n        if (typeof min === 'number' || typeof max === 'number') {\r\n            const value = maskedNumberValue(Object.assign(Object.assign({}, props), { value: conformedValue }));\r\n            if (typeof value === 'number') {\r\n                if (typeof min === 'number' && value < min) {\r\n                    const resolved = transformMaskedValue(min, mask, props);\r\n                    if (resolved === undefined) {\r\n                        return undefined;\r\n                    }\r\n                    return { value: resolved };\r\n                }\r\n                if (typeof max === 'number' && value > max) {\r\n                    const resolved = transformMaskedValue(max, mask, props);\r\n                    if (resolved === undefined) {\r\n                        return undefined;\r\n                    }\r\n                    return { value: resolved };\r\n                }\r\n            }\r\n        }\r\n        return { value: conformedValue.toString() };\r\n    };\r\n};\n\n/** A masked Input control with an optional drop button with the specified dropContent<br/>\r\n * `import { MakedInput } from 'grommet-controls';`<br/>\r\n * `<MakedInput mask={...} />`<br/>\r\n */\r\nclass MaskedInput extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.textMaskInputElement = null;\r\n        this.inputControlRef = React.createRef();\r\n        this.onInput = event => {\r\n            const { onInput } = this.props;\r\n            if (this.textMaskInputElement) {\r\n                this.textMaskInputElement.update(event.target.value);\r\n            }\r\n            if (onInput) {\r\n                onInput(event);\r\n            }\r\n        };\r\n    }\r\n    initTextMask() {\r\n        const { props, props: { value }, } = this;\r\n        if (props.mask && this.inputControlRef) {\r\n            this.textMaskInputElement = createTextMaskInputElement(Object.assign({ \r\n                // eslint-disable-next-line react/no-find-dom-node\r\n                inputElement: findDOMNode(this.inputControlRef.current).getElementsByTagName('input')[0] }, props));\r\n            this.textMaskInputElement.update(value);\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.initTextMask();\r\n    }\r\n    componentDidUpdate() {\r\n        this.initTextMask();\r\n    }\r\n    maskedValue(value) {\r\n        if (value === undefined) {\r\n            return undefined;\r\n        }\r\n        const { mask } = this.props;\r\n        if (value) {\r\n            const conformed = transformMaskedValue(value, mask, this.props);\r\n            return conformed;\r\n        }\r\n        return value;\r\n    }\r\n    render() {\r\n        const _a = this.props, { defaultValue, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        value, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        mask, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        guide, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        showMask, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        pipe, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        placeholderChar, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        keepCharPositions } = _a, rest = __rest(_a, [\"defaultValue\", \"value\", \"mask\", \"guide\", \"showMask\", \"pipe\", \"placeholderChar\", \"keepCharPositions\"]);\r\n        return (React.createElement(DropInput, Object.assign({ ref: this.inputControlRef, value: this.maskedValue(value), defaultValue: this.maskedValue(defaultValue), onInput: this.onInput }, rest)));\r\n    }\r\n}\r\nMaskedInput.defaultProps = {\r\n    type: 'text',\r\n    guide: true,\r\n    showMask: false,\r\n    placeholderChar: '\\u2000',\r\n};\r\nMaskedInput.alphabetic = /[A-Z]/i;\r\nMaskedInput.placeholderChars = {\r\n    whitespace: '\\u2000',\r\n    underscore: '_',\r\n};\r\nMaskedInput.digit = /\\d/;\r\nMaskedInput.createAutoCorrectedDatePipe = createAutoCorrectedDatePipe;\r\nMaskedInput.emailMask = emailMask;\r\nMaskedInput.createNumberMask = createNumberMask;\r\nMaskedInput.createMinMaxInputPipe = createMinMaxInputPipe;\r\nMaskedInput.maskedNumberValue = maskedNumberValue;\n\nconst sizeStyle = (props) => {\r\n    const data = props.theme.calendar[props.size];\r\n    return css `\n    font-size: ${data.fontSize};\n    line-height: ${data.lineHeight};\n  `;\r\n};\r\nconst StyledColors = styled.div `\n  ${props => sizeStyle(props)}\n`;\r\nconst StyledRows = styled.div `\n  position: relative;\n`;\r\nconst StyledRow = styled.div `\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  flex-justify: between;\n`;\r\nconst StyledColorContainer = styled.div `\n  flex: 0 0;\n`;\r\nconst colorSizeStyle = (props) => {\r\n    const data = props.theme.calendar[props.size];\r\n    return css `\n    width: ${data.daySize};\n    height: ${data.daySize};\n  `;\r\n};\r\nconst StyledColor = styled(Button) `\n  top: 0;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ${props => colorSizeStyle(props)}\n  span {\n    visibility: hidden;\n  };  \n  transition: transform .2s;\n  &:hover {\n    z-index: 10;\n    width: auto;\n    -webkit-transform:scale(2);\n    -moz-transform:scale(2);\n    transform:scale(2);\n    span {\n      visibility: visible;\n    };\n  );\n`;\n\nconst buildState = (props) => {\r\n    const { colors, color, columns, wrap } = props;\r\n    let colorRows = [];\r\n    let lastRow = null;\r\n    if (colors) {\r\n        Object.keys(colors).forEach(item => {\r\n            if (typeof colors[item] === 'object') {\r\n                const row = { name: item, colors: [], buttonRef: React.createRef() };\r\n                Object.keys(colors[item]).forEach(colorName => {\r\n                    const colorsColor = colors[item][colorName];\r\n                    row.colors.push({ name: colorName, color: colorsColor });\r\n                });\r\n                colorRows.push(row);\r\n            }\r\n            else {\r\n                if (!lastRow) {\r\n                    lastRow = { name: undefined, colors: [] };\r\n                    colorRows.push(lastRow);\r\n                }\r\n                lastRow.colors.push({\r\n                    name: item,\r\n                    color: colors[item],\r\n                    buttonRef: React.createRef(),\r\n                });\r\n            }\r\n        });\r\n    }\r\n    const colorsPerRow = columns ||\r\n        (colorRows.length === 1\r\n            ? Math.sqrt(colorRows[0].colors.length)\r\n            : colorRows.reduce((res, row) => Math.min(res, row.colors.length), Number.MAX_SAFE_INTEGER));\r\n    let wrapColors = wrap;\r\n    if (wrapColors === undefined) {\r\n        wrapColors = columns === undefined && colorRows.length === 1;\r\n    }\r\n    if (wrapColors) {\r\n        const finalRows = [];\r\n        colorRows.forEach(row => {\r\n            while (row.colors.length > 0) {\r\n                finalRows.push({\r\n                    name: row.name,\r\n                    colors: row.colors.splice(0, colorsPerRow),\r\n                });\r\n            }\r\n        });\r\n        colorRows = finalRows;\r\n    }\r\n    else {\r\n        colorRows = colorRows.map(row => (Object.assign(Object.assign({}, row), { colors: row.colors.filter((_, index) => index < colorsPerRow) })));\r\n    }\r\n    let activeRow = 0;\r\n    let activeColor = 0;\r\n    colorRows.find((row, rowIndex) => row.colors.find((item, colorIndex) => {\r\n        const found = item.color === color;\r\n        if (found) {\r\n            activeRow = rowIndex;\r\n            activeColor = colorIndex;\r\n        }\r\n        return found;\r\n    }));\r\n    return { colorRows, activeRow, activeColor };\r\n};\r\n/** A color selection element, with custom color palettes.<br/>\r\n *`import { Colors } from 'grommet-controls';`<br/>\r\n *`<Colors colors={...} />`<br/>\r\n */\r\nclass Colors extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.setFocus = false;\r\n        this.timer = 0;\r\n        this.setActive = ({ rowIndex, colorIndex }) => {\r\n            const { colorRows } = this.state;\r\n            this.setFocus = true;\r\n            const activeRow = Math.min(Math.max(0, rowIndex), colorRows.length - 1);\r\n            const color = Math.max(0, colorIndex);\r\n            const activeColor = Math.min(color, colorRows[activeRow].colors.length - 1);\r\n            this.setState({\r\n                activeRow,\r\n                activeColor,\r\n            });\r\n        };\r\n        this.onClickColor = ({ color, rowIndex, colorIndex, rowName, colorName, }) => () => {\r\n            const { onSelect } = this.props;\r\n            this.setActive({ rowIndex, colorIndex });\r\n            if (onSelect) {\r\n                onSelect({ color, rowName, colorName });\r\n            }\r\n        };\r\n        this.state = buildState(props);\r\n    }\r\n    static getDerivedStateFromProps(nextProps) {\r\n        return buildState(nextProps);\r\n    }\r\n    componentDidUpdate() {\r\n        if (this.setFocus) {\r\n            const { activeRow, activeColor, colorRows } = this.state;\r\n            this.setFocus = false;\r\n            if (colorRows[activeRow] &&\r\n                colorRows[activeRow].colors[activeColor] &&\r\n                colorRows[activeRow].colors[activeColor].buttonRef) {\r\n                // eslint-disable-next-line react/no-find-dom-node\r\n                const buttonNode = findDOMNode(colorRows[activeRow].colors[activeColor].buttonRef.current);\r\n                if (buttonNode) {\r\n                    buttonNode.scrollIntoView();\r\n                    buttonNode.focus();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        clearTimeout(this.timer);\r\n    }\r\n    render() {\r\n        const _a = this.props, { \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        wrap, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        onSelect, \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        columns, size } = _a, rest = __rest(_a, [\"wrap\", \"onSelect\", \"columns\", \"size\"]);\r\n        const { colorRows, activeRow, activeColor } = this.state;\r\n        const colors = (theme, cellSize) => colorRows.map((row, rowIndex) => (React.createElement(StyledRow, { key: `row_${rowIndex}`, theme: theme, style: {\r\n                width: `${cellSize * row.colors.length}px`,\r\n                height: `${cellSize}px`,\r\n            } }, row.colors.map((color, colorIndex) => {\r\n            const isActive = activeRow === rowIndex && activeColor === colorIndex;\r\n            const colorStyle = {\r\n                backgroundColor: color.color,\r\n                color: normalizeColor('text', theme),\r\n                left: `${cellSize * colorIndex}px`,\r\n            };\r\n            return (React.createElement(StyledColorContainer, { key: `color_${colorIndex}`, theme: theme },\r\n                React.createElement(StyledColor\r\n                // eslint-disable-next-line no-param-reassign\r\n                , { \r\n                    // eslint-disable-next-line no-param-reassign\r\n                    ref: color.buttonRef, style: colorStyle, size: size, theme: theme, tabIndex: isActive ? 0 : -1, a11yTitle: `${row.name !== undefined ? row.name : ''} ${color.name}`, plain: true, active: isActive, hoverIndicator: \"background\", onClick: this.onClickColor({\r\n                        color: color.color,\r\n                        rowIndex,\r\n                        colorIndex,\r\n                        colorName: color.name,\r\n                        rowName: row.name,\r\n                    }) },\r\n                    React.createElement(\"span\", null, color.color))));\r\n        }))));\r\n        return (React.createElement(ThemeContext.Consumer, null, theme => {\r\n            const cellSize = parseMetricToNum(theme.calendar[size].daySize);\r\n            return (React.createElement(StyledColors, Object.assign({ size: size, theme: theme }, rest),\r\n                React.createElement(Keyboard, { onUp: event => {\r\n                        event.preventDefault();\r\n                        this.setActive({\r\n                            rowIndex: activeRow - 1,\r\n                            colorIndex: activeColor,\r\n                        });\r\n                    }, onDown: event => {\r\n                        event.preventDefault();\r\n                        this.setActive({\r\n                            rowIndex: activeRow + 1,\r\n                            colorIndex: activeColor,\r\n                        });\r\n                    }, onLeft: () => this.setActive({\r\n                        rowIndex: activeRow,\r\n                        colorIndex: activeColor - 1,\r\n                    }), onRight: () => this.setActive({\r\n                        rowIndex: activeRow,\r\n                        colorIndex: activeColor + 1,\r\n                    }) },\r\n                    React.createElement(Box, null,\r\n                        React.createElement(StyledRows, { style: { height: `${cellSize * colorRows.length}px` } }, colors(theme, cellSize))))));\r\n        }));\r\n    }\r\n}\r\nColors.defaultProps = {\r\n    size: 'medium',\r\n};\n\nconst StyledColorButton = styled.span `\n  display: inline-flex;\n  svg {\n    border: ${props => `${props.theme.button.border.width} solid ${props.theme.global.colors.border}`};\n    fill: ${props => props.selectedColor};\n    stroke: ${props => props.selectedColor};\n    transition: none;\n  }\n`;\r\n/** A masked color entry field, with a drop button to select a color<br/>\r\n * All properties of MaskedInput apply<br/>\r\n * `import { ColorInput } from 'grommet-controls';`<br/>\r\n * `<ColorInput colors={...} value={...} />`<br/>\r\n */\r\nclass ColorInput extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.upDateValue = null;\r\n        this.onChange = e => {\r\n            const { onChange } = this.props;\r\n            this.setState({ selectedColor: e.target.value });\r\n            if (onChange) {\r\n                onChange(e);\r\n            }\r\n        };\r\n        this.onSelect = ({ color }) => {\r\n            this.setState({ selectedColor: color });\r\n            this.upDateValue(color);\r\n        };\r\n        this.state = {\r\n            selectedColor: (props.value || props.defaultValue),\r\n        };\r\n    }\r\n    static getDerivedStateFromProps(nextProps) {\r\n        return {\r\n            selectedColor: nextProps.value,\r\n        };\r\n    }\r\n    render() {\r\n        const _a = this.props, { columns, wrap, colors, size } = _a, rest = __rest(_a, [\"columns\", \"wrap\", \"colors\", \"size\"]);\r\n        const { selectedColor } = this.state;\r\n        return (React.createElement(ThemeContext.Consumer, null, theme => (React.createElement(MaskedInput, Object.assign({ update: update => {\r\n                this.upDateValue = update;\r\n            }, dropIcon: React.createElement(StyledColorButton, { theme: theme, selectedColor: selectedColor },\r\n                React.createElement(StopFill, null)), dropContent: React.createElement(Colors, { color: selectedColor, colors: colors, onSelect: this.onSelect, columns: columns, wrap: wrap, size: size }), onChange: this.onChange }, rest)))));\r\n    }\r\n}\r\nColorInput.defaultProps = {\r\n    size: 'small',\r\n    mask: [\r\n        '#',\r\n        /[0-9a-fA-F]/,\r\n        /[0-9a-fA-F]/,\r\n        /[0-9a-fA-F]/,\r\n        /[0-9a-fA-F]/,\r\n        /[0-9a-fA-F]/,\r\n        /[0-9a-fA-F]/,\r\n    ],\r\n};\n\n/**\r\n * A Color selection field with form validation<br/>\r\n */\r\nconst ColorInputField = (props) => (React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(ColorInput, Object.assign({}, childProps))));\n\nconst smallDate = (date, locale = 'en-us') => new Date(date).toLocaleDateString(locale, {\r\n    year: 'numeric',\r\n    month: '2-digit',\r\n    day: '2-digit',\r\n});\r\nconst shortDate = (date, locale = 'en-us') => new Date(date).toLocaleDateString(locale, {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n});\r\nconst longDate = (date, locale = 'en-us') => new Date(date).toLocaleDateString(locale, {\r\n    weekday: 'short',\r\n    year: 'numeric',\r\n    month: 'short',\r\n    day: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n});\n\n/**\r\n * A masked date entry field with a drop down calendar<br/>\r\n * All properties of MaskedInput apply<br/>\r\n * `import { DateInput } from 'grommet-controls';`<br/>\r\n * `<DateInput value={...} />`<br/>\r\n */\r\nclass DateInput extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.upDateValue = null;\r\n        this.onSelect = isoDate => {\r\n            const date = new Date(isoDate);\r\n            this.upDateValue(smallDate(date));\r\n        };\r\n    }\r\n    render() {\r\n        const _a = this.props, { value, bounds, dates, disabledDates, autocorrect, firstDayOfWeek, locale, size, mask: userMask, maskFormat } = _a, rest = __rest(_a, [\"value\", \"bounds\", \"dates\", \"disabledDates\", \"autocorrect\", \"firstDayOfWeek\", \"locale\", \"size\", \"mask\", \"maskFormat\"]);\r\n        let mask;\r\n        if (userMask) {\r\n            mask = { mask: userMask };\r\n        }\r\n        else if (autocorrect) {\r\n            mask = {\r\n                mask: [/\\d/, /\\d/, '/', /\\d/, /\\d/, '/', /\\d/, /\\d/, /\\d/, /\\d/],\r\n                pipe: MaskedInput.createAutoCorrectedDatePipe(maskFormat),\r\n                keepCharPositions: true,\r\n            };\r\n        }\r\n        else {\r\n            mask = {\r\n                mask: [/\\d/, /\\d/, '/', /\\d/, /\\d/, '/', /\\d/, /\\d/, /\\d/, /\\d/],\r\n            };\r\n        }\r\n        const controlledValue = value === undefined ? '' : value;\r\n        return (React.createElement(MaskedInput, Object.assign({ update: update => {\r\n                this.upDateValue = update;\r\n            }, value: controlledValue, dropContent: React.createElement(Box, { pad: \"small\" },\r\n                React.createElement(Calendar, { date: controlledValue.toString(), onSelect: this.onSelect, bounds: bounds, dates: dates, disabled: disabledDates, firstDayOfWeek: firstDayOfWeek, locale: locale, size: size })) }, Object.assign(Object.assign({}, rest), mask))));\r\n    }\r\n}\r\nDateInput.defaultProps = {\r\n    dropIcon: React.createElement(Calendar$1, null),\r\n    size: 'small',\r\n    a11yDropTitle: 'Open calendar',\r\n};\n\n/**\r\n * A Date input field with form validation<br/>\r\n */\r\nconst DateInputField = (props) => (React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(DateInput, Object.assign({}, childProps))));\n\n/**\r\n * A masked input with a default mask for handling email addresses<br/>\r\n * All properties of MaskedInput apply<br/>\r\n * `import { EmailInput } from 'grommet-controls';`<br/>\r\n * `<EmailInput value={...} />`<br/>\r\n */\r\nconst EmailInput = (props) => (React.createElement(MaskedInput, Object.assign({ mask: MaskedInput.emailMask, inputMode: \"email\" }, props)));\n\n/**\r\n * An email input field with form validation<br/>\r\n */\r\nconst EmailInputField = (props) => (React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(EmailInput, Object.assign({}, childProps))));\n\nconst StyledHeader = styled(Box) `\n  position: ${props => props.position};\n  ${props => {\r\n    if (props.position === 'fixed' ||\r\n        props.position === 'absolute' ||\r\n        props.position === 'sticky') {\r\n        return `\n        top: 0;\n        left: auto;\n        right: 0;  \n        z-index: ${props.zIndex};\n      `;\r\n    }\r\n    return undefined;\r\n}}\n`;\n\n/**\r\n * A page header component\r\n * ```$ npm install grommet-controls\r\n * import { Header } from 'grommet-controls';\r\n * <Header>\r\n *   ...\r\n * </Header>\r\n * ```\r\n */\r\nconst Header = (_a) => {\r\n    var { children } = _a, rest = __rest(_a, [\"children\"]);\r\n    return (React.createElement(StyledHeader, Object.assign({ tag: \"header\" }, rest), children));\r\n};\r\nHeader.defaultProps = {\r\n    position: 'relative',\r\n    zIndex: 10,\r\n    direction: 'row',\r\n    background: 'brand',\r\n    fill: 'horizontal',\r\n    justify: 'between',\r\n    align: 'center',\r\n    elevation: 'medium',\r\n    pad: 'medium',\r\n};\n\nvar StyledIconButton = styled(Button) `\n  border-radius: 50%;\n`;\n\n/** A Button with a hover effect, all properties of Button apply<br />\r\n * `import { IconButton } from 'grommet-controls';`<br />\r\n * `<IconButton icon='...' />`<br />\r\n */\r\nconst IconButton = (props) => (React.createElement(StyledIconButton, Object.assign({}, props, { hoverIndicator: {\r\n        dark: 'dark-2',\r\n        light: 'light-2',\r\n    } })));\n\n/**\r\n * A masked input field with form validation<br/>\r\n */\r\nconst MaskedInputField = (props) => (React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(MaskedInput, Object.assign({}, childProps))));\n\nconst pink = {\r\n    '50': '#fce4ec',\r\n    '100': '#f8bbd0',\r\n    '200': '#f48fb1',\r\n    '300': '#f06292',\r\n    '400': '#ec407a',\r\n    '500': '#e91e63',\r\n    '600': '#d81b60',\r\n    '700': '#c2185b',\r\n    '800': '#ad1457',\r\n    '900': '#880e4f',\r\n    a100: '#ff80ab',\r\n    a200: '#ff4081',\r\n    a400: '#f50057',\r\n    a700: '#c51162',\r\n};\r\nconst purple$1 = {\r\n    '50': '#f3e5f5',\r\n    '100': '#e1bee7',\r\n    '200': '#ce93d8',\r\n    '300': '#ba68c8',\r\n    '400': '#ab47bc',\r\n    '500': '#9c27b0',\r\n    '600': '#8e24aa',\r\n    '700': '#7b1fa2',\r\n    '800': '#6a1b9a',\r\n    '900': '#4a148c',\r\n    a100: '#ea80fc',\r\n    a200: '#e040fb',\r\n    a400: '#d500f9',\r\n    a700: '#aa00ff',\r\n};\r\nconst deepPurple = {\r\n    '50': '#ede7f6',\r\n    '100': '#d1c4e9',\r\n    '200': '#b39ddb',\r\n    '300': '#9575cd',\r\n    '400': '#7e57c2',\r\n    '500': '#673ab7',\r\n    '600': '#5e35b1',\r\n    '700': '#512da8',\r\n    '800': '#4527a0',\r\n    '900': '#311b92',\r\n    a100: '#b388ff',\r\n    a200: '#7c4dff',\r\n    a400: '#651fff',\r\n    a700: '#6200ea',\r\n};\r\nconst indigo = {\r\n    '50': '#e8eaf6',\r\n    '100': '#c5cae9',\r\n    '200': '#9fa8da',\r\n    '300': '#7986cb',\r\n    '400': '#5c6bc0',\r\n    '500': '#3f51b5',\r\n    '600': '#3949ab',\r\n    '700': '#303f9f',\r\n    '800': '#283593',\r\n    '900': '#1a237e',\r\n    a100: '#8c9eff',\r\n    a200: '#536dfe',\r\n    a400: '#3d5afe',\r\n    a700: '#304ffe',\r\n};\r\nconst blue$1 = {\r\n    '50': '#e3f2fd',\r\n    '100': '#bbdefb',\r\n    '200': '#90caf9',\r\n    '300': '#64b5f6',\r\n    '400': '#42a5f5',\r\n    '500': '#2196f3',\r\n    '600': '#1e88e5',\r\n    '700': '#1976d2',\r\n    '800': '#1565c0',\r\n    '900': '#0d47a1',\r\n    a100: '#82b1ff',\r\n    a200: '#448aff',\r\n    a400: '#2979ff',\r\n    a700: '#2962ff',\r\n};\r\nconst lightBlue = {\r\n    '50': '#e1f5fe',\r\n    '100': '#b3e5fc',\r\n    '200': '#81d4fa',\r\n    '300': '#4fc3f7',\r\n    '400': '#29b6f6',\r\n    '500': '#03a9f4',\r\n    '600': '#039be5',\r\n    '700': '#0288d1',\r\n    '800': '#0277bd',\r\n    '900': '#01579b',\r\n    a100: '#80d8ff',\r\n    a200: '#40c4ff',\r\n    a400: '#00b0ff',\r\n    a700: '#0091ea',\r\n};\r\nconst cyan = {\r\n    '50': '#e0f7fa',\r\n    '100': '#b2ebf2',\r\n    '200': '#80deea',\r\n    '300': '#4dd0e1',\r\n    '400': '#26c6da',\r\n    '500': '#00bcd4',\r\n    '600': '#00acc1',\r\n    '700': '#0097a7',\r\n    '800': '#00838f',\r\n    '900': '#006064',\r\n    a100: '#84ffff',\r\n    a200: '#18ffff',\r\n    a400: '#00e5ff',\r\n    a700: '#00b8d4',\r\n};\r\nconst teal$1 = {\r\n    '50': '#e0f2f1',\r\n    '100': '#b2dfdb',\r\n    '200': '#80cbc4',\r\n    '300': '#4db6ac',\r\n    '400': '#26a69a',\r\n    '500': '#009688',\r\n    '600': '#00897b',\r\n    '700': '#00796b',\r\n    '800': '#00695c',\r\n    '900': '#004d40',\r\n    a100: '#a7ffeb',\r\n    a200: '#64ffda',\r\n    a400: '#1de9b6',\r\n    a700: '#00bfa5',\r\n};\r\nconst green$1 = {\r\n    '50': '#e8f5e9',\r\n    '100': '#c8e6c9',\r\n    '200': '#a5d6a7',\r\n    '300': '#81c784',\r\n    '400': '#66bb6a',\r\n    '500': '#4caf50',\r\n    '600': '#43a047',\r\n    '700': '#388e3c',\r\n    '800': '#2e7d32',\r\n    '900': '#1b5e20',\r\n    a100: '#b9f6ca',\r\n    a200: '#69f0ae',\r\n    a400: '#00e676',\r\n    a700: '#00c853',\r\n};\r\nconst lightGreen = {\r\n    '50': '#f1f8e9',\r\n    '100': '#dcedc8',\r\n    '200': '#c5e1a5',\r\n    '300': '#aed581',\r\n    '400': '#9ccc65',\r\n    '500': '#8bc34a',\r\n    '600': '#7cb342',\r\n    '700': '#689f38',\r\n    '800': '#558b2f',\r\n    '900': '#33691e',\r\n    a100: '#ccff90',\r\n    a200: '#b2ff59',\r\n    a400: '#76ff03',\r\n    a700: '#64dd17',\r\n};\r\nconst lime$1 = {\r\n    '50': '#f9fbe7',\r\n    '100': '#f0f4c3',\r\n    '200': '#e6ee9c',\r\n    '300': '#dce775',\r\n    '400': '#d4e157',\r\n    '500': '#cddc39',\r\n    '600': '#c0ca33',\r\n    '700': '#afb42b',\r\n    '800': '#9e9d24',\r\n    '900': '#827717',\r\n    a100: '#f4ff81',\r\n    a200: '#eeff41',\r\n    a400: '#c6ff00',\r\n    a700: '#aeea00',\r\n};\r\nconst yellow$1 = {\r\n    '50': '#fffde7',\r\n    '100': '#fff9c4',\r\n    '200': '#fff59d',\r\n    '300': '#fff176',\r\n    '400': '#ffee58',\r\n    '500': '#ffeb3b',\r\n    '600': '#fdd835',\r\n    '700': '#fbc02d',\r\n    '800': '#f9a825',\r\n    '900': '#f57f17',\r\n    a100: '#ffff8d',\r\n    a200: '#ffff00',\r\n    a400: '#ffea00',\r\n    a700: '#ffd600',\r\n};\r\nconst amber = {\r\n    '50': '#fff8e1',\r\n    '100': '#ffecb3',\r\n    '200': '#ffe082',\r\n    '300': '#ffd54f',\r\n    '400': '#ffca28',\r\n    '500': '#ffc107',\r\n    '600': '#ffb300',\r\n    '700': '#ffa000',\r\n    '800': '#ff8f00',\r\n    '900': '#ff6f00',\r\n    a100: '#ffe57f',\r\n    a200: '#ffd740',\r\n    a400: '#ffc400',\r\n    a700: '#ffab00',\r\n};\r\nconst orange = {\r\n    '50': '#fff3e0',\r\n    '100': '#ffe0b2',\r\n    '200': '#ffcc80',\r\n    '300': '#ffb74d',\r\n    '400': '#ffa726',\r\n    '500': '#ff9800',\r\n    '600': '#fb8c00',\r\n    '700': '#f57c00',\r\n    '800': '#ef6c00',\r\n    '900': '#e65100',\r\n    a100: '#ffd180',\r\n    a200: '#ffab40',\r\n    a400: '#ff9100',\r\n    a700: '#ff6d00',\r\n};\r\nconst deepOrange = {\r\n    '50': '#fbe9e7',\r\n    '100': '#ffccbc',\r\n    '200': '#ffab91',\r\n    '300': '#ff8a65',\r\n    '400': '#ff7043',\r\n    '500': '#ff5722',\r\n    '600': '#f4511e',\r\n    '700': '#e64a19',\r\n    '800': '#d84315',\r\n    '900': '#bf360c',\r\n    a100: '#ff9e80',\r\n    a200: '#ff6e40',\r\n    a400: '#ff3d00',\r\n    a700: '#dd2c00',\r\n};\r\nconst brown = {\r\n    '50': '#efebe9',\r\n    '100': '#d7ccc8',\r\n    '200': '#bcaaa4',\r\n    '300': '#a1887f',\r\n    '400': '#8d6e63',\r\n    '500': '#795548',\r\n    '600': '#6d4c41',\r\n    '700': '#5d4037',\r\n    '800': '#4e342e',\r\n    '900': '#3e2723',\r\n};\r\nconst grey = {\r\n    '50': '#fafafa',\r\n    '100': '#f5f5f5',\r\n    '200': '#eeeeee',\r\n    '300': '#e0e0e0',\r\n    '400': '#bdbdbd',\r\n    '500': '#9e9e9e',\r\n    '600': '#757575',\r\n    '700': '#616161',\r\n    '800': '#424242',\r\n    '900': '#212121',\r\n};\r\nconst blueGrey = {\r\n    '50': '#eceff1',\r\n    '100': '#cfd8dc',\r\n    '200': '#b0bec5',\r\n    '300': '#90a4ae',\r\n    '400': '#78909c',\r\n    '500': '#607d8b',\r\n    '600': '#546e7a',\r\n    '700': '#455a64',\r\n    '800': '#37474f',\r\n    '900': '#263238',\r\n};\r\nconst materialColors = {\r\n    amber,\r\n    blue: blue$1,\r\n    blueGrey,\r\n    brown,\r\n    cyan,\r\n    deepOrange,\r\n    deepPurple,\r\n    green: green$1,\r\n    grey,\r\n    indigo,\r\n    lightBlue,\r\n    lightGreen,\r\n    lime: lime$1,\r\n    orange,\r\n    pink,\r\n    purple: purple$1,\r\n    teal: teal$1,\r\n    yellow: yellow$1,\r\n};\n\nconst StatusIcons = {\r\n    ok: StatusGood,\r\n    warning: StatusWarning,\r\n    error: StatusCritical,\r\n    unknown: StatusUnknown,\r\n    disabled: StatusDisabled,\r\n    info: StatusInfo,\r\n};\r\nconst SIZE_LEVELS = {\r\n    small: {\r\n        level: 4,\r\n        size: 'xsmall',\r\n        meterSize: 'xsmall',\r\n    },\r\n    medium: {\r\n        level: 3,\r\n        size: 'small',\r\n        meterSize: 'small',\r\n    },\r\n    large: {\r\n        level: 1,\r\n        size: 'medium',\r\n        meterSize: 'large',\r\n    },\r\n};\r\n/**\r\n * A Box to display notification messages<br/>\r\n * `import { Notification } from 'grommet-controls';`<br/>\r\n * `<Notification message={...} onClose={...} />`<br/>\r\n */\r\nconst Notification = (_a) => {\r\n    var { status, message, locale, closer, margin, reverse, a11yTitle, background, border, timestamp, icon, strong, round, pad, size, state, onClose, percentComplete } = _a, rest = __rest(_a, [\"status\", \"message\", \"locale\", \"closer\", \"margin\", \"reverse\", \"a11yTitle\", \"background\", \"border\", \"timestamp\", \"icon\", \"strong\", \"round\", \"pad\", \"size\", \"state\", \"onClose\", \"percentComplete\"]);\r\n    const sizeLevel = SIZE_LEVELS[size];\r\n    let closeBtn;\r\n    if (onClose) {\r\n        const closeIcon = closer || React.createElement(Close, { size: sizeLevel.size });\r\n        closeBtn = (React.createElement(Box, { pad: pad },\r\n            React.createElement(Button, { a11yTitle: a11yTitle, onClick: onClose }, closeIcon)));\r\n    }\r\n    let heading = message;\r\n    if (strong) {\r\n        heading = React.createElement(\"strong\", null, heading);\r\n    }\r\n    let statusIcon;\r\n    if (icon) {\r\n        const StatusIcon = StatusIcons[status];\r\n        statusIcon = React.isValidElement(icon) ? (icon) : (React.createElement(StatusIcon, { size: sizeLevel.size }));\r\n    }\r\n    let progress;\r\n    if (percentComplete || percentComplete === 0) {\r\n        progress = (React.createElement(Box, { direction: \"row\", align: \"center\", gap: \"medium\", style: { whiteSpace: 'nowrap' } },\r\n            React.createElement(Meter, { size: sizeLevel.meterSize, thickness: \"small\", values: [\r\n                    {\r\n                        label: percentComplete.toFixed(0),\r\n                        value: percentComplete,\r\n                        color: 'accent-1',\r\n                    },\r\n                ] }),\r\n            React.createElement(Text, { size: \"small\" }, ` ${percentComplete} %`)));\r\n    }\r\n    let timeStamp;\r\n    if (timestamp) {\r\n        timeStamp = longDate(timestamp, locale);\r\n    }\r\n    let first;\r\n    let second;\r\n    if (reverse) {\r\n        first = heading;\r\n        second = statusIcon;\r\n    }\r\n    else {\r\n        first = statusIcon;\r\n        second = heading;\r\n    }\r\n    const content = (React.createElement(Box, { flex: \"grow\", pad: pad },\r\n        React.createElement(Heading, { level: sizeLevel.level, margin: margin, style: { maxWidth: '100%' } },\r\n            React.createElement(Box, { direction: \"row\", align: \"center\", gap: \"small\" },\r\n                first,\r\n                second)),\r\n        React.createElement(Text, { size: sizeLevel.size }, state),\r\n        React.createElement(Text, { size: sizeLevel.size }, timeStamp),\r\n        progress));\r\n    if (reverse) {\r\n        first = closeBtn;\r\n        second = content;\r\n    }\r\n    else {\r\n        first = content;\r\n        second = closeBtn;\r\n    }\r\n    return (React.createElement(Box, Object.assign({ direction: reverse ? 'row-reverse' : 'row', fill: \"horizontal\", border: border, round: round, role: \"checkbox\", \"aria-checked\": true, background: background || `status-${status}` }, rest),\r\n        first,\r\n        second));\r\n};\r\nNotification.defaultProps = {\r\n    status: 'info',\r\n    size: 'medium',\r\n    message: 'Notification...',\r\n    icon: true,\r\n    animation: 'fadeIn',\r\n    closer: undefined,\r\n    pad: 'small',\r\n    margin: 'small',\r\n    locale: 'en-us',\r\n};\n\nconst precision = n => {\r\n    // eslint-disable-next-line no-restricted-globals\r\n    if (!isFinite(n))\r\n        return 0;\r\n    let e = 1;\r\n    let p = 0;\r\n    while (Math.round(n * e) / e !== n) {\r\n        e *= 10;\r\n        p += 1;\r\n    }\r\n    return p;\r\n};\r\nconst minMax = ({ value, min, max }) => {\r\n    let val = value;\r\n    if (min !== undefined) {\r\n        val = Math.max(val, min);\r\n    }\r\n    if (max !== undefined) {\r\n        val = Math.min(val, max);\r\n    }\r\n    return val;\r\n};\r\n/** A masked number input, with widgets to increment/decrement the value<br/>\r\n *  Additionally, all properties of MaskedInput apply<br/>\r\n *  `import { NumberInput } from 'grommet-controls';`<br/>\r\n *  `<NumberInput value={...} />`<br/>\r\n */\r\nclass NumberInput extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.upDateValue = null;\r\n        this.value = undefined;\r\n        this.valueToNumber = (value) => {\r\n            const { prefix, suffix, thousandsSeparatorSymbol, decimalSymbol, } = this.props;\r\n            return MaskedInput.maskedNumberValue({\r\n                value,\r\n                prefix,\r\n                suffix,\r\n                thousandsSeparatorSymbol,\r\n                decimalSymbol,\r\n            });\r\n        };\r\n        this.isFloat = (val) => {\r\n            const floatRegex = /^-?\\d+(?:[.,]\\d*?)?$/;\r\n            if (!floatRegex.test(val.toString())) {\r\n                return false;\r\n            }\r\n            // eslint-disable-next-line no-restricted-globals\r\n            if (isNaN(parseFloat(val.toString()))) {\r\n                return false;\r\n            }\r\n            return true;\r\n        };\r\n        this.addStep = () => {\r\n            const { max, min, step, value } = this.props;\r\n            let val = this.isFloat(value)\r\n                ? (this.valueToNumber(value) + step).toFixed(precision(step))\r\n                : min || 0;\r\n            if (typeof val === 'number' && Number.isNaN(val)) {\r\n                if (min !== undefined) {\r\n                    val = min;\r\n                }\r\n                else {\r\n                    val = undefined;\r\n                }\r\n            }\r\n            else {\r\n                val = minMax({ value: val, min, max });\r\n            }\r\n            this.upDateValue(val.toString());\r\n        };\r\n        this.subtractStep = () => {\r\n            const { max, min, step, value } = this.props;\r\n            let val = this.isFloat(value)\r\n                ? (this.valueToNumber(value) - step).toFixed(precision(step))\r\n                : max || 0;\r\n            if (typeof val === 'number' && Number.isNaN(val)) {\r\n                if (max !== undefined) {\r\n                    val = max;\r\n                }\r\n                else {\r\n                    val = undefined;\r\n                }\r\n            }\r\n            else {\r\n                val = minMax({ value: val, min, max });\r\n            }\r\n            this.upDateValue(val.toString());\r\n        };\r\n        this.onChange = e => {\r\n            const { onChange, emptyValue } = this.props;\r\n            if (onChange) {\r\n                let { value } = e.target;\r\n                if (this.value !== value) {\r\n                    if (value === undefined) {\r\n                        value = emptyValue;\r\n                    }\r\n                    this.value = value;\r\n                    onChange(Object.assign(Object.assign({}, e), { target: Object.assign(Object.assign({}, e.target), { value }) }));\r\n                }\r\n            }\r\n        };\r\n    }\r\n    render() {\r\n        const _a = this.props, { \r\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n        onChange, min, max, step, pipe: userPipe, prefix, suffix, thousandsSeparatorSymbol, decimalSymbol, decimals, integers, a11yIncrement, a11yDecrement, mask: userMask, addIcon, subtractIcon, disabled } = _a, rest = __rest(_a, [\"onChange\", \"min\", \"max\", \"step\", \"pipe\", \"prefix\", \"suffix\", \"thousandsSeparatorSymbol\", \"decimalSymbol\", \"decimals\", \"integers\", \"a11yIncrement\", \"a11yDecrement\", \"mask\", \"addIcon\", \"subtractIcon\", \"disabled\"]);\r\n        const allowNegative = typeof min !== 'number' || min < 0;\r\n        const includeThousandsSeparator = !!thousandsSeparatorSymbol;\r\n        const allowDecimal = decimals === null || (typeof decimals === 'number' && decimals > 0);\r\n        const mask = userMask ||\r\n            MaskedInput.createNumberMask({\r\n                prefix,\r\n                suffix,\r\n                includeThousandsSeparator,\r\n                thousandsSeparatorSymbol,\r\n                allowDecimal,\r\n                decimalSymbol,\r\n                decimalLimit: decimals,\r\n                integerLimit: integers,\r\n                allowNegative,\r\n            });\r\n        const pipe = userPipe ||\r\n            MaskedInput.createMinMaxInputPipe(Object.assign({ mask,\r\n                prefix,\r\n                suffix,\r\n                thousandsSeparatorSymbol,\r\n                decimalSymbol,\r\n                min,\r\n                max }, rest));\r\n        return (React.createElement(MaskedInput, Object.assign({ update: update => {\r\n                this.upDateValue = update;\r\n            }, pattern: \"[0-9]*\", inputMode: \"numeric\", onKeyDown: this.subtractStep, onKeyUp: this.addStep, disabled: disabled, onChange: this.onChange, pipe: pipe, mask: mask, widgets: [\r\n                {\r\n                    icon: addIcon,\r\n                    onClick: disabled ? undefined : this.addStep,\r\n                    'aria-label': `${a11yIncrement} ${step}`,\r\n                },\r\n                {\r\n                    icon: subtractIcon,\r\n                    onClick: disabled ? undefined : this.subtractStep,\r\n                    'aria-label': `${a11yDecrement} ${step}`,\r\n                },\r\n            ] }, rest)));\r\n    }\r\n}\r\nNumberInput.defaultProps = {\r\n    emptyValue: '',\r\n    step: 1,\r\n    addIcon: React.createElement(Add, null),\r\n    subtractIcon: React.createElement(Subtract, null),\r\n    prefix: '',\r\n    suffix: '',\r\n    thousandsSeparatorSymbol: '',\r\n    decimalSymbol: '.',\r\n    decimals: null,\r\n    integers: null,\r\n    a11yIncrement: 'Increment by',\r\n    a11yDecrement: 'Decrement by',\r\n};\n\n/**\r\n * A numeric input field with form validation<br/>\r\n */\r\nconst NumberInputField = (props) => (React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(NumberInput, Object.assign({}, childProps))));\n\n/**\r\n *A password field with show/hide password toggle<br/>\r\n *All properties of DropInput apply<br/>\r\n *`import { PasswordInput } from 'grommet-controls';`<br/>\r\n *`<PasswordInput value={...} />`<br/>\r\n */\r\nclass PasswordInput extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = { showPassword: false };\r\n        this.toggleView = e => {\r\n            const { showPassword } = this.state;\r\n            e.stopPropagation();\r\n            this.setState({ showPassword: !showPassword });\r\n        };\r\n    }\r\n    render() {\r\n        const _a = this.props, { viewIcon, hideIcon, a11yViewPassword, a11yHidePassword } = _a, rest = __rest(_a, [\"viewIcon\", \"hideIcon\", \"a11yViewPassword\", \"a11yHidePassword\"]);\r\n        const { showPassword } = this.state;\r\n        return (React.createElement(DropInput, Object.assign({ type: showPassword ? 'text' : 'password', widgets: [\r\n                {\r\n                    icon: showPassword ? hideIcon : viewIcon,\r\n                    'aria-label': showPassword ? a11yHidePassword : a11yViewPassword,\r\n                    onClick: this.toggleView,\r\n                },\r\n            ] }, rest)));\r\n    }\r\n}\r\nPasswordInput.defaultProps = {\r\n    viewIcon: React.createElement(FormView, null),\r\n    hideIcon: React.createElement(Hide, null),\r\n    a11yViewPassword: 'View password',\r\n    a11yHidePassword: 'Hide password',\r\n};\n\n/**\r\n * A password input field with form validation<br/>\r\n */\r\nconst PasswordInputField = (props) => (React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(PasswordInput, Object.assign({}, childProps))));\n\n/* eslint-disable no-param-reassign,no-nested-ternary */\r\n//\r\n// ########################################################################\r\n// Non-exported Helpers\r\n// ########################################################################\r\nfunction isArray(a) {\r\n    return Array.isArray(a);\r\n}\r\nfunction flattenDeep(arr, newArr = []) {\r\n    if (!isArray(arr)) {\r\n        newArr.push(arr);\r\n    }\r\n    else {\r\n        for (let i = 0; i < arr.length; i += 1) {\r\n            flattenDeep(arr[i], newArr);\r\n        }\r\n    }\r\n    return newArr;\r\n}\r\nfunction makePathArray(obj) {\r\n    return flattenDeep(obj)\r\n        .join('.')\r\n        .replace(/\\[/g, '.')\r\n        .replace(/]/g, '')\r\n        .split('.');\r\n}\r\nfunction get(obj, path, def) {\r\n    if (!path) {\r\n        return obj;\r\n    }\r\n    const pathObj = makePathArray(path);\r\n    let val;\r\n    try {\r\n        val = pathObj.reduce((current, pathPart) => current[pathPart], obj);\r\n    }\r\n    catch (e) {\r\n        // continue regardless of error\r\n    }\r\n    return typeof val !== 'undefined' ? val : def;\r\n}\r\nfunction set(obj = {}, path, value) {\r\n    const keys = makePathArray(path);\r\n    let keyPart;\r\n    let cursor = obj;\r\n    // eslint-disable-next-line no-cond-assign\r\n    while ((keyPart = keys.shift()) && keys.length) {\r\n        if (!cursor[keyPart]) {\r\n            cursor[keyPart] = {};\r\n        }\r\n        cursor = cursor[keyPart];\r\n    }\r\n    cursor[keyPart] = value;\r\n    return obj;\r\n}\r\nfunction range(n) {\r\n    const arr = [];\r\n    for (let i = 0; i < n; i += 1) {\r\n        arr.push(n);\r\n    }\r\n    return arr;\r\n}\r\nfunction orderBy(arr, funcs, dirs, indexKey) {\r\n    return arr.sort((rowA, rowB) => {\r\n        for (let i = 0; i < funcs.length; i += 1) {\r\n            const comp = funcs[i];\r\n            const desc = dirs[i] === false || dirs[i] === 'desc';\r\n            const sortInt = comp(rowA, rowB);\r\n            if (sortInt) {\r\n                return desc ? -sortInt : sortInt;\r\n            }\r\n        }\r\n        // Use the row index for tie breakers\r\n        return dirs[0]\r\n            ? rowA[indexKey] - rowB[indexKey]\r\n            : rowB[indexKey] - rowA[indexKey];\r\n    });\r\n}\r\nfunction remove(a, b) {\r\n    return a.filter((o, i) => {\r\n        const r = b(o);\r\n        if (r) {\r\n            a.splice(i, 1);\r\n            return true;\r\n        }\r\n        return false;\r\n    });\r\n}\r\nfunction clone(a) {\r\n    try {\r\n        return JSON.parse(JSON.stringify(a, (_, value) => {\r\n            if (typeof value === 'function') {\r\n                return value.toString();\r\n            }\r\n            return value;\r\n        }));\r\n    }\r\n    catch (e) {\r\n        return a;\r\n    }\r\n}\r\nfunction getFirstDefined(...args) {\r\n    for (let i = 0; i < args.length; i += 1) {\r\n        if (typeof args[i] !== 'undefined') {\r\n            return args[i];\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nfunction sum(arr) {\r\n    return arr.reduce((a, b) => a + b, 0);\r\n}\r\nfunction groupBy(xs, key) {\r\n    return xs.reduce((rv, x, i) => {\r\n        const resKey = typeof key === 'function' ? key(x, i) : x[key];\r\n        rv[resKey] = isArray(rv[resKey]) ? rv[resKey] : [];\r\n        rv[resKey].push(x);\r\n        return rv;\r\n    }, {});\r\n}\r\nfunction asPx(value) {\r\n    value = Number(value);\r\n    return Number.isNaN(value) ? null : `${value}px`;\r\n}\r\nfunction compactObject(obj) {\r\n    const newObj = {};\r\n    if (obj) {\r\n        Object.keys(obj).map(key => {\r\n            if (Object.prototype.hasOwnProperty.call(obj, key) &&\r\n                obj[key] !== undefined &&\r\n                typeof obj[key] !== 'undefined') {\r\n                newObj[key] = obj[key];\r\n            }\r\n            return true;\r\n        });\r\n    }\r\n    return newObj;\r\n}\r\nfunction isSortingDesc(d) {\r\n    return !!(d.sort === 'desc' || d.desc === true || d.asc === false);\r\n}\r\nfunction normalizeComponent(Comp, params = {}, fallback = Comp) {\r\n    return typeof Comp === 'function' ? (Object.getPrototypeOf(Comp).isReactComponent ? (React.createElement(Comp, Object.assign({}, params))) : (Comp(params))) : (fallback);\r\n}\r\nvar _ = {\r\n    get,\r\n    set,\r\n    orderBy,\r\n    range,\r\n    remove,\r\n    clone,\r\n    getFirstDefined,\r\n    sum,\r\n    groupBy,\r\n    isArray,\r\n    compactObject,\r\n    isSortingDesc,\r\n    normalizeComponent,\r\n    asPx,\r\n};\n\nconst StyledTableComponent = styled(Box) `\n  align-items: stretch;\n  width: 100%;\n  border-collapse: collapse;\n  overflow: auto;\n`;\r\nconst StyledTableBodyComponent = styled(Box) ``;\r\nconst StyledTHeadComponent = styled(Box) `\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n`;\r\nconst StyledResizerComponent = styled(Box) `\n  display: inline-block;\n  position: absolute;\n  width: 36px;\n  top: 0;\n  bottom: 0;\n  right: -18px;\n  cursor: col-resize;\n  z-index: 10;\n`;\r\nconst StyledThComponent = styled(Box) `\n  position: relative;\n  ${props => props.sortable &&\r\n    `\n    cursor: pointer;\n  `}    \n  ${props => props.hidden &&\r\n    `\n    width: 0 !important;\n    min-width: 0 !important;\n    padding: 0 !important;\n    border: 0 !important;\n    opacity: 0 !important;\n  `}\n  ${props => props.pivot &&\r\n    `\n    &:after,:before {\n      left: 100%;\n      top: 50%;\n      border: solid transparent;\n      content: \" \";\n      height: 0;\n      width: 0;\n      position: absolute;\n      pointer-events: none\n    }\n  \n    &:after {\n      border-color: rgba(255, 255, 255, 0);\n      border-left-color: #fff;\n      border-width: 8px;\n      margin-top: -8px\n    }\n  \n    &:before {\n      border-color: rgba(102, 102, 102, 0);\n      border-left-color: #f7f7f7;\n      border-width: 10px;\n      margin-top: -10px\n    }\n\n  `}  \n  ${props => props.resizable &&\r\n    `\n    overflow: visible;\n\n    &:last-child {\n      overflow: hidden\n    }\n  `}  \n`;\r\nconst StyledTrGroupComponent = styled(Box) `\n  align-items: stretch;\n`;\r\nconst StyledTrComponent = styled(Box) `\n  ${props => props.hover &&\r\n    `\n    &:hover {\n      background-color: ${normalizeColor(props.hover.background || props.theme.global.hover.background, props.theme)};\n      color: ${normalizeColor(props.hover.color || props.theme.global.hover.color, props.theme)};\n    }  \n  `}\n`;\r\nconst StyledTdComponent = styled(Box) `\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: block;\n  white-space: nowrap;\n  ${props => props.hidden &&\r\n    `\n    width: 0 !important;\n    min-width: 0 !important;\n    padding: 0 !important;\n    border: 0 !important;\n    opacity: 0 !important\n  `}\n`;\r\nconst StyledExpander = styled(Button) `\n  position: relative;\n  margin: 0;\n  padding: 0;\n  left: -5px;\n  color: transparent;\n  cursor: pointer;\n`;\r\nconst StyledTfootComponent = styled(Box) ``;\n\nclass TableComponent extends Component {\r\n    render() {\r\n        return React.createElement(StyledTableComponent, Object.assign({ role: \"grid\" }, this.props));\r\n    }\r\n}\n\nconst defaultButton = (_a) => {\r\n    var { disabled, Icon, onClick, label } = _a, other = __rest(_a, [\"disabled\", \"Icon\", \"onClick\", \"label\"]);\r\n    return (React.createElement(Button, Object.assign({ icon: React.createElement(Icon, null), disabled: disabled, onClick: onClick, label: label, plain: true }, other)));\r\n};\r\nconst StyledButton = styled(defaultButton) `\n  width: 150px;\n  padding: 10px 0;\n`;\r\nconst StyledPageInput = styled(NumberInput) `\n  max-width: 180px;\n`;\r\nconst StyledSelect = styled(Select) `\n  max-width: 150px;\n`;\r\nclass ReactTablePagination extends Component {\r\n    constructor(props, context) {\r\n        super(props, context);\r\n        this.getSafePage = page => {\r\n            const pg = Number.isNaN(page) ? this.props.page : page;\r\n            return Math.min(Math.max(pg, 0), this.props.pages - 1);\r\n        };\r\n        this.changePage = page => {\r\n            const pg = this.getSafePage(page);\r\n            this.setState({ page: pg });\r\n            if (this.props.page !== pg) {\r\n                this.props.onPageChange(pg);\r\n            }\r\n        };\r\n        this.applyPage = e => {\r\n            if (e) {\r\n                e.preventDefault();\r\n            }\r\n            const { page } = this.state;\r\n            this.changePage(page === '' ? this.props.page : page);\r\n        };\r\n        this.state = { page: props.page };\r\n    }\r\n    static getDerivedStateFromProps(nextProps) {\r\n        return {\r\n            page: nextProps.page,\r\n        };\r\n    }\r\n    renderPaging() {\r\n        const { page, showPageJump, pageText, ofText, pages } = this.props;\r\n        let pageJump;\r\n        if (showPageJump) {\r\n            pageJump = (\r\n            //@ts-ignore\r\n            React.createElement(StyledPageInput, { \"aria-label\": \"Select page to jump to\", onChange: e => {\r\n                    const val = e.target.value;\r\n                    if (val === '') {\r\n                        return this.setState({ page: val });\r\n                    }\r\n                    const pg = parseInt(val, 10) - 1;\r\n                    this.setState({ page: this.getSafePage(pg) });\r\n                    return false;\r\n                }, value: typeof this.state.page === 'string' ? '' : this.state.page + 1, onBlur: this.applyPage, onKeyPress: e => {\r\n                    if (e.which === 13 || e.keyCode === 13) {\r\n                        this.applyPage(null);\r\n                    }\r\n                } }));\r\n        }\r\n        else {\r\n            pageJump = React.createElement(Text, null, page + 1);\r\n        }\r\n        return (React.createElement(Box, { direction: \"row\", align: \"center\", gap: \"small\" },\r\n            React.createElement(Text, null, `${pageText} `),\r\n            pageJump,\r\n            React.createElement(\"span\", { style: { whiteSpace: 'nowrap' } }, `${ofText} ${pages ||\r\n                1}`)));\r\n    }\r\n    renderPageSize() {\r\n        const { showPageSizeOptions, onPageSizeChange, pageSizeOptions, pageSize, } = this.props;\r\n        if (showPageSizeOptions) {\r\n            return (React.createElement(Box, { direction: \"row\" },\r\n                React.createElement(StyledSelect, { \"aria-label\": \"Select rows per page\", onChange: (e) => onPageSizeChange(Number(e.option.split(' ')[0])), value: `${pageSize} ${this.props.rowsText}`, options: pageSizeOptions.map(option => `${option} ${this.props.rowsText}`) })));\r\n        }\r\n        return null;\r\n    }\r\n    renderPrevious() {\r\n        const { PreviousComponent = StyledButton, canPrevious, page } = this.props;\r\n        return (React.createElement(Box, { direction: \"row\" },\r\n            React.createElement(PreviousComponent, { \"aria-label\": \"Move to previous page\", Icon: Previous, label: this.props.previousText, onClick: canPrevious ? () => this.changePage(page - 1) : null, disabled: !canPrevious })));\r\n    }\r\n    renderNext() {\r\n        const { page, canNext, NextComponent = StyledButton } = this.props;\r\n        return (React.createElement(Box, { direction: \"row\" },\r\n            React.createElement(NextComponent, { \"aria-label\": \"Move to next page\", reverse: true, Icon: Next, label: this.props.nextText, onClick: canNext ? () => this.changePage(page + 1) : null, disabled: !canNext })));\r\n    }\r\n    render() {\r\n        const props = this.props.getPaginationProps(this.props);\r\n        return (React.createElement(Box, Object.assign({}, Object.assign({\r\n            direction: 'row',\r\n            align: 'center',\r\n            justify: 'between',\r\n            fill: 'horizontal',\r\n        }, props)),\r\n            this.renderPrevious(),\r\n            this.renderPaging(),\r\n            this.renderPageSize(),\r\n            this.renderNext()));\r\n    }\r\n}\n\nconst PivotValueComponent = ({ subRows, value }) => (React.createElement(\"span\", null,\r\n    value,\r\n    \" \",\r\n    subRows && `(${subRows.length})`));\n\nconst TheadComponent = props => React.createElement(StyledTHeadComponent, Object.assign({}, props));\n\nconst TbodyComponent = props => React.createElement(StyledTableBodyComponent, Object.assign({}, props));\n\nconst TfootComponent = props => React.createElement(StyledTfootComponent, Object.assign({}, props));\n\nconst NoDataComponent = (_a) => {\r\n    var { children } = _a, rest = __rest(_a, [\"children\"]);\r\n    return (React.createElement(Box, Object.assign({}, rest, { align: \"center\", pad: \"small\" }), children));\r\n};\n\nconst ResizerComponent = props => React.createElement(StyledResizerComponent, Object.assign({}, props));\n\nconst ThComponent = (_a) => {\r\n    var { toggleSort, sort, resizable, children, pivot, hidden, sortable, expander, CellTextComponent } = _a, props = __rest(_a, [\"toggleSort\", \"sort\", \"resizable\", \"children\", \"pivot\", \"hidden\", \"sortable\", \"expander\", \"CellTextComponent\"]);\r\n    if (!expander &&\r\n        Array.isArray(children) &&\r\n        children.length > 1 &&\r\n        !children[0] &&\r\n        !children[1]) {\r\n        return null;\r\n    }\r\n    const { style } = props, rest = __rest(props, [\"style\"]);\r\n    const childRendered = React.createElement(CellTextComponent, Object.assign({}, rest, { value: children }));\r\n    let content;\r\n    if (sortable) {\r\n        const sortAsc = sort === '-sort-asc';\r\n        const sortDesc = sort === '-sort-desc';\r\n        let SortIcon = Blank;\r\n        if (sortAsc || sortDesc) {\r\n            SortIcon = sortAsc ? LinkUp : LinkDown;\r\n        }\r\n        content = (React.createElement(Box, { direction: \"row\", gap: \"xsmall\", align: \"center\" },\r\n            childRendered,\r\n            React.createElement(Button, { onClick: e => toggleSort && toggleSort(e) },\r\n                React.createElement(SortIcon, null))));\r\n    }\r\n    else {\r\n        content = childRendered;\r\n    }\r\n    const boxProps = Object.assign({ pad: 'xsmall' }, rest);\r\n    return (React.createElement(StyledThComponent, { role: \"columnheader\", onClick: e => toggleSort && toggleSort(e), direction: \"row\", pivot: pivot, hidden: hidden, sortable: sortable, style: style, resizable: resizable },\r\n        React.createElement(Box, Object.assign({}, boxProps, { fill: true }), content)));\r\n};\n\nconst extractTextProps = (_a) => {\r\n    var rest = __rest(_a, [\"value\", \"color\", \"size\", \"truncate\", \"weight\", \"textAlign\"]);\r\n    return rest;\r\n};\r\nconst collectTextProps = ({ color, size, truncate, weight, textAlign, }) => ({\r\n    color,\r\n    size,\r\n    truncate,\r\n    weight,\r\n    textAlign,\r\n});\r\nconst CellTextComponent = (_a) => {\r\n    var { value } = _a, rest = __rest(_a, [\"value\"]);\r\n    return (React.createElement(Text, Object.assign({}, collectTextProps(rest)), value));\r\n};\n\nconst TdComponent = (_a) => {\r\n    var { children } = _a, props = __rest(_a, [\"children\"]);\r\n    const { style } = props, rest = __rest(props, [\"style\"]);\r\n    const boxProps = Object.assign({ pad: 'small' }, extractTextProps(rest));\r\n    return (React.createElement(StyledTdComponent, { style: style, role: \"gridcell\" },\r\n        React.createElement(Box, Object.assign({ fill: true, align: \"center\", direction: \"row\" }, boxProps), children)));\r\n};\n\nconst FilterComponent = (_a) => {\r\n    var { filter, onChange, column } = _a, rest = __rest(_a, [\"filter\", \"onChange\", \"column\"]);\r\n    const props = Object.assign({ size: 'medium' }, rest);\r\n    return (React.createElement(TextInput, Object.assign({ \"aria-label\": `Filter data by ${typeof column.Header === 'string' ? column.Header : column.id}`, value: filter ? filter.value : '', onChange: event => onChange(event.target.value) }, props)));\r\n};\n\nconst ExpanderComponent = ({ isExpanded, children, expanderProps, }) => {\r\n    const props = Object.assign({\r\n        CloseIcon: React.createElement(Subtract, null),\r\n        OpenIcon: React.createElement(Add, null),\r\n        tabIndex: 0,\r\n        onClick: () => { },\r\n    }, expanderProps);\r\n    const { OpenIcon, CloseIcon } = props, rest = __rest(props, [\"OpenIcon\", \"CloseIcon\"]);\r\n    return (React.createElement(StyledExpander, Object.assign({ a11yTitle: \"Press Enter to expand this row for more information\", icon: isExpanded ? CloseIcon : OpenIcon }, rest), children));\r\n};\n\nconst spinkitSpinners = {\r\n    circle: { divCount: 12 },\r\n    'cube-grid': { divCount: 9 },\r\n    wave: { divCount: 5 },\r\n    'folding-cube': { divCount: 4 },\r\n    'three-bounce': { divCount: 3 },\r\n    'double-bounce': { divCount: 2 },\r\n    'wandering-cubes': { divCount: 2 },\r\n    'chasing-dots': { divCount: 2 },\r\n    'rotating-plane': { divCount: 1 },\r\n    pulse: { divCount: 1 },\r\n    wordpress: { divCount: 1 },\r\n};\r\nconst loadersCssSpinners = {\r\n    'ball-grid-beat': { divCount: 9 },\r\n    'ball-grid-pulse': { divCount: 9 },\r\n    'line-spin-fade-loader': { divCount: 8 },\r\n    'ball-spin-fade-loader': { divCount: 8 },\r\n    'ball-pulse-rise': { divCount: 5 },\r\n    'line-scale': { divCount: 5 },\r\n    'line-scale-pulse-out': { divCount: 5 },\r\n    'line-scale-pulse-out-rapid': { divCount: 5 },\r\n    pacman: { divCount: 5 },\r\n    'line-scale-party': { divCount: 4 },\r\n    'ball-triangle-path': { divCount: 3 },\r\n    'ball-scale-multiple': { divCount: 3 },\r\n    'ball-scale-ripple-multiple': { divCount: 3 },\r\n    'ball-pulse-sync': { divCount: 3 },\r\n    'ball-beat': { divCount: 3 },\r\n    'ball-zig-zag': { divCount: 2 },\r\n    'ball-zig-zag-deflect': { divCount: 2 },\r\n    'ball-clip-rotate-pulse': { divCount: 2 },\r\n    'ball-clip-rotate-multiple': { divCount: 2 },\r\n    'ball-clip-rotate': { divCount: 1 },\r\n    'ball-scale-ripple': { divCount: 1 },\r\n    'triangle-skew-spin': { divCount: 1 },\r\n};\r\nconst allSpinners = Object.assign(Object.assign({}, spinkitSpinners), loadersCssSpinners);\n\nconst animationFadeIn = keyframes `\n  0% { opacity: 0;}\n  50% { opacity: 0;}\n  100% { opacity: 1;}\n`;\r\nconst animationBounceDelay = keyframes `\n  0%, 80%, 100% { -webkit-transform: scale(0.0) }\n  40% { -webkit-transform: scale(1.0) }\n`;\r\nconst animationScaleDelay = keyframes `\n  0%, 70%, 100% { -webkit-transform:scale3D(1.0, 1.0, 1.0) }\n  35%           { -webkit-transform:scale3D(0.0, 0.0, 1.0) }\n`;\r\nconst animationStretchDelay = keyframes `\n  0%, 40%, 100% { -webkit-transform: scaleY(0.4) }\n  20% { -webkit-transform: scaleY(1.0) }\n`;\r\nconst animationFoldCubeAngle = keyframes `\n  0%, 10% {\n    -webkit-transform: perspective(140px) rotateX(-180deg);\n    opacity: 0;\n  } \n  25%, 75% {\n    -webkit-transform: perspective(140px) rotateX(0deg);\n    opacity: 1;\n  } \n  90%, 100% {\n    -webkit-transform: perspective(140px) rotateY(180deg);\n    opacity: 0;\n  }\n`;\r\nconst animationBounce = keyframes `\n  0%, 100% {\n    -webkit-transform: scale(0.0);\n  } \n  50% {\n    -webkit-transform: scale(1.0);\n  }\n`;\r\nconst animationCubeMove = keyframes `\n  25% {\n    -webkit-transform: translateX(42px) rotate(-90deg) scale(0.5);\n  } \n  50% {\n    /* Hack to make FF rotate in the right direction */\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-179deg);\n  } \n  50.1% {\n    -webkit-transform: translateX(42px) translateY(42px) rotate(-180deg);\n  } \n  75% {\n    -webkit-transform: translateX(0px) translateY(42px) rotate(-270deg) scale(0.5);\n  } \n  100% {\n    -webkit-transform: rotate(-360deg);\n  }\n`;\r\nconst animationRotate = keyframes `\n 100% { -webkit-transform: rotate(360deg) }\n`;\r\nconst animationRotatePlane = keyframes `\n  0% {\n    -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n  } \n  50% {\n    -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n  } \n  100% {\n    -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n  }\n`;\r\nconst animationScaleOut = keyframes `\n  0% { -webkit-transform: scale(0.0) }\n  100% {\n    -webkit-transform: scale(1.0);\n    opacity: 0;\n  }\n`;\r\nconst animationInnerCircle = keyframes `\n  0% { -webkit-transform: rotate(0); }\n  100% { -webkit-transform: rotate(360deg); }\n`;\r\nconst ThreeBounceSpinner = styled.div `\n  ${props => normalizeColor(props.color, props.theme)}\n  & >div {\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n  }\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  & > div {\n    width: ${props => props.theme.global.edgeSize[props.size]};\n    height: ${props => props.theme.global.edgeSize[props.size]};\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    border-radius: 100%;\n    display: inline-block;\n    animation: ${animationBounceDelay} 1.4s infinite ease-in-out;\n    /* Prevent first frame from flickering when animation starts */\n    animation-fill-mode: both;\n  }\n  & > div:first-child {\n    animation-delay: -0.32s;\n  }\n  & > div:nth-child(2) {\n    animation-delay: -0.16s;\n  }\n  animation: ${animationFadeIn} 2s;\n`;\r\nconst CircleSpinner = styled.div `\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  position: relative;\n\n  & > div {\n    background-color: initial;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n  }\n\n  & > div::before {\n    content: '';\n    display: block;\n    margin: 0 auto;\n    width: 20%;\n    height: 20%;\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    border-radius: 100%;\n    animation: ${animationBounceDelay} 1.2s infinite ease-in-out;\n    /* Prevent first frame from flickering when animation starts */\n    animation-fill-mode: both;\n  }\n\n  & > div:nth-child(2) {\n    -webkit-transform: rotate(30deg);\n    transform: rotate(30deg);\n  }\n  & > div:nth-child(3) {\n    -webkit-transform: rotate(60deg);\n    transform: rotate(60deg);\n  }\n  & > div:nth-child(4) {\n    -webkit-transform: rotate(90deg);\n    transform: rotate(90deg);\n  }\n  & > div:nth-child(5) {\n    -webkit-transform: rotate(120deg);\n    transform: rotate(120deg);\n  }\n  & > div:nth-child(6) {\n    -webkit-transform: rotate(150deg);\n    transform: rotate(150deg);\n  }\n  & > div:nth-child(7) {\n    -webkit-transform: rotate(180deg);\n    transform: rotate(180deg);\n  }\n  & > div:nth-child(8) {\n    -webkit-transform: rotate(210deg);\n    transform: rotate(210deg);\n  }\n  & > div:nth-child(9) {\n    -webkit-transform: rotate(240deg);\n    transform: rotate(240deg);\n  }\n  & > div:nth-child(10) {\n    -webkit-transform: rotate(270deg);\n    transform: rotate(270deg);\n  }\n  & > div:nth-child(11) {\n    -webkit-transform: rotate(300deg);\n    transform: rotate(300deg);\n  }\n  & > div:nth-child(12) {\n    -webkit-transform: rotate(330deg);\n    transform: rotate(330deg);\n  }\n\n  & > div:nth-child(2)::before {\n    -webkit-animation-delay: -1.1s;\n    animation-delay: -1.1s;\n  }\n  & > div:nth-child(3)::before {\n    -webkit-animation-delay: -1s;\n    animation-delay: -1s;\n  }\n  & > div:nth-child(4)::before {\n    -webkit-animation-delay: -0.9s;\n    animation-delay: -0.9s;\n  }\n  & > div:nth-child(5)::before {\n    -webkit-animation-delay: -0.8s;\n    animation-delay: -0.8s;\n  }\n  & > div:nth-child(6)::before {\n    -webkit-animation-delay: -0.7s;\n    animation-delay: -0.7s;\n  }\n  & > div:nth-child(7)::before {\n    -webkit-animation-delay: -0.6s;\n    animation-delay: -0.6s;\n  }\n  & > div:nth-child(8)::before {\n    -webkit-animation-delay: -0.5s;\n    animation-delay: -0.5s;\n  }\n  & > div:nth-child(9)::before {\n    -webkit-animation-delay: -0.4s;\n    animation-delay: -0.4s;\n  }\n  & > div:nth-child(10)::before {\n    -webkit-animation-delay: -0.3s;\n    animation-delay: -0.3s;\n  }\n  & > div:nth-child(11)::before {\n    -webkit-animation-delay: -0.2s;\n    animation-delay: -0.2s;\n  }\n  & > div:nth-child(12)::before {\n    -webkit-animation-delay: -0.1s;\n    animation-delay: -0.1s;\n  }\n`;\r\nconst CubeGridSpinner = styled.div `\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n\n  & > div {\n    width: 33%;\n    height: 33%;\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    float: left;\n    animation: ${animationScaleDelay} 1.3s infinite ease-in-out;\n  }\n\n  /*\n  * Spinner positions\n  * 1 2 3\n  * 4 5 6\n  * 7 8 9\n  */\n\n  & > div:nth-child(1) {\n    -webkit-animation-delay: 0.2s;\n    animation-delay: 0.2s;\n  }\n  & > div:nth-child(2) {\n    -webkit-animation-delay: 0.3s;\n    animation-delay: 0.3s;\n  }\n  & > div:nth-child(3) {\n    -webkit-animation-delay: 0.4s;\n    animation-delay: 0.4s;\n  }\n  & > div:nth-child(4) {\n    -webkit-animation-delay: 0.1s;\n    animation-delay: 0.1s;\n  }\n  & > div:nth-child(5) {\n    -webkit-animation-delay: 0.2s;\n    animation-delay: 0.2s;\n  }\n  & > div:nth-child(6) {\n    -webkit-animation-delay: 0.3s;\n    animation-delay: 0.3s;\n  }\n  & > div:nth-child(7) {\n    -webkit-animation-delay: 0s;\n    animation-delay: 0s;\n  }\n  & > div:nth-child(8) {\n    -webkit-animation-delay: 0.1s;\n    animation-delay: 0.1s;\n  }\n  & > div:nth-child(9) {\n    -webkit-animation-delay: 0.2s;\n    animation-delay: 0.2s;\n  }\n`;\r\nconst WaveSpinner = styled.div `\n  width: 30px;\n  height: 27px;\n\n  & > div {\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    height: 100%;\n    width: 6px;\n    display: inline-block;\n    animation: ${animationStretchDelay} 1.2s infinite ease-in-out;\n  }\n\n  $ > div:nth-child(2) {\n    animation-delay: -1.1s;\n  }\n\n  & > div:nth-child(3) {\n    animation-delay: -1s;\n  }\n\n  & > div:nth-child(4) {\n    animation-delay: -0.9s;\n  }\n\n  & > div:nth-child(5) {\n    animation-delay: -0.8s;\n  }\n`;\r\nconst FoldingCubeSpinner = styled.div `\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  position: relative;\n  transform: rotateZ(45deg);\n\n  & > div {\n    background-color: initial;\n    float: left;\n    width: 50%;\n    height: 50%;\n    position: relative;\n\n    -webkit-transform: scale(1.1);\n    -ms-transform: scale(1.1);\n    transform: scale(1.1);\n  }\n  & > div::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    animation: ${animationFoldCubeAngle} 2.4s infinite linear both;\n    transform-origin: 100% 100%;\n  }\n  & > div:nth-child(2) {\n    transform: scale(1.1) rotateZ(90deg);\n  }\n  & > div:nth-child(4) {\n    transform: scale(1.1) rotateZ(180deg);\n  }\n  & > div:nth-child(3) {\n    transform: scale(1.1) rotateZ(270deg);\n  }\n  & > div:nth-child(2)::before {\n    animation-delay: 0.3s;\n  }\n  & > div:nth-child(4)::before {\n    animation-delay: 0.6s;\n  }\n  & > div:nth-child(3)::before {\n    animation-delay: 0.9s;\n  }\n`;\r\nconst DoubleBounceSpinner = styled.div `\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  position: relative;\n\n  & > div {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    opacity: 0.6;\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    animation: ${animationBounce} 2s infinite ease-in-out;\n  }\n\n  & > div:last-child {\n    -webkit-animation-delay: -1s;\n    animation-delay: -1s;\n  }\n`;\r\nconst WanderingCubesSpinner = styled.div `\n  width: 52px;\n  height: 52px;\n  position: relative;\n\n  & > div {\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    width: 10px;\n    height: 10px;\n    position: absolute;\n    top: 0;\n    left: 0;\n\n    animation: ${animationCubeMove} 1.8s infinite ease-in-out;\n  }\n\n  & > div:last-child {\n    -webkit-animation-delay: -0.9s;\n    animation-delay: -0.9s;\n  }\n`;\r\nconst ChasingDotsSpinner = styled.div `\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  position: relative;\n  animation: ${animationRotate} 2s infinite linear;\n\n  & > div {\n    width: 60%;\n    height: 60%;\n    display: inline-block;\n    position: absolute;\n    top: 0;\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    border-radius: 100%;\n    animation: ${animationBounce} 2s infinite ease-in-out;\n  }\n\n  & > div:last-child {\n    top: auto;\n    bottom: 0;\n\n    -webkit-animation-delay: -1s;\n    animation-delay: -1s;\n  }\n`;\r\nconst RotatingPlaneSpinner = styled.div `\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  background-color: ${props => normalizeColor(props.color, props.theme)};\n\n  animation: ${animationRotatePlane} 1.2s infinite ease-in-out;\n`;\r\nconst PulseSpinner = styled.div `\n  width: ${props => props.theme.global.edgeSize[props.size]};\n  height: ${props => props.theme.global.edgeSize[props.size]};\n  background-color: ${props => normalizeColor(props.color, props.theme)};\n  border-radius: 100%;\n  animation: ${animationScaleOut} 1s infinite ease-in-out;\n`;\r\nconst WordPressSpinner = styled.div `\n  & > div {\n    width: ${props => props.theme.global.edgeSize[props.size]};\n    height: ${props => props.theme.global.edgeSize[props.size]};\n    background-color: ${props => normalizeColor(props.color, props.theme)};\n    display: inline-block;\n    border-radius: ${props => props.theme.global.edgeSize[props.size]};\n    position: relative;\n    animation: ${animationInnerCircle} 1s linear infinite;\n  }\n\n  & > div::after {\n    content: '';\n    display: block;\n    background-color: #fff;\n    width: 8px;\n    height: 8px;\n    position: absolute;\n    border-radius: 8px;\n    top: 5px;\n    left: 5px;\n  }\n`;\n\n// ported to styled-componnets from\r\nconst styledComponents$1 = {\r\n    circle: CircleSpinner,\r\n    'three-bounce': ThreeBounceSpinner,\r\n    'cube-grid': CubeGridSpinner,\r\n    wave: WaveSpinner,\r\n    'folding-cube': FoldingCubeSpinner,\r\n    'double-bounce': DoubleBounceSpinner,\r\n    'wandering-cubes': WanderingCubesSpinner,\r\n    'chasing-dots': ChasingDotsSpinner,\r\n    'rotating-plane': RotatingPlaneSpinner,\r\n    pulse: PulseSpinner,\r\n    wordpress: WordPressSpinner,\r\n};\r\n/** A spinning process indicator<br/>\r\n * `import { Spinning } from 'grommet-controls';`<br/>\r\n * `<Spinning />`<br/>\r\n */\r\nconst Spinning = ({ kind, fadeIn, color, size }) => {\r\n    const spinnerInfo = allSpinners[kind] || allSpinners['three-bounce'];\r\n    const StyledSpinning = styledComponents$1[kind];\r\n    return (React.createElement(ThemeContext.Consumer, null, theme => (React.createElement(StyledSpinning, { color: (color || (theme.dark ? 'light-1' : 'dark-1')), fadeIn: fadeIn, theme: theme, size: size }, Array.from(Array(spinnerInfo.divCount).keys()).map((_, idx) => (React.createElement(\"div\", { key: idx })))))));\r\n};\r\nSpinning.defaultProps = {\r\n    kind: 'circle',\r\n    fadeIn: 'full',\r\n    color: undefined,\r\n    size: 'medium',\r\n};\n\nconst LoadingComponent = ({ loading }) => (React.createElement(\"div\", null, loading && (React.createElement(Box, { align: \"center\", fill: \"horizontal\", pad: { vertical: 'large' } },\r\n    React.createElement(Spinning, null)))));\n\nconst TrGroupComponent = props => (React.createElement(StyledTrGroupComponent, Object.assign({ role: \"rowgroup\" }, props)));\n\nconst focusableChildren = parent => {\r\n    let list = [];\r\n    if (parent && parent.childNodes) {\r\n        parent.childNodes.forEach(node => {\r\n            if (node.tagName) {\r\n                list.push(node);\r\n                if (filterByFocusable([node]).length !== 1) {\r\n                    list = list.concat(focusableChildren(node));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return filterByFocusable(list);\r\n};\r\nconst focusedChildIndex = parent => {\r\n    const focusable = focusableChildren(parent);\r\n    const focused = document.activeElement;\r\n    for (let i = 0; i < focusable.length; i += 1) {\r\n        if (focusable[i] === focused) {\r\n            return i;\r\n        }\r\n    }\r\n    return 0;\r\n};\r\nconst focusChildByIndex = (parent, index) => {\r\n    const focusable = focusableChildren(parent);\r\n    const focusIndex = Math.min(index, focusable.length - 1);\r\n    if (focusIndex >= 0) {\r\n        focusable[focusIndex].focus();\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\nconst focusNextElement = parent => {\r\n    const focusable = focusableChildren(parent);\r\n    const focused = document.activeElement;\r\n    let nextFocus;\r\n    for (let i = 0; i < focusable.length; i += 1) {\r\n        if (focusable[i] === focused) {\r\n            if (i < focusable.length - 1) {\r\n                nextFocus = focusable[i + 1];\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    if (nextFocus) {\r\n        nextFocus.focus();\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\nconst focusPrevElement = parent => {\r\n    const focusable = focusableChildren(parent);\r\n    const focused = document.activeElement;\r\n    let prevFocus;\r\n    for (let i = 0; i < focusable.length; i += 1) {\r\n        if (focusable[i] === focused) {\r\n            if (i > 0) {\r\n                prevFocus = focusable[i - 1];\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    if (prevFocus) {\r\n        prevFocus.focus();\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\nconst hasKeyboardChildren = element => {\r\n    const currentTag = element.tagName.toLowerCase();\r\n    const validTags = /(input|select|textarea)$/;\r\n    if (currentTag.match(validTags)) {\r\n        return true;\r\n    }\r\n    const focusable = focusableChildren(element);\r\n    for (let i = 0; i < focusable.length; i += 1) {\r\n        if (focusable[i].tagName &&\r\n            focusable[i].tagName.toLowerCase().match(validTags)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\n\nclass TrComponent extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.selectNextRow = () => {\r\n            const { selectRow } = this.props;\r\n            const activeChild = focusedChildIndex(this.container);\r\n            return selectRow(true, activeChild);\r\n        };\r\n        this.selectPrevRow = () => {\r\n            const { selectRow } = this.props;\r\n            const activeChild = focusedChildIndex(this.container);\r\n            return selectRow(false, activeChild);\r\n        };\r\n        this.selectNextChild = () => {\r\n            if (focusNextElement(this.container)) {\r\n                return true;\r\n            }\r\n            return this.selectNextRow();\r\n        };\r\n        this.selectPrevChild = () => {\r\n            if (focusPrevElement(this.container)) {\r\n                return true;\r\n            }\r\n            return this.selectPrevRow();\r\n        };\r\n        this.selectFirstChild = activeIndex => focusChildByIndex(this.container, activeIndex);\r\n    }\r\n    render() {\r\n        return (React.createElement(Keyboard, { onTab: e => {\r\n                e.preventDefault();\r\n                if (e.shiftKey) {\r\n                    this.selectPrevChild();\r\n                }\r\n                else {\r\n                    this.selectNextChild();\r\n                }\r\n            }, onLeft: e => {\r\n                if (!hasKeyboardChildren(document.activeElement)) {\r\n                    e.preventDefault();\r\n                    this.selectPrevChild();\r\n                }\r\n            }, onRight: e => {\r\n                if (!hasKeyboardChildren(document.activeElement)) {\r\n                    e.preventDefault();\r\n                    this.selectNextChild();\r\n                }\r\n            }, onUp: e => {\r\n                if (!hasKeyboardChildren(document.activeElement)) {\r\n                    e.preventDefault();\r\n                    this.selectPrevRow();\r\n                }\r\n            }, onDown: e => {\r\n                if (!hasKeyboardChildren(document.activeElement)) {\r\n                    e.preventDefault();\r\n                    this.selectNextRow();\r\n                }\r\n            } },\r\n            React.createElement(StyledTrComponent, Object.assign({ direction: \"row\", role: \"row\", ref: el => {\r\n                    // eslint-disable-next-line react/no-find-dom-node\r\n                    this.container = findDOMNode(el);\r\n                } }, this.props))));\r\n    }\r\n}\n\n/* eslint-disable react/display-name */\r\nconst emptyObj = () => ({});\r\nconst defaultTableProps = {};\r\nconst defaultHeaderProps = {\r\n    background: 'brand',\r\n    border: 'all',\r\n    align: 'center',\r\n};\r\nconst defaultBodyProps = {\r\n    animation: { type: 'fadeIn', duration: 2000, size: 'large' },\r\n};\r\nconst defaultRowOddProps = {};\r\nconst defaultRowEvenProps = {};\r\nconst defaultFooterProps = { background: 'light-1' };\r\nconst defaultPaginationProps = { pad: { vertical: 'medium' } };\r\nconst defaultFilterProps = { border: 'bottom' };\r\nconst defaultFilterInputProps = { size: 'small', placeholder: 'Filter...' };\r\nvar defaultProps = {\r\n    // General\r\n    data: [],\r\n    loading: false,\r\n    showPagination: true,\r\n    showPaginationTop: false,\r\n    showPaginationBottom: true,\r\n    showPageSizeOptions: true,\r\n    pageSizeOptions: [5, 10, 20, 25, 50, 100],\r\n    defaultPageSize: 20,\r\n    showPageJump: true,\r\n    collapseOnSortingChange: true,\r\n    collapseOnPageChange: true,\r\n    collapseOnDataChange: true,\r\n    freezeWhenExpanded: false,\r\n    sortable: true,\r\n    multiSort: true,\r\n    resizable: true,\r\n    filterable: false,\r\n    defaultSortDesc: false,\r\n    defaultSorted: [],\r\n    defaultFiltered: [],\r\n    defaultResized: [],\r\n    defaultExpanded: {},\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    defaultFilterMethod: (filter, row, _column) => {\r\n        const id = filter.pivotId || filter.id;\r\n        if (row[id] !== undefined && filter.value !== undefined) {\r\n            return String(row[id])\r\n                .toUpperCase()\r\n                .startsWith(filter.value.toUpperCase());\r\n        }\r\n        return true;\r\n    },\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    defaultSortMethod: (a, b, _desc) => {\r\n        // force null and undefined to the bottom\r\n        a = a === null || a === undefined ? '' : a;\r\n        b = b === null || b === undefined ? '' : b;\r\n        // force any string values to lowercase\r\n        a = typeof a === 'string' ? a.toLowerCase() : a;\r\n        b = typeof b === 'string' ? b.toLowerCase() : b;\r\n        // Return either 1 or -1 to indicate a sort priority\r\n        if (a > b) {\r\n            return 1;\r\n        }\r\n        if (a < b) {\r\n            return -1;\r\n        }\r\n        // returning 0, undefined or any falsey value will use subsequent sorts or\r\n        // the index as a tiebreaker\r\n        return 0;\r\n    },\r\n    // Controlled State Props\r\n    // page: undefined,\r\n    // pageSize: undefined,\r\n    // sorted: [],\r\n    // filtered: [],\r\n    // resized: [],\r\n    // expanded: {},\r\n    // Controlled State Callbacks\r\n    onPageChange: undefined,\r\n    onPageSizeChange: undefined,\r\n    onSortedChange: undefined,\r\n    onFilteredChange: undefined,\r\n    onResizedChange: undefined,\r\n    onExpandedChange: undefined,\r\n    // Pivoting\r\n    pivotBy: undefined,\r\n    // Key Constants\r\n    pivotValKey: '_pivotVal',\r\n    pivotIDKey: '_pivotID',\r\n    subRowsKey: '_subRows',\r\n    aggregatedKey: '_aggregated',\r\n    nestingLevelKey: '_nestingLevel',\r\n    originalKey: '_original',\r\n    indexKey: '_index',\r\n    groupedByPivotKey: '_groupedByPivot',\r\n    // Server-side Callbacks\r\n    onFetchData: () => null,\r\n    // Component decorators\r\n    getProps: ({ className }) => ({ className }),\r\n    getTableProps: ({ decorations }) => (decorations && decorations.table) || defaultTableProps,\r\n    getTheadGroupProps: ({ decorations }) => (decorations && (decorations.headerGroup || decorations.header)) || {},\r\n    getTheadGroupTrProps: emptyObj,\r\n    getTheadProps: emptyObj,\r\n    getTheadTrProps: emptyObj,\r\n    getTheadThProps: ({ decorations }) => (decorations && decorations.header) || defaultHeaderProps,\r\n    getTheadFilterProps: emptyObj,\r\n    getTheadFilterTrProps: ({ decorations }) => (decorations && decorations.filterRow) || {},\r\n    getFilterInputProps: ({ decorations }) => (decorations && decorations.filterInput) || defaultFilterInputProps,\r\n    getTheadFilterThProps: ({ decorations }) => (decorations && decorations.filter) || defaultFilterProps,\r\n    getTbodyProps: ({ decorations }) => (decorations && decorations.body) || defaultBodyProps,\r\n    getTrGroupProps: emptyObj,\r\n    getTrProps: (even, { decorations }) => {\r\n        if (decorations) {\r\n            let props = Object.assign({}, decorations.row);\r\n            if (even) {\r\n                props = Object.assign(Object.assign({}, props), (decorations.rowEven || defaultRowEvenProps));\r\n            }\r\n            else {\r\n                props = Object.assign(Object.assign({}, props), (decorations.rowOdd || defaultRowOddProps));\r\n            }\r\n            return props;\r\n        }\r\n        return even ? defaultRowEvenProps : defaultRowOddProps;\r\n    },\r\n    getTdProps: ({ decorations }) => (decorations && decorations.cell) || {},\r\n    getExpanderProps: ({ decorations }) => (decorations && decorations.expander) || {},\r\n    getTfootProps: emptyObj,\r\n    getTfootTrProps: emptyObj,\r\n    getTfootTdProps: ({ decorations }) => (decorations && decorations.footer) || defaultFooterProps,\r\n    getPaginationProps: ({ decorations }) => (decorations && decorations.pagination) || defaultPaginationProps,\r\n    getLoadingProps: emptyObj,\r\n    getNoDataProps: emptyObj,\r\n    getResizerProps: emptyObj,\r\n    // Global Column Defaults\r\n    column: {\r\n        // Renderers\r\n        Cell: undefined,\r\n        Header: undefined,\r\n        Footer: undefined,\r\n        Aggregated: undefined,\r\n        Pivot: undefined,\r\n        PivotValue: undefined,\r\n        Expander: undefined,\r\n        Filter: undefined,\r\n        // All Columns\r\n        sortable: undefined,\r\n        resizable: undefined,\r\n        filterable: undefined,\r\n        show: true,\r\n        minWidth: 100,\r\n        // Cells only\r\n        getProps: (_state, _rowInfo, column) => {\r\n            if (column && column.decorations) {\r\n                return column.decorations.cell || {};\r\n            }\r\n            return {};\r\n        },\r\n        // Pivot only\r\n        aggregate: undefined,\r\n        // Headers only\r\n        getHeaderProps: (_state, _rowInfo, column) => (column && column.decorations && column.decorations.header) || {},\r\n        getFilterProps: (_state, _rowInfo, column) => (column && column.decorations && column.decorations.filter) || {},\r\n        // Footers only\r\n        getFooterProps: (_state, _rowInfo, column) => (column && column.decorations && column.decorations.footer) || {},\r\n        filterMethod: undefined,\r\n        filterAll: false,\r\n        sortMethod: undefined,\r\n    },\r\n    // Global Expander Column Defaults\r\n    expanderDefaults: {\r\n        sortable: false,\r\n        resizable: false,\r\n        filterable: false,\r\n        width: 46,\r\n    },\r\n    pivotDefaults: {\r\n    // extend the defaults for pivoted columns here\r\n    },\r\n    // Text\r\n    previousText: 'Previous',\r\n    nextText: 'Next',\r\n    loadingText: 'Loading...',\r\n    noDataText: 'No rows found',\r\n    pageText: 'Page',\r\n    ofText: 'of',\r\n    rowsText: 'rows',\r\n    // Components\r\n    TableComponent,\r\n    TheadComponent,\r\n    TbodyComponent,\r\n    TrGroupComponent,\r\n    TrComponent,\r\n    ThComponent,\r\n    TdComponent,\r\n    CellTextComponent,\r\n    TfootComponent,\r\n    FilterComponent,\r\n    ExpanderComponent,\r\n    PivotValueComponent,\r\n    AggregatedComponent: ({ subRows, column }) => {\r\n        const previewValues = subRows\r\n            .filter(d => typeof d[column.id] !== 'undefined')\r\n            .map((row, i) => (\r\n        // eslint-disable-next-line react/no-array-index-key\r\n        React.createElement(\"span\", { key: i },\r\n            row[column.id],\r\n            i < subRows.length - 1 ? ', ' : '')));\r\n        return React.createElement(\"span\", null, previewValues);\r\n    },\r\n    PivotComponent: undefined,\r\n    // the ExpanderComponent and PivotValueComponent at run-time in methods.js\r\n    PaginationComponent: ReactTablePagination,\r\n    PreviousComponent: undefined,\r\n    NextComponent: undefined,\r\n    LoadingComponent,\r\n    NoDataComponent,\r\n    ResizerComponent,\r\n    PadRowComponent: () => React.createElement(\"span\", null, \"\\u00A0\"),\r\n};\n\n/* eslint-disable no-nested-ternary,no-shadow,no-param-reassign,\r\nprefer-destructuring,no-mixed-operators */\r\nclass ReactTable extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.rowRef = [];\r\n        this.footerRef = null;\r\n        this.filterRef = null;\r\n        this.headerRef = null;\r\n        this.headerGroupsRef = null;\r\n        this.getResolvedState = (props, state) => (Object.assign(Object.assign(Object.assign(Object.assign({}, _.compactObject(this.state)), _.compactObject(this.props)), _.compactObject(state)), _.compactObject(props)));\r\n        this.fireFetchData = () => {\r\n            this.props.onFetchData(this.getResolvedState(), this);\r\n        };\r\n        this.getStateOrProp = key => _.getFirstDefined(this.state[key], this.props[key]);\r\n        this.getMinRows = () => _.getFirstDefined(this.props.minRows, this.getStateOrProp('pageSize'));\r\n        // User actions\r\n        this.onPageChange = page => {\r\n            const { onPageChange, collapseOnPageChange } = this.props;\r\n            const newState = { page };\r\n            if (collapseOnPageChange) {\r\n                newState.expanded = {};\r\n            }\r\n            this.setStateWithData(newState, this.state, this.props, () => onPageChange && onPageChange(page));\r\n        };\r\n        this.onPageSizeChange = newPageSize => {\r\n            const { onPageSizeChange } = this.props;\r\n            const { pageSize, page } = this.getResolvedState();\r\n            // Normalize the page to display\r\n            const currentRow = pageSize * page;\r\n            const newPage = Math.floor(currentRow / newPageSize);\r\n            this.setStateWithData({\r\n                pageSize: newPageSize,\r\n                page: newPage,\r\n            }, this.state, this.props, () => onPageSizeChange && onPageSizeChange(newPageSize, newPage));\r\n        };\r\n        this.sortColumn = (column, additive) => {\r\n            const { sorted, skipNextSort, defaultSortDesc } = this.getResolvedState();\r\n            const firstSortDirection = Object.prototype.hasOwnProperty.call(column, 'defaultSortDesc')\r\n                ? column.defaultSortDesc\r\n                : defaultSortDesc;\r\n            const secondSortDirection = !firstSortDirection;\r\n            // we can't stop event propagation from the column resize move handlers\r\n            // attached to the document because of react's synthetic events\r\n            // so we have to prevent the sort function from actually sorting\r\n            // if we click on the column resize element within a header.\r\n            if (skipNextSort) {\r\n                this.setStateWithData({\r\n                    skipNextSort: false,\r\n                }, this.state, this.props);\r\n                return;\r\n            }\r\n            const { onSortedChange } = this.props;\r\n            let newSorted = _.clone(sorted || []).map(d => {\r\n                d.desc = _.isSortingDesc(d);\r\n                return d;\r\n            });\r\n            if (!_.isArray(column)) {\r\n                // Single-Sort\r\n                const existingIndex = newSorted.findIndex(d => d.id === column.id);\r\n                if (existingIndex > -1) {\r\n                    const existing = newSorted[existingIndex];\r\n                    if (existing.desc === secondSortDirection) {\r\n                        if (additive) {\r\n                            newSorted.splice(existingIndex, 1);\r\n                        }\r\n                        else {\r\n                            existing.desc = firstSortDirection;\r\n                            newSorted = [existing];\r\n                        }\r\n                    }\r\n                    else {\r\n                        existing.desc = secondSortDirection;\r\n                        if (!additive) {\r\n                            newSorted = [existing];\r\n                        }\r\n                    }\r\n                }\r\n                else if (additive) {\r\n                    newSorted.push({\r\n                        id: column.id,\r\n                        desc: firstSortDirection,\r\n                    });\r\n                }\r\n                else {\r\n                    newSorted = [\r\n                        {\r\n                            id: column.id,\r\n                            desc: firstSortDirection,\r\n                        },\r\n                    ];\r\n                }\r\n            }\r\n            else {\r\n                // Multi-Sort\r\n                const existingIndex = newSorted.findIndex(d => d.id === column[0].id);\r\n                // Existing Sorted Column\r\n                if (existingIndex > -1) {\r\n                    const existing = newSorted[existingIndex];\r\n                    if (existing.desc === secondSortDirection) {\r\n                        if (additive) {\r\n                            newSorted.splice(existingIndex, column.length);\r\n                        }\r\n                        else {\r\n                            column.forEach((_d, i) => {\r\n                                newSorted[existingIndex + i].desc = firstSortDirection;\r\n                            });\r\n                        }\r\n                    }\r\n                    else {\r\n                        column.forEach((_d, i) => {\r\n                            newSorted[existingIndex + i].desc = secondSortDirection;\r\n                        });\r\n                    }\r\n                    if (!additive) {\r\n                        newSorted = newSorted.slice(existingIndex, column.length);\r\n                    }\r\n                    // New Sort Column\r\n                }\r\n                else if (additive) {\r\n                    newSorted = newSorted.concat(column.map(d => ({\r\n                        id: d.id,\r\n                        desc: firstSortDirection,\r\n                    })));\r\n                }\r\n                else {\r\n                    newSorted = column.map(d => ({\r\n                        id: d.id,\r\n                        desc: firstSortDirection,\r\n                    }));\r\n                }\r\n            }\r\n            this.setStateWithData({\r\n                page: (!sorted.length && newSorted.length) || !additive\r\n                    ? 0\r\n                    : this.state.page,\r\n                sorted: newSorted,\r\n            }, this.state, this.props, () => onSortedChange && onSortedChange(newSorted, column, additive));\r\n        };\r\n        this.filterColumn = (column, value) => {\r\n            const { filtered } = this.getResolvedState();\r\n            const { onFilteredChange } = this.props;\r\n            // Remove old filter first if it exists\r\n            const newFiltering = (filtered || []).filter(x => x.id !== column.id);\r\n            if (value !== '') {\r\n                newFiltering.push({\r\n                    id: column.id,\r\n                    value,\r\n                });\r\n            }\r\n            this.setStateWithData({\r\n                filtered: newFiltering,\r\n            }, this.state, this.props, () => onFilteredChange && onFilteredChange(newFiltering, column, value));\r\n        };\r\n        this.resizeColumnStart = (event, column, isTouch) => {\r\n            event.stopPropagation();\r\n            const parentWidth = event.target.parentElement.getBoundingClientRect()\r\n                .width;\r\n            let pageX;\r\n            if (isTouch) {\r\n                pageX = event.changedTouches[0].pageX;\r\n            }\r\n            else {\r\n                pageX = event.pageX;\r\n            }\r\n            this.setStateWithData({\r\n                currentlyResizing: {\r\n                    id: column.id,\r\n                    startX: pageX,\r\n                    parentWidth,\r\n                },\r\n            }, this.state, this.props, () => {\r\n                if (isTouch) {\r\n                    document.addEventListener('touchmove', this.resizeColumnMoving);\r\n                    document.addEventListener('touchcancel', this.resizeColumnEnd);\r\n                    document.addEventListener('touchend', this.resizeColumnEnd);\r\n                }\r\n                else {\r\n                    document.addEventListener('mousemove', this.resizeColumnMoving);\r\n                    document.addEventListener('mouseup', this.resizeColumnEnd);\r\n                    document.addEventListener('mouseleave', this.resizeColumnEnd);\r\n                }\r\n            });\r\n        };\r\n        this.resizeColumnMoving = event => {\r\n            event.stopPropagation();\r\n            const { onResizedChange } = this.props;\r\n            const { resized, currentlyResizing } = this.getResolvedState();\r\n            // Delete old value\r\n            const newResized = resized.filter(x => x.id !== currentlyResizing.id);\r\n            let pageX;\r\n            if (event.type === 'touchmove') {\r\n                pageX = event.changedTouches[0].pageX;\r\n            }\r\n            else if (event.type === 'mousemove') {\r\n                pageX = event.pageX;\r\n            }\r\n            // Set the min size to 10 to account for margin and border or else the\r\n            // group headers don't line up correctly\r\n            const newWidth = Math.max(currentlyResizing.parentWidth + pageX - currentlyResizing.startX, 11);\r\n            newResized.push({\r\n                id: currentlyResizing.id,\r\n                value: newWidth,\r\n            });\r\n            this.setStateWithData({\r\n                resized: newResized,\r\n            }, this.state, this.props, () => onResizedChange && onResizedChange(newResized, event));\r\n        };\r\n        this.resizeColumnEnd = event => {\r\n            event.stopPropagation();\r\n            const isTouch = event.type === 'touchend' || event.type === 'touchcancel';\r\n            if (isTouch) {\r\n                document.removeEventListener('touchmove', this.resizeColumnMoving);\r\n                document.removeEventListener('touchcancel', this.resizeColumnEnd);\r\n                document.removeEventListener('touchend', this.resizeColumnEnd);\r\n            }\r\n            // If its a touch event clear the mouse one's as well because sometimes\r\n            // the mouseDown event gets called as well, but the mouseUp event doesn't\r\n            document.removeEventListener('mousemove', this.resizeColumnMoving);\r\n            document.removeEventListener('mouseup', this.resizeColumnEnd);\r\n            document.removeEventListener('mouseleave', this.resizeColumnEnd);\r\n            // The touch events don't propagate up to the sorting's onMouseDown event so\r\n            // no need to prevent it from happening or else the first click after a touch\r\n            // event resize will not sort the column.\r\n            if (!isTouch) {\r\n                this.setStateWithData({\r\n                    skipNextSort: true,\r\n                    currentlyResizing: undefined,\r\n                }, this.state, this.props);\r\n            }\r\n        };\r\n        this.rowRef = [];\r\n        this.state = {\r\n            page: 0,\r\n            pageSize: props.defaultPageSize,\r\n            sorted: props.defaultSorted,\r\n            expanded: props.defaultExpanded,\r\n            filtered: props.defaultFiltered,\r\n            resized: props.defaultResized,\r\n            currentlyResizing: undefined,\r\n            skipNextSort: false,\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        this.fireFetchData();\r\n    }\r\n    static getDerivedStateFromProps(nextProps, oldState) {\r\n        const newState = Object.assign(Object.assign({}, oldState), nextProps);\r\n        // Do a deep compare of new and old `defaultOption` and\r\n        // if they are different reset `option = defaultOption`\r\n        const defaultableOptions = ['sorted', 'filtered', 'resized', 'expanded'];\r\n        defaultableOptions.forEach(x => {\r\n            const defaultName = `default${x.charAt(0).toUpperCase() + x.slice(1)}`;\r\n            if (JSON.stringify(oldState[defaultName]) !==\r\n                JSON.stringify(newState[defaultName])) {\r\n                newState[x] = newState[defaultName];\r\n            }\r\n        });\r\n        // If they change these table options, we need to reset defaults\r\n        // or else we could get into a state where the user has changed the UI\r\n        // and then disabled the ability to change it back.\r\n        // e.g. If `filterable` has changed, set `filtered = defaultFiltered`\r\n        const resettableOptions = ['sortable', 'filterable', 'resizable'];\r\n        resettableOptions.forEach(x => {\r\n            if (oldState[x] !== newState[x]) {\r\n                const baseName = x.replace('able', '');\r\n                const optionName = `${baseName}ed`;\r\n                const defaultName = `default${optionName.charAt(0).toUpperCase() +\r\n                    optionName.slice(1)}`;\r\n                newState[optionName] = newState[defaultName];\r\n            }\r\n        });\r\n        // Props that trigger a data update\r\n        if (oldState.data !== newState.data ||\r\n            JSON.stringify(oldState.columns) !== JSON.stringify(newState.columns) ||\r\n            oldState.pivotBy !== newState.pivotBy ||\r\n            oldState.sorted !== newState.sorted ||\r\n            oldState.filtered !== newState.filtered) {\r\n            return ReactTable.getStateWithData(ReactTable.getDataModel(newState, nextProps), oldState, nextProps);\r\n        }\r\n        return null;\r\n    }\r\n    static getStateWithData(newState, oldState, props) {\r\n        const newResolvedState = Object.assign(Object.assign(Object.assign({}, oldState), newState), props);\r\n        const { freezeWhenExpanded } = newResolvedState;\r\n        // Default to unfrozen state\r\n        newResolvedState.frozen = false;\r\n        // If freezeWhenExpanded is set, check for frozen conditions\r\n        if (freezeWhenExpanded) {\r\n            // if any rows are expanded, freeze the existing data and sorting\r\n            const keys = Object.keys(newResolvedState.expanded);\r\n            for (let i = 0; i < keys.length; i += 1) {\r\n                if (newResolvedState.expanded[keys[i]]) {\r\n                    newResolvedState.frozen = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // If the data isn't frozen and either the data or\r\n        // sorting model has changed, update the data\r\n        if ((oldState.frozen && !newResolvedState.frozen) ||\r\n            oldState.sorted !== newResolvedState.sorted ||\r\n            oldState.filtered !== newResolvedState.filtered ||\r\n            oldState.showFilters !== newResolvedState.showFilters ||\r\n            (!newResolvedState.frozen &&\r\n                oldState.resolvedData !== newResolvedState.resolvedData)) {\r\n            // Handle collapseOnsortedChange & collapseOnDataChange\r\n            if ((oldState.sorted !== newResolvedState.sorted &&\r\n                props.collapseOnSortingChange) ||\r\n                oldState.filtered !== newResolvedState.filtered ||\r\n                oldState.showFilters !== newResolvedState.showFilters ||\r\n                (oldState.sortedData &&\r\n                    !newResolvedState.frozen &&\r\n                    oldState.resolvedData !== newResolvedState.resolvedData &&\r\n                    props.collapseOnDataChange)) {\r\n                newResolvedState.expanded = {};\r\n            }\r\n            Object.assign(newResolvedState, ReactTable.getSortedData(newResolvedState, props));\r\n        }\r\n        // Set page to 0 if filters change\r\n        if (oldState.filtered !== newResolvedState.filtered) {\r\n            newResolvedState.page = 0;\r\n        }\r\n        // Calculate pageSize all the time\r\n        if (newResolvedState.sortedData) {\r\n            newResolvedState.pages = newResolvedState.manual\r\n                ? newResolvedState.pages\r\n                : Math.ceil(newResolvedState.sortedData.length / newResolvedState.pageSize);\r\n            newResolvedState.page = Math.max(newResolvedState.page >= newResolvedState.pages\r\n                ? newResolvedState.pages - 1\r\n                : newResolvedState.page, 0);\r\n        }\r\n        return newResolvedState;\r\n    }\r\n    setStateWithData(newState, oldState, props, cb) {\r\n        const newResolvedState = ReactTable.getStateWithData(newState, oldState, props);\r\n        return this.setState(newResolvedState, () => {\r\n            if (cb) {\r\n                cb();\r\n            }\r\n            if (oldState.page !== newResolvedState.page ||\r\n                oldState.pageSize !== newResolvedState.pageSize ||\r\n                oldState.sorted !== newResolvedState.sorted ||\r\n                oldState.filtered !== newResolvedState.filtered) {\r\n                this.fireFetchData();\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        const resolvedState = this.getResolvedState();\r\n        const { getProps, getTableProps, getTheadGroupProps, getTheadGroupTrProps, getTheadProps, getTheadTrProps, getTheadThProps, getTheadFilterProps, getTheadFilterTrProps, getTheadFilterThProps, getFilterInputProps, getTbodyProps, getTrGroupProps, getTrProps, getTdProps, getExpanderProps, getTfootProps, getTfootTrProps, getTfootTdProps, getPaginationProps, getLoadingProps, getNoDataProps, getResizerProps, showPagination, showPaginationTop, showPaginationBottom, manual, loadingText, noDataText, sortable, multiSort, resizable, filterable, \r\n        // Pivoting State\r\n        pivotIDKey, pivotValKey, pivotBy, subRowsKey, aggregatedKey, originalKey, indexKey, groupedByPivotKey, expanderTdDefaultProps, \r\n        // State\r\n        loading, pageSize, page, sorted, filtered, resized, expanded, pages, onExpandedChange, \r\n        // Components\r\n        TableComponent, TheadComponent, TbodyComponent, TrGroupComponent, TrComponent, ThComponent, TdComponent, CellTextComponent, TfootComponent, PaginationComponent, LoadingComponent, SubComponent, NoDataComponent, ResizerComponent, ExpanderComponent, PivotValueComponent, PivotComponent, AggregatedComponent, FilterComponent, PadRowComponent, \r\n        // Data model\r\n        resolvedData, allVisibleColumns, headerGroups, hasHeaderGroups, \r\n        // Sorted Data\r\n        sortedData, } = resolvedState;\r\n        // Pagination\r\n        const startRow = pageSize * page;\r\n        const endRow = startRow + pageSize;\r\n        let pageRows = manual ? resolvedData : sortedData.slice(startRow, endRow);\r\n        const minRows = this.getMinRows();\r\n        const padRows = _.range(Math.max(minRows - pageRows.length, 0));\r\n        const hasColumnFooter = allVisibleColumns.some(d => d.Footer);\r\n        const hasFilters = filterable || allVisibleColumns.some(d => d.filterable);\r\n        const recurseRowsViewIndex = (rows, path = [], index = -1) => [\r\n            rows.map((row, i) => {\r\n                index += 1;\r\n                const rowWithViewIndex = Object.assign(Object.assign({}, row), { viewIndex: index });\r\n                const newPath = path.concat([i]);\r\n                if (rowWithViewIndex[subRowsKey] && _.get(expanded, newPath)) {\r\n                    [rowWithViewIndex[subRowsKey], index] = recurseRowsViewIndex(rowWithViewIndex[subRowsKey], newPath, index);\r\n                }\r\n                return rowWithViewIndex;\r\n            }),\r\n            index,\r\n        ];\r\n        [pageRows] = recurseRowsViewIndex(pageRows);\r\n        const canPrevious = page > 0;\r\n        const canNext = page + 1 < pages;\r\n        const rowMinWidth = _.sum(allVisibleColumns.map(d => {\r\n            const resizedColumn = resized.find(x => x.id === d.id) || {\r\n                id: undefined,\r\n                value: undefined,\r\n            };\r\n            return _.getFirstDefined(resizedColumn.value, d.width, d.minWidth);\r\n        }));\r\n        let rowIndex = -1;\r\n        const finalState = Object.assign(Object.assign({}, resolvedState), { startRow,\r\n            endRow,\r\n            pageRows,\r\n            minRows,\r\n            padRows,\r\n            hasColumnFooter,\r\n            canPrevious,\r\n            canNext,\r\n            rowMinWidth });\r\n        const rootProps = getProps(finalState, undefined, undefined, this);\r\n        const tableProps = getTableProps(finalState, undefined, undefined, this);\r\n        const tBodyProps = getTbodyProps(finalState, undefined, undefined, this);\r\n        const loadingProps = getLoadingProps(finalState, undefined, undefined, this);\r\n        const noDataProps = getNoDataProps(finalState, undefined, undefined, this);\r\n        // Visual Components\r\n        const makeHeaderGroup = (column, i) => {\r\n            const resizedValue = col => (resized.find(x => x.id === col.id) || {\r\n                id: undefined,\r\n                value: undefined,\r\n            }).value;\r\n            const flex = _.sum(column.columns.map(col => col.width || resizedValue(col) ? 0 : col.minWidth));\r\n            const width = _.sum(column.columns.map(col => _.getFirstDefined(resizedValue(col), col.width, col.minWidth)));\r\n            const maxWidth = _.sum(column.columns.map(col => _.getFirstDefined(resizedValue(col), col.width, col.maxWidth)));\r\n            const theadGroupThProps = getTheadGroupProps(finalState, undefined, column, this);\r\n            const columnHeaderProps = column.getHeaderProps(finalState, undefined, column, this);\r\n            const rest = Object.assign(Object.assign(Object.assign({}, theadGroupThProps), columnHeaderProps), { CellTextComponent });\r\n            const flexStyles = {\r\n                flex: `${flex} 0 auto`,\r\n                width: _.asPx(width),\r\n                maxWidth: _.asPx(maxWidth),\r\n            };\r\n            return (React.createElement(ThComponent, Object.assign({ key: `${i}-${column.id}`, style: flexStyles }, rest), _.normalizeComponent(column.Header, {\r\n                data: sortedData,\r\n                column,\r\n            })));\r\n        };\r\n        const selectRow = index => (nextRow, childIndex) => {\r\n            const selectFirstAvailable = rows => {\r\n                for (let i = 0; i < rows.length; i += 1) {\r\n                    if (rows[i]) {\r\n                        return rows[i].selectFirstChild(childIndex);\r\n                    }\r\n                }\r\n                return false;\r\n            };\r\n            let found;\r\n            if (typeof index === 'number') {\r\n                const { page, pages } = this.state;\r\n                if (nextRow) {\r\n                    if (pageRows.length > index + 1) {\r\n                        found = this.rowRef[index + 1].selectFirstChild(childIndex);\r\n                    }\r\n                    else if (page < pages - 1) {\r\n                        this.onPageChange(page + 1);\r\n                        found = true;\r\n                    }\r\n                    else {\r\n                        found = selectFirstAvailable([this.footerRef]);\r\n                    }\r\n                }\r\n                else if (index > 0) {\r\n                    found = this.rowRef[index - 1].selectFirstChild(childIndex);\r\n                }\r\n                else if (page > 0) {\r\n                    this.onPageChange(page - 1);\r\n                    found = true;\r\n                }\r\n                else {\r\n                    found = selectFirstAvailable([\r\n                        this.filterRef,\r\n                        this.headerRef,\r\n                        this.headerGroupsRef,\r\n                    ]);\r\n                }\r\n            }\r\n            if (!found) {\r\n                if (nextRow) {\r\n                    focusNextElement(document);\r\n                }\r\n                else {\r\n                    focusPrevElement(document);\r\n                }\r\n            }\r\n        };\r\n        const makeHeaderGroups = () => {\r\n            const theadGroupProps = getTheadGroupProps(finalState, undefined, undefined, this);\r\n            const theadGroupTrProps = getTheadGroupTrProps(finalState, undefined, undefined, this);\r\n            return (React.createElement(TheadComponent, Object.assign({ style: { minWidth: `${rowMinWidth}px` } }, theadGroupProps),\r\n                React.createElement(TrComponent, Object.assign({ ref: el => {\r\n                        this.headerGroupsRef = el;\r\n                    }, selectRow: selectRow('headerGroup') }, theadGroupTrProps), headerGroups.map(makeHeaderGroup))));\r\n        };\r\n        const makeHeader = (column, i) => {\r\n            const resizedCol = resized.find(x => x.id === column.id) || {\r\n                id: undefined,\r\n                value: undefined,\r\n            };\r\n            const sort = sorted.find(d => d.id === column.id);\r\n            const show = typeof column.show === 'function' ? column.show() : column.show;\r\n            const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\r\n            const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\r\n            const theadThProps = getTheadThProps(finalState, undefined, column, this);\r\n            const columnHeaderProps = column.getHeaderProps(finalState, undefined, column, this);\r\n            const rest = Object.assign(Object.assign(Object.assign({}, theadThProps), columnHeaderProps), { CellTextComponent });\r\n            const isResizable = _.getFirstDefined(column.resizable, resizable, false);\r\n            const resizer = isResizable ? (React.createElement(ResizerComponent, Object.assign({ onMouseDown: e => this.resizeColumnStart(e, column, false), onTouchStart: e => this.resizeColumnStart(e, column, true) }, getResizerProps(finalState, undefined, column, this)))) : null;\r\n            const isSortable = _.getFirstDefined(column.sortable, sortable, false);\r\n            return (React.createElement(ThComponent, Object.assign({ key: `${i}-${column.id}`, sort: sort && (sort.desc ? '-sort-desc' : '-sort-asc'), resizable: isResizable, sortable: isSortable, hidden: !show, expander: column.expander, pivot: pivotBy && pivotBy.slice(0, -1).includes(column.id), style: {\r\n                    flex: `${width} 0 auto`,\r\n                    width: _.asPx(width),\r\n                    maxWidth: _.asPx(maxWidth),\r\n                }, toggleSort: e => {\r\n                    if (isSortable)\r\n                        this.sortColumn(column, multiSort ? e.shiftKey : false);\r\n                } }, rest),\r\n                _.normalizeComponent(column.Header, {\r\n                    data: sortedData,\r\n                    column,\r\n                }),\r\n                resizer));\r\n        };\r\n        const makeHeaders = () => {\r\n            const theadProps = getTheadProps(finalState, undefined, undefined, this);\r\n            const theadTrProps = getTheadTrProps(finalState, undefined, undefined, this);\r\n            return (React.createElement(TheadComponent, Object.assign({ header: true, style: {\r\n                    minWidth: `${rowMinWidth}px`,\r\n                } }, theadProps),\r\n                React.createElement(TrComponent, Object.assign({ ref: el => {\r\n                        this.headerRef = el;\r\n                    }, selectRow: selectRow('header') }, theadTrProps), allVisibleColumns.map(makeHeader))));\r\n        };\r\n        const makeFilter = (column, i) => {\r\n            const resizedCol = resized.find(x => x.id === column.id) || {\r\n                id: undefined,\r\n                value: undefined,\r\n            };\r\n            const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\r\n            const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\r\n            const theadFilterThProps = getTheadFilterThProps(finalState, undefined, column, this);\r\n            const filterInputProps = getFilterInputProps(finalState, undefined, column, this);\r\n            const columnHeaderProps = column.getFilterProps(finalState, undefined, column, this);\r\n            const rest = Object.assign(Object.assign(Object.assign({}, theadFilterThProps), columnHeaderProps), { CellTextComponent });\r\n            const filter = filtered.find(filter => filter.id === column.id);\r\n            const ResolvedFilterComponent = column.Filter || FilterComponent;\r\n            const isFilterable = _.getFirstDefined(column.filterable, filterable, false);\r\n            return (React.createElement(ThComponent, Object.assign({ key: `${i}-${column.id}`, style: {\r\n                    flex: `${width} 0 auto`,\r\n                    width: _.asPx(width),\r\n                    maxWidth: _.asPx(maxWidth),\r\n                } }, rest), isFilterable\r\n                ? _.normalizeComponent(ResolvedFilterComponent, Object.assign(Object.assign({}, filterInputProps), { column,\r\n                    filter, onChange: value => this.filterColumn(column, value) }), undefined)\r\n                : null));\r\n        };\r\n        const makeFilters = () => {\r\n            const theadFilterProps = getTheadFilterProps(finalState, undefined, undefined, this);\r\n            const theadFilterTrProps = getTheadFilterTrProps(finalState, undefined, undefined, this);\r\n            return (React.createElement(TheadComponent, Object.assign({ filters: true, style: {\r\n                    minWidth: `${rowMinWidth}px`,\r\n                } }, theadFilterProps),\r\n                React.createElement(TrComponent, Object.assign({ ref: el => {\r\n                        this.filterRef = el;\r\n                    }, selectRow: selectRow('filter') }, theadFilterTrProps), allVisibleColumns.map(makeFilter))));\r\n        };\r\n        const makePageRow = (row, i, path = []) => {\r\n            const rowInfo = {\r\n                original: row[originalKey],\r\n                row,\r\n                index: row[indexKey],\r\n                viewIndex: rowIndex += 1,\r\n                pageSize,\r\n                page,\r\n                level: path.length,\r\n                nestingPath: path.concat([i]),\r\n                aggregated: row[aggregatedKey],\r\n                groupedByPivot: row[groupedByPivotKey],\r\n                subRows: row[subRowsKey],\r\n            };\r\n            const isExpanded = _.get(expanded, rowInfo.nestingPath);\r\n            const trGroupProps = getTrGroupProps(finalState, rowInfo, undefined, this);\r\n            const expanderProps = getExpanderProps(finalState, rowInfo, undefined, this);\r\n            const trProps = getTrProps(row.viewIndex % 2, finalState, rowInfo, undefined, this);\r\n            return (React.createElement(TrGroupComponent, Object.assign({ key: rowInfo.nestingPath.join('_') }, trGroupProps),\r\n                React.createElement(TrComponent, Object.assign({ selectRow: selectRow(i), ref: el => {\r\n                        this.rowRef[i] = el;\r\n                    }, rowIndex: row.viewIndex }, trProps), allVisibleColumns.map((column, i2) => {\r\n                    let defaultTdProps = {};\r\n                    const resizedCol = resized.find(x => x.id === column.id) || {\r\n                        id: undefined,\r\n                        value: undefined,\r\n                    };\r\n                    const show = typeof column.show === 'function' ? column.show() : column.show;\r\n                    const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\r\n                    const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\r\n                    const tdProps = getTdProps(finalState, rowInfo, column, this);\r\n                    const columnProps = column.getProps(finalState, rowInfo, column);\r\n                    const cellInfo = Object.assign(Object.assign(Object.assign(Object.assign({}, rowInfo), { isExpanded, column: Object.assign({}, column), value: rowInfo.row[column.id], pivoted: column.pivoted, expander: column.expander, expandable: undefined, resized,\r\n                        show,\r\n                        width,\r\n                        maxWidth }), tdProps), columnProps);\r\n                    let value = cellInfo.value;\r\n                    let useOnExpanderClick;\r\n                    let isBranch;\r\n                    let isPreview;\r\n                    const onExpanderClick = e => {\r\n                        let newExpanded = _.clone(expanded);\r\n                        if (isExpanded) {\r\n                            newExpanded = _.set(newExpanded, cellInfo.nestingPath, false);\r\n                        }\r\n                        else {\r\n                            newExpanded = _.set(newExpanded, cellInfo.nestingPath, {});\r\n                        }\r\n                        return this.setStateWithData({\r\n                            expanded: newExpanded,\r\n                        }, this.state, this.props, () => onExpandedChange &&\r\n                            onExpandedChange(newExpanded, cellInfo.nestingPath, e));\r\n                    };\r\n                    // Default to a standard cell\r\n                    if (column.Cell) {\r\n                        value = _.normalizeComponent(column.Cell, cellInfo, value);\r\n                    }\r\n                    const cellProps = Object.assign(Object.assign({}, tdProps), columnProps);\r\n                    let resolvedCell = (React.createElement(CellTextComponent, Object.assign({ value: value }, cellProps)));\r\n                    // Resolve Renderers\r\n                    const ResolvedAggregatedComponent = column.Aggregated ||\r\n                        (!column.aggregate ? AggregatedComponent : column.Cell);\r\n                    const ResolvedExpanderComponent = column.Expander || ExpanderComponent;\r\n                    const ResolvedPivotValueComponent = column.PivotValue || PivotValueComponent;\r\n                    const DefaultResolvedPivotComponent = PivotComponent ||\r\n                        (props => (React.createElement(React.Fragment, null,\r\n                            React.createElement(ResolvedExpanderComponent, Object.assign({}, Object.assign(Object.assign({}, props), { expanderProps }))),\r\n                            React.createElement(ResolvedPivotValueComponent, Object.assign({}, props)))));\r\n                    const ResolvedPivotComponent = column.Pivot || DefaultResolvedPivotComponent;\r\n                    // Is this cell expandable?\r\n                    if (cellInfo.pivoted || cellInfo.expander) {\r\n                        // Make it expandable by defualt\r\n                        cellInfo.expandable = true;\r\n                        useOnExpanderClick = true;\r\n                        // If pivoted, has no subRows, and does not have a subComponent,\r\n                        // do not make expandable\r\n                        if (cellInfo.pivoted && !cellInfo.subRows && !SubComponent) {\r\n                            cellInfo.expandable = false;\r\n                        }\r\n                    }\r\n                    if (cellInfo.pivoted) {\r\n                        // Is this column a branch?\r\n                        isBranch =\r\n                            rowInfo.row[pivotIDKey] === column.id && cellInfo.subRows;\r\n                        // Should this column be blank?\r\n                        isPreview =\r\n                            pivotBy.indexOf(column.id) >\r\n                                pivotBy.indexOf(rowInfo.row[pivotIDKey]) &&\r\n                                cellInfo.subRows;\r\n                        // Pivot Cell Render Override\r\n                        if (isBranch) {\r\n                            // isPivot\r\n                            resolvedCell = _.normalizeComponent(ResolvedPivotComponent, Object.assign(Object.assign({}, cellInfo), { value: row[pivotValKey] }), row[pivotValKey]);\r\n                        }\r\n                        else if (isPreview) {\r\n                            // Show the pivot preview\r\n                            resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value);\r\n                        }\r\n                        else {\r\n                            resolvedCell = null;\r\n                        }\r\n                    }\r\n                    else if (cellInfo.aggregated) {\r\n                        resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value);\r\n                    }\r\n                    if (cellInfo.expander) {\r\n                        defaultTdProps = expanderTdDefaultProps;\r\n                        resolvedCell = _.normalizeComponent(ResolvedExpanderComponent, Object.assign(Object.assign({}, cellInfo), { expanderProps }), row[pivotValKey]);\r\n                        if (pivotBy) {\r\n                            if (cellInfo.groupedByPivot) {\r\n                                resolvedCell = null;\r\n                            }\r\n                            if (!cellInfo.subRows && !SubComponent) {\r\n                                resolvedCell = null;\r\n                            }\r\n                        }\r\n                    }\r\n                    const resolvedOnExpanderClick = useOnExpanderClick\r\n                        ? onExpanderClick\r\n                        : () => { };\r\n                    // If there are multiple onClick events, make sure they don't\r\n                    // override eachother. This should maybe be expanded to handle all\r\n                    // function attributes\r\n                    const interactionProps = {\r\n                        onClick: resolvedOnExpanderClick,\r\n                    };\r\n                    if (tdProps.onClick) {\r\n                        interactionProps.onClick = e => {\r\n                            tdProps.onClick(e, () => resolvedOnExpanderClick(e));\r\n                        };\r\n                    }\r\n                    if (columnProps.onClick) {\r\n                        interactionProps.onClick = e => {\r\n                            columnProps.onClick(e, () => resolvedOnExpanderClick(e));\r\n                        };\r\n                    }\r\n                    // Return the cell\r\n                    return (React.createElement(TdComponent\r\n                    // eslint-disable-next-line react/no-array-index-key\r\n                    , Object.assign({ \r\n                        // eslint-disable-next-line react/no-array-index-key\r\n                        key: `${i2}-${column.id}`, hidden: !show, style: {\r\n                            flex: `${width} 0 auto`,\r\n                            width: _.asPx(width),\r\n                            maxWidth: _.asPx(maxWidth),\r\n                        } }, tdProps, columnProps, interactionProps, defaultTdProps), resolvedCell));\r\n                })),\r\n                rowInfo.subRows &&\r\n                    isExpanded &&\r\n                    rowInfo.subRows.map((d, i) => makePageRow(d, i, rowInfo.nestingPath)),\r\n                SubComponent &&\r\n                    !rowInfo.subRows &&\r\n                    isExpanded &&\r\n                    SubComponent(rowInfo)));\r\n        };\r\n        const makePadColumn = (column, i) => {\r\n            const resizedCol = resized.find(x => x.id === column.id) || {\r\n                id: undefined,\r\n                value: undefined,\r\n            };\r\n            const show = typeof column.show === 'function' ? column.show() : column.show;\r\n            const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\r\n            const flex = width;\r\n            const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\r\n            const tdProps = getTdProps(finalState, undefined, column, this);\r\n            return (React.createElement(TdComponent, Object.assign({ key: `${i}-${column.id}`, hidden: !show, style: {\r\n                    flex: `${flex} 0 auto`,\r\n                    width: _.asPx(width),\r\n                    maxWidth: _.asPx(maxWidth),\r\n                } }, tdProps), _.normalizeComponent(PadRowComponent)));\r\n        };\r\n        const makePadRow = (row, i) => {\r\n            const trGroupProps = getTrGroupProps(finalState, undefined, undefined, this);\r\n            const trProps = getTrProps(row.viewIndex % 2, finalState, undefined, undefined, this);\r\n            return (React.createElement(TrGroupComponent, Object.assign({ key: i }, trGroupProps),\r\n                React.createElement(TrComponent, Object.assign({ padrow: true, even: (pageRows.length + i) % 2 }, trProps), allVisibleColumns.map(makePadColumn))));\r\n        };\r\n        const makeColumnFooter = (column, i) => {\r\n            const resizedCol = resized.find(x => x.id === column.id) || {\r\n                id: undefined,\r\n                value: undefined,\r\n            };\r\n            const show = typeof column.show === 'function' ? column.show() : column.show;\r\n            const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth);\r\n            const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth);\r\n            const tFootTdProps = getTfootTdProps(finalState, undefined, undefined, this);\r\n            const columnProps = column.getProps(finalState, undefined, column, this);\r\n            const columnFooterProps = column.getFooterProps(finalState, undefined, column, this);\r\n            return (React.createElement(TdComponent, Object.assign({ key: `${i}-${column.id}`, hidden: !show, style: {\r\n                    flex: `${width} 0 auto`,\r\n                    width: _.asPx(width),\r\n                    maxWidth: _.asPx(maxWidth),\r\n                } }, columnProps, tFootTdProps, columnFooterProps), _.normalizeComponent(column.Footer, {\r\n                data: sortedData,\r\n                column,\r\n            })));\r\n        };\r\n        const makeColumnFooters = () => {\r\n            const tFootProps = getTfootProps(finalState, undefined, undefined, this);\r\n            const tFootTrProps = getTfootTrProps(finalState, undefined, undefined, this);\r\n            return (React.createElement(TfootComponent, Object.assign({ style: {\r\n                    minWidth: `${rowMinWidth}px`,\r\n                } }, tFootProps),\r\n                React.createElement(TrComponent, Object.assign({ ref: el => {\r\n                        this.footerRef = el;\r\n                    }, selectRow: selectRow('footer') }, tFootTrProps), allVisibleColumns.map(makeColumnFooter))));\r\n        };\r\n        const makePagination = () => {\r\n            const paginationProps = getPaginationProps(finalState, undefined, undefined, this);\r\n            return (React.createElement(PaginationComponent, Object.assign({}, resolvedState, { pages: pages, canPrevious: canPrevious, canNext: canNext, onPageChange: this.onPageChange, onPageSizeChange: this.onPageSizeChange }, paginationProps)));\r\n        };\r\n        const makeTable = () => {\r\n            const pagination = makePagination();\r\n            return (React.createElement(\"div\", Object.assign({}, rootProps),\r\n                showPagination && showPaginationTop ? React.createElement(\"div\", null, pagination) : null,\r\n                React.createElement(TableComponent, Object.assign({}, tableProps),\r\n                    hasHeaderGroups ? makeHeaderGroups() : null,\r\n                    makeHeaders(),\r\n                    hasFilters ? makeFilters() : null,\r\n                    React.createElement(TbodyComponent, Object.assign({ style: {\r\n                            minWidth: `${rowMinWidth}px`,\r\n                        } }, tBodyProps),\r\n                        React.createElement(LoadingComponent, Object.assign({ loading: loading, loadingText: loadingText }, loadingProps)),\r\n                        pageRows.map((d, i) => makePageRow(d, i)),\r\n                        padRows.map(makePadRow)),\r\n                    hasColumnFooter ? makeColumnFooters() : null),\r\n                showPagination && showPaginationBottom ? (React.createElement(\"div\", null, pagination)) : null,\r\n                !pageRows.length && !loading && (React.createElement(NoDataComponent, Object.assign({}, noDataProps), _.normalizeComponent(noDataText)))));\r\n        };\r\n        // childProps are optionally passed to a function-as-a-child\r\n        return makeTable();\r\n    }\r\n}\r\nReactTable.defaultProps = defaultProps;\r\nReactTable.getDataModel = (newState, props) => {\r\n    const { columns, pivotBy = [], data, pivotIDKey, pivotValKey, subRowsKey, aggregatedKey, nestingLevelKey, originalKey, indexKey, groupedByPivotKey, SubComponent, } = newState;\r\n    // Determine Header Groups\r\n    let hasHeaderGroups = false;\r\n    columns.forEach(column => {\r\n        if (column.columns) {\r\n            hasHeaderGroups = true;\r\n        }\r\n    });\r\n    let columnsWithExpander = [...columns];\r\n    let expanderColumn = columns.find(col => col.expander ||\r\n        (col.columns && col.columns.some(col2 => col2.expander)));\r\n    // The actual expander might be in the columns field of a group column\r\n    if (expanderColumn && !expanderColumn.expander) {\r\n        expanderColumn = expanderColumn.columns.find(col => col.expander);\r\n    }\r\n    // If we have SubComponent's we need to make sure we have an expander column\r\n    if (SubComponent && !expanderColumn) {\r\n        expanderColumn = { expander: true };\r\n        columnsWithExpander = [expanderColumn, ...columnsWithExpander];\r\n    }\r\n    const makeDecoratedColumn = (column, parentColumn) => {\r\n        let dcol;\r\n        if (column.expander) {\r\n            dcol = Object.assign(Object.assign(Object.assign({}, props.column), props.expanderDefaults), column);\r\n        }\r\n        else {\r\n            dcol = Object.assign(Object.assign({}, props.column), column);\r\n        }\r\n        // Ensure minWidth is not greater than maxWidth if set\r\n        if (dcol.maxWidth < dcol.minWidth) {\r\n            dcol.minWidth = dcol.maxWidth;\r\n        }\r\n        if (parentColumn) {\r\n            dcol.parentColumn = parentColumn;\r\n        }\r\n        // First check for string accessor\r\n        if (typeof dcol.accessor === 'string') {\r\n            dcol.id = dcol.id || dcol.accessor;\r\n            const accessorString = dcol.accessor;\r\n            dcol.accessor = row => _.get(row, accessorString);\r\n            return dcol;\r\n        }\r\n        // Fall back to functional accessor (but require an ID)\r\n        if (dcol.accessor && !dcol.id) {\r\n            console.warn(dcol);\r\n            throw new Error('A column id is required if using a non-string accessor for column above.');\r\n        }\r\n        // Fall back to an undefined accessor\r\n        if (!dcol.accessor) {\r\n            dcol.accessor = () => undefined;\r\n        }\r\n        return dcol;\r\n    };\r\n    const allDecoratedColumns = [];\r\n    // Decorate the columns\r\n    const decorateAndAddToAll = (column, parentColumn) => {\r\n        const decoratedColumn = makeDecoratedColumn(column, parentColumn);\r\n        allDecoratedColumns.push(decoratedColumn);\r\n        return decoratedColumn;\r\n    };\r\n    const decoratedColumns = columnsWithExpander.map(column => {\r\n        if (column.columns) {\r\n            return Object.assign(Object.assign({}, column), { columns: column.columns.map(d => decorateAndAddToAll(d, column)) });\r\n        }\r\n        return decorateAndAddToAll(column);\r\n    });\r\n    // Build the visible columns, headers and flat column list\r\n    let visibleColumns = decoratedColumns.slice();\r\n    let allVisibleColumns = [];\r\n    visibleColumns = visibleColumns.map(column => {\r\n        if (column.columns) {\r\n            const visibleSubColumns = column.columns.filter(d => pivotBy.indexOf(d.id) > -1 ? false : _.getFirstDefined(d.show, true));\r\n            return Object.assign(Object.assign({}, column), { columns: visibleSubColumns });\r\n        }\r\n        return column;\r\n    });\r\n    visibleColumns = visibleColumns.filter(column => column.columns\r\n        ? column.columns.length\r\n        : pivotBy.indexOf(column.id) > -1\r\n            ? false\r\n            : _.getFirstDefined(column.show, true));\r\n    // Find any custom pivot location\r\n    const pivotIndex = visibleColumns.findIndex(col => col.pivot);\r\n    // Handle Pivot Columns\r\n    if (pivotBy.length) {\r\n        // Retrieve the pivot columns in the correct pivot order\r\n        const pivotColumns = [];\r\n        pivotBy.forEach(pivotID => {\r\n            const found = allDecoratedColumns.find(d => d.id === pivotID);\r\n            if (found) {\r\n                pivotColumns.push(found);\r\n            }\r\n        });\r\n        const PivotParentColumn = pivotColumns.reduce((prev, current) => prev && prev === current.parentColumn && current.parentColumn, pivotColumns[0].parentColumn);\r\n        const PivotGroupHeader = hasHeaderGroups &&\r\n            (PivotParentColumn\r\n                ? PivotParentColumn.Header\r\n                : pivotColumns[0].PivotHeader || pivotColumns[0].Header);\r\n        let pivotColumnGroup = {\r\n            Header: PivotGroupHeader,\r\n            columns: pivotColumns.map(col => (Object.assign(Object.assign(Object.assign({}, props.pivotDefaults), col), { pivoted: true }))),\r\n        };\r\n        // Place the pivotColumns back into the visibleColumns\r\n        if (pivotIndex >= 0) {\r\n            pivotColumnGroup = Object.assign(Object.assign({}, visibleColumns[pivotIndex]), pivotColumnGroup);\r\n            visibleColumns.splice(pivotIndex, 1, pivotColumnGroup);\r\n        }\r\n        else {\r\n            visibleColumns.unshift(pivotColumnGroup);\r\n        }\r\n    }\r\n    // Build Header Groups\r\n    const headerGroups = [];\r\n    let currentSpan = [];\r\n    // A convenience function to add a header and reset the currentSpan\r\n    const addHeader = (columns, column) => {\r\n        headerGroups.push(Object.assign(Object.assign(Object.assign({}, props.column), column), { columns }));\r\n        currentSpan = [];\r\n    };\r\n    // Build flast list of allVisibleColumns and HeaderGroups\r\n    visibleColumns.forEach(column => {\r\n        if (column.columns) {\r\n            allVisibleColumns = allVisibleColumns.concat(column.columns);\r\n            if (currentSpan.length > 0) {\r\n                addHeader(currentSpan);\r\n            }\r\n            addHeader(column.columns, column);\r\n            return;\r\n        }\r\n        allVisibleColumns.push(column);\r\n        currentSpan.push(column);\r\n    });\r\n    if (hasHeaderGroups && currentSpan.length > 0) {\r\n        addHeader(currentSpan);\r\n    }\r\n    // Access the data\r\n    const accessRow = (d, i, level = 0) => {\r\n        const row = {\r\n            [originalKey]: d,\r\n            [indexKey]: i,\r\n            [subRowsKey]: d[subRowsKey],\r\n            [nestingLevelKey]: level,\r\n        };\r\n        allDecoratedColumns.forEach(column => {\r\n            if (column.expander)\r\n                return;\r\n            row[column.id] = column.accessor(d);\r\n        });\r\n        if (row[subRowsKey]) {\r\n            row[subRowsKey] = row[subRowsKey].map((d, i) => accessRow(d, i, level + 1));\r\n        }\r\n        return row;\r\n    };\r\n    let resolvedData = data.map((d, i) => accessRow(d, i));\r\n    const aggregatingColumns = allVisibleColumns.filter(d => !d.expander && d.aggregate);\r\n    // If pivoting, recursively group the data\r\n    const aggregate = rows => {\r\n        const aggregationValues = {};\r\n        aggregatingColumns.forEach(column => {\r\n            const values = rows.map(d => d[column.id]);\r\n            aggregationValues[column.id] = column.aggregate(values, rows);\r\n        });\r\n        return aggregationValues;\r\n    };\r\n    if (pivotBy.length) {\r\n        const groupRecursively = (rows, keys, i = 0) => {\r\n            // This is the last level, just return the rows\r\n            if (i === keys.length) {\r\n                return rows;\r\n            }\r\n            // Group the rows together for this level\r\n            let groupedRows = Object.entries(_.groupBy(rows, keys[i])).map(([key, value]) => ({\r\n                [pivotIDKey]: keys[i],\r\n                [pivotValKey]: key,\r\n                [keys[i]]: key,\r\n                [subRowsKey]: value,\r\n                [nestingLevelKey]: i,\r\n                [groupedByPivotKey]: true,\r\n            }));\r\n            // Recurse into the subRows\r\n            groupedRows = groupedRows.map(rowGroup => {\r\n                const subRows = groupRecursively(rowGroup[subRowsKey], keys, i + 1);\r\n                return Object.assign(Object.assign(Object.assign({}, rowGroup), { [subRowsKey]: subRows, [aggregatedKey]: true }), aggregate(subRows));\r\n            });\r\n            return groupedRows;\r\n        };\r\n        resolvedData = groupRecursively(resolvedData, pivotBy);\r\n    }\r\n    return Object.assign(Object.assign({}, newState), { resolvedData,\r\n        allVisibleColumns,\r\n        headerGroups,\r\n        allDecoratedColumns,\r\n        hasHeaderGroups });\r\n};\r\nReactTable.getSortedData = (resolvedState, props) => {\r\n    const { manual, sorted, filtered, defaultFilterMethod, resolvedData, allVisibleColumns, allDecoratedColumns, } = resolvedState;\r\n    const sortMethodsByColumnID = {};\r\n    allDecoratedColumns\r\n        .filter(col => col.sortMethod)\r\n        .forEach(col => {\r\n        sortMethodsByColumnID[col.id] = col.sortMethod;\r\n    });\r\n    // Resolve the data from either manual data or sorted data\r\n    return {\r\n        sortedData: manual\r\n            ? resolvedData\r\n            : ReactTable.sortData(ReactTable.filterData(resolvedData, filtered, defaultFilterMethod, allVisibleColumns, props), sorted, sortMethodsByColumnID, props),\r\n    };\r\n};\r\nReactTable.filterData = (data, filtered, defaultFilterMethod, allVisibleColumns, props) => {\r\n    let filteredData = data;\r\n    if (filtered.length) {\r\n        filteredData = filtered.reduce((filteredSoFar, nextFilter) => {\r\n            const column = allVisibleColumns.find(x => x.id === nextFilter.id);\r\n            // Don't filter hidden columns or columns that have had their filters disabled\r\n            if (!column || column.filterable === false) {\r\n                return filteredSoFar;\r\n            }\r\n            const filterMethod = column.filterMethod || defaultFilterMethod;\r\n            // If 'filterAll' is set to true, pass the entire dataset to the filter method\r\n            if (column.filterAll) {\r\n                return filterMethod(nextFilter, filteredSoFar, column);\r\n            }\r\n            return filteredSoFar.filter(row => filterMethod(nextFilter, row, column));\r\n        }, filteredData);\r\n        // Apply the filter to the subrows if we are pivoting, and then\r\n        // filter any rows without subcolumns because it would be strange to show\r\n        filteredData = filteredData\r\n            .map(row => {\r\n            if (!row[props.subRowsKey]) {\r\n                return row;\r\n            }\r\n            return Object.assign(Object.assign({}, row), { [props.subRowsKey]: ReactTable.filterData(row[props.subRowsKey], filtered, defaultFilterMethod, allVisibleColumns, props) });\r\n        })\r\n            .filter(row => {\r\n            if (!row[props.subRowsKey]) {\r\n                return true;\r\n            }\r\n            return row[props.subRowsKey].length > 0;\r\n        });\r\n    }\r\n    return filteredData;\r\n};\r\nReactTable.sortData = (data, sorted, sortMethodsByColumnID = {}, props) => {\r\n    if (!sorted.length) {\r\n        return data;\r\n    }\r\n    const sortedData = _.orderBy(data, sorted.map(sort => {\r\n        // Support custom sorting methods for each column\r\n        if (sortMethodsByColumnID[sort.id]) {\r\n            return (a, b) => sortMethodsByColumnID[sort.id](a[sort.id], b[sort.id], sort.desc);\r\n        }\r\n        return (a, b) => props.defaultSortMethod(a[sort.id], b[sort.id], sort.desc);\r\n    }), sorted.map(d => !d.desc), props.indexKey);\r\n    sortedData.forEach(row => {\r\n        if (!row[props.subRowsKey]) {\r\n            return;\r\n        }\r\n        row[props.subRowsKey] = ReactTable.sortData(row[props.subRowsKey], sorted, sortMethodsByColumnID, props);\r\n    });\r\n    return sortedData;\r\n};\n\nconst StyledPagingTable = styled(ReactTable) `\n  max-width: 100%;\n  width: 100%;\n  overflow: hidden;\n`;\n\nconst responsiveColumns = (size, columns) => Array.isArray(columns)\r\n    ? columns.map(column => {\r\n        if (size === undefined) {\r\n            return column;\r\n        }\r\n        let { show } = column;\r\n        if (column.responsiveShow) {\r\n            const sizes = Array.isArray(column.responsiveShow)\r\n                ? column.responsiveShow\r\n                : [column.responsiveShow];\r\n            if (sizes.indexOf(size) !== -1) {\r\n                show = true;\r\n            }\r\n        }\r\n        if (column.responsiveHide) {\r\n            const sizes = Array.isArray(column.responsiveHide)\r\n                ? column.responsiveHide\r\n                : [column.responsiveHide];\r\n            if (sizes.indexOf(size) !== -1) {\r\n                show = false;\r\n            }\r\n        }\r\n        if (show === undefined) {\r\n            return column;\r\n        }\r\n        return Object.assign(Object.assign({}, column), { show });\r\n    })\r\n    : columns;\r\n/**\r\n * Table component with pagination, filtering, footer, child rows and grouping<br/>\r\n * Derived from https://github.com/react-tools/react-table<br/>\r\n * `import { PagingTable } from 'grommet-controls';`<br/>\r\n * `<PagingTable columns={...} data={...} />`<br/>\r\n */\r\nconst PagingTable = (_a) => {\r\n    var { data, columns } = _a, rest = __rest(_a, [\"data\", \"columns\"]);\r\n    const defaults = {\r\n        showPagination: rest.onFetchData !== undefined ||\r\n            (data && data.length > (rest.defaultPageSize || 20)),\r\n        minRows: data && data.length < (rest.defaultPageSize || 20) ? 0 : undefined,\r\n    };\r\n    const newProps = Object.assign(Object.assign({}, defaults), rest);\r\n    return (React.createElement(ResponsiveContext.Consumer, null, size => (React.createElement(ThemeContext.Consumer, null, theme => (React.createElement(StyledPagingTable, Object.assign({ data: data || [], columns: responsiveColumns(size, columns), theme: theme }, newProps)))))));\r\n};\r\nPagingTable.defaultProps = {\r\n    defaultPageSize: 20,\r\n    filterable: false,\r\n    loading: false,\r\n    manual: false,\r\n    resizable: true,\r\n    showPagination: true,\r\n    sortable: true,\r\n};\n\n/**\r\n * A Select field with form validation<br/>\r\n */\r\nconst SelectField = (props) => (React.createElement(WithFormField, Object.assign({}, props), (_a) => {\r\n    var { options } = _a, rest = __rest(_a, [\"options\"]);\r\n    return React.createElement(Select, Object.assign({ options: options }, rest));\r\n}));\n\n/** Collapsible side bar component\r\n * ```$ npm install grommet-controls\r\n * import { Sidebar } from 'grommet-controls';\r\n * <Sidebar title='My title'>\r\n       ...\r\n * </Sidebar>\r\n * ```\r\n */\r\nconst Sidebar = (_a) => {\r\n    var { title, width, children, collapsible } = _a, rest = __rest(_a, [\"title\", \"width\", \"children\", \"collapsible\"]);\r\n    const [collapsed, setCollapsed] = React.useState(undefined);\r\n    const BtnToggle = ({ view }) => collapsible ? (React.createElement(Button, { icon: React.createElement(Menu, null), onClick: () => setCollapsed(view !== 'collapsed') })) : null;\r\n    return (React.createElement(ResponsiveContext.Consumer, null, size => (collapsible && size === 'small' && collapsed === undefined) ||\r\n        collapsed === true ? (React.createElement(Box, { align: \"start\" },\r\n        React.createElement(BtnToggle, { view: \"collapsed\" }))) : (React.createElement(Box, Object.assign({ width: width }, rest),\r\n        React.createElement(Box, { pad: { bottom: 'small' }, gap: \"small\", direction: \"row\", align: \"center\" },\r\n            React.createElement(BtnToggle, { view: \"expanded\" }),\r\n            title && (React.createElement(Box, { flex: false, tag: \"header\" }, typeof title === 'string' ? (React.createElement(Heading, { margin: \"none\", level: 3 }, title)) : (title)))),\r\n        children))));\r\n};\r\nSidebar.defaultProps = {\r\n    title: undefined,\r\n    width: 'medium',\r\n    collapsible: true,\r\n};\n\nconst disabledStyle = `\n  opacity: 0.4;\n  cursor: default;\n`;\r\nconst StyledIcon = styled.span `\n  display: inline-block;\n  > * {\n    vertical-align: bottom;\n  }\n  ${props => !props.disabled && 'cursor: pointer;'}\n`;\r\nconst StyledTag = styled(Box) `\n  ${props => backgroundStyle(props.background || 'brand', props.theme)}\n  ${props => props.onClick && 'cursor: pointer;'}\n  user-select: none;\n  ${props => props.disabled && disabledStyle}\n`;\n\n/**\r\n * A tag control with a label and icon<br/>\r\n * `import { Tag } from 'grommet-controls';`<br/>\r\n * `<Tag label={...} icon={...} />`<br/>\r\n */\r\nconst Tag = React.forwardRef((_a, ref) => {\r\n    var { disabled, label, a11yTitle, reverse, background, onClick, onChange, icon, color, focusable, round, size, truncate } = _a, rest = __rest(_a, [\"disabled\", \"label\", \"a11yTitle\", \"reverse\", \"background\", \"onClick\", \"onChange\", \"icon\", \"color\", \"focusable\", \"round\", \"size\", \"truncate\"]);\r\n    const clickTag = e => {\r\n        if (!disabled && onClick) {\r\n            onClick(e);\r\n        }\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    };\r\n    const toggleTag = e => {\r\n        if (!disabled && onChange) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            onChange(e);\r\n        }\r\n    };\r\n    const tagRound = round;\r\n    const canFocus = focusable && !disabled && !!(onClick || onChange);\r\n    return (React.createElement(Keyboard, { onEnter: clickTag, onSpace: toggleTag },\r\n        React.createElement(ThemeContext.Consumer, null, theme => {\r\n            let closeIcon;\r\n            if (icon || onChange) {\r\n                closeIcon = (React.createElement(StyledIcon, { theme: theme, disabled: disabled, onClick: onChange }, icon || React.createElement(FormClose, { theme: theme })));\r\n            }\r\n            return (React.createElement(StyledTag, Object.assign({ ref: ref, direction: reverse ? 'row-reverse' : 'row', justify: \"between\", align: \"center\", a11yTitle: a11yTitle, round: tagRound, onClick: onClick && clickTag, role: \"checkbox\", \"aria-checked\": true, tabIndex: canFocus ? 0 : undefined, background: background, disabled: disabled, theme: theme }, rest),\r\n                reverse && closeIcon,\r\n                React.isValidElement(label) ? (label) : (React.createElement(Text, { color: color, size: size, truncate: truncate }, label && label.toString())),\r\n                !reverse && closeIcon));\r\n        })));\r\n});\r\nTag.displayName = 'Tag';\r\nTag.defaultProps = {\r\n    label: 'Text',\r\n    pad: { horizontal: 'xsmall' },\r\n    focusable: true,\r\n};\n\nconst TagsSelect = (props) => {\r\n    const _a = props || { tagProps: {} }, { tagProps } = _a, rest = __rest(_a, [\"tagProps\"]);\r\n    return ({ placeholder, value, onChange }) => (React.createElement(Tags, Object.assign({ focusable: false, placeholder: placeholder, value: value, onChange: onChange, tagProps: Object.assign(Object.assign({}, tagProps), { onClick: e => e.stopPropagation() }) }, rest)));\r\n};\r\n/**\r\n * A list of tags that can be removed<b/>\r\n * `import { Tags } from 'grommet-controls';`<b/>\r\n * `<Tags />`<b/>\r\n */\r\nclass Tags extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = {\r\n            selectedTagIndex: -1,\r\n        };\r\n        this.tagRefs = [];\r\n        this.elementRef = React.createRef();\r\n        this.selectTag = (selected) => {\r\n            const { onChange, value } = this.props;\r\n            if (onChange) {\r\n                let tags = selected;\r\n                if (Array.isArray(value)) {\r\n                    const index = value.indexOf(tags);\r\n                    if (index !== -1) {\r\n                        tags = value.filter(item => item !== selected);\r\n                    }\r\n                    else {\r\n                        tags = [...value, tags];\r\n                    }\r\n                }\r\n                else {\r\n                    tags = [tags];\r\n                }\r\n                onChange({ target: findDOMNode(this.elementRef.current), option: selected, value: tags });\r\n            }\r\n        };\r\n        this.onNextTag = (event) => {\r\n            const { value } = this.props;\r\n            const { selectedTagIndex } = this.state;\r\n            event.preventDefault();\r\n            let index = selectedTagIndex + 1;\r\n            if (index >= value.length) {\r\n                index = 0;\r\n            }\r\n            this.focusTag(index);\r\n        };\r\n        this.onPreviousTag = (event) => {\r\n            const { selectedTagIndex } = this.state;\r\n            const { value } = this.props;\r\n            event.preventDefault();\r\n            let index = selectedTagIndex - 1;\r\n            if (index < 0) {\r\n                index = value.length - 1;\r\n            }\r\n            this.focusTag(index);\r\n        };\r\n        this.onSelectTag = (event) => {\r\n            const { value } = this.props;\r\n            const { selectedTagIndex } = this.state;\r\n            if (selectedTagIndex >= 0 && selectedTagIndex < value.length) {\r\n                event.preventDefault(); // prevent submitting forms\r\n                event.stopPropagation();\r\n                this.selectTag(value[selectedTagIndex]);\r\n            }\r\n        };\r\n        this.onCloseClick = (e, tag) => {\r\n            e.stopPropagation();\r\n            this.selectTag(tag);\r\n        };\r\n    }\r\n    focusTag(index) {\r\n        if (index >= 0 && index < this.tagRefs.length) {\r\n            const tagElement = findDOMNode(this.tagRefs[index].current);\r\n            if (tagElement && typeof tagElement.focus === 'function') {\r\n                tagElement.focus();\r\n            }\r\n            this.setState({ selectedTagIndex: index });\r\n        }\r\n    }\r\n    render() {\r\n        const _a = this.props, { placeholder, children, value, onChange, focusable, onClick, direction, icon, tagProps } = _a, rest = __rest(_a, [\"placeholder\", \"children\", \"value\", \"onChange\", \"focusable\", \"onClick\", \"direction\", \"icon\", \"tagProps\"]);\r\n        let noValues;\r\n        if ((!value || (Array.isArray(value) && value.length === 0))) {\r\n            noValues = React.isValidElement(placeholder) ? placeholder : (\r\n            // placeholder. minimum height of icon to keep size\r\n            React.createElement(Text, { color: 'placeholder', style: { minHeight: '24px' } }, placeholder || 'No selection'));\r\n        }\r\n        let values;\r\n        if (Array.isArray(value)) {\r\n            values = value;\r\n        }\r\n        else {\r\n            values = value ? [value] : [];\r\n        }\r\n        return (React.createElement(Keyboard, { onEnter: this.onSelectTag, onSpace: this.onSelectTag, onLeft: this.onPreviousTag, onRight: this.onNextTag },\r\n            React.createElement(Box, Object.assign({ tabIndex: focusable ? 0 : undefined, ref: this.elementRef, direction: direction, overflow: 'auto', style: { minWidth: 'auto' } }, rest), noValues || values.map((tag, index) => {\r\n                if (children) {\r\n                    return children(tag, index, value);\r\n                }\r\n                if (!this.tagRefs[index]) {\r\n                    this.tagRefs[index] = React.createRef();\r\n                }\r\n                return (React.createElement(Tag, Object.assign({ key: `tag_${tag}_${index}`, ariaChecked: true, a11yTitle: `Remove ${tag.toString()}`, label: typeof tag !== 'object' ? tag.toString() : undefined, ref: this.tagRefs[index], onClick: onClick ? e => onClick(e, tag) : undefined, onChange: onChange ? e => this.onCloseClick(e, tag) : undefined, icon: icon }, (typeof tag === 'object' ? Object.assign(Object.assign({}, tagProps), tag) : tagProps))));\r\n            }))));\r\n    }\r\n}\r\nTags.defaultProps = {\r\n    pad: 'small',\r\n    focusable: true,\r\n    margin: { horizontal: 'xsmall', vertical: 'small' },\r\n    value: [],\r\n    gap: 'xsmall',\r\n    direction: 'row-responsive',\r\n    icon: React.createElement(FormClose, null),\r\n};\n\n/**\r\n * A TextArea field with form validation<br/>\r\n */\r\nconst TextAreaField = (props) => (React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(TextArea, Object.assign({}, childProps))));\n\n/**\r\n * A TextInput field with form validation<br/>\r\n */\r\nconst TextInputField = (props) => (React.createElement(WithFormField, Object.assign({}, props), childProps => React.createElement(TextInput, Object.assign({}, childProps))));\n\nconst aqua$1 = '#00ffff';\r\nconst azure = '#f0ffff';\r\nconst beige = '#f5f5dc';\r\nconst black$1 = '#000000';\r\nconst blue$2 = '#0000ff';\r\nconst brown$1 = '#a52a2a';\r\nconst cyan$1 = '#00ffff';\r\nconst darkblue = '#00008b';\r\nconst darkcyan = '#008b8b';\r\nconst darkgrey = '#a9a9a9';\r\nconst darkgreen = '#006400';\r\nconst darkkhaki = '#bdb76b';\r\nconst darkmagenta = '#8b008b';\r\nconst darkolivegreen = '#556b2f';\r\nconst darkorange = '#ff8c00';\r\nconst darkorchid = '#9932cc';\r\nconst darkred = '#8b0000';\r\nconst darksalmon = '#e9967a';\r\nconst darkviolet = '#9400d3';\r\nconst fuchsia$1 = '#ff00ff';\r\nconst gold = '#ffd700';\r\nconst green$2 = '#008000';\r\nconst indigo$1 = '#4b0082';\r\nconst khaki = '#f0e68c';\r\nconst lightblue = '#add8e6';\r\nconst lightcyan = '#e0ffff';\r\nconst lightgreen = '#90ee90';\r\nconst lightgrey = '#d3d3d3';\r\nconst lightpink = '#ffb6c1';\r\nconst lightyellow = '#ffffe0';\r\nconst lime$2 = '#00ff00';\r\nconst magenta = '#ff00ff';\r\nconst maroon$1 = '#800000';\r\nconst navy$1 = '#000080';\r\nconst olive$1 = '#808000';\r\nconst orange$1 = '#ffa500';\r\nconst pink$1 = '#ffc0cb';\r\nconst purple$2 = '#800080';\r\nconst violet = '#800080';\r\nconst red$1 = '#ff0000';\r\nconst silver$1 = '#c0c0c0';\r\nconst white$1 = '#ffffff';\r\nconst yellow$2 = '#ffff00';\r\nconst uiColors = {\r\n    aqua: aqua$1,\r\n    azure,\r\n    beige,\r\n    black: black$1,\r\n    blue: blue$2,\r\n    brown: brown$1,\r\n    cyan: cyan$1,\r\n    darkblue,\r\n    darkcyan,\r\n    darkgrey,\r\n    darkgreen,\r\n    darkkhaki,\r\n    darkmagenta,\r\n    darkolivegreen,\r\n    darkorange,\r\n    darkorchid,\r\n    darkred,\r\n    darksalmon,\r\n    darkviolet,\r\n    fuchsia: fuchsia$1,\r\n    gold,\r\n    green: green$2,\r\n    indigo: indigo$1,\r\n    khaki,\r\n    lightblue,\r\n    lightcyan,\r\n    lightgreen,\r\n    lightgrey,\r\n    lightpink,\r\n    lightyellow,\r\n    lime: lime$2,\r\n    magenta,\r\n    maroon: maroon$1,\r\n    navy: navy$1,\r\n    olive: olive$1,\r\n    orange: orange$1,\r\n    pink: pink$1,\r\n    purple: purple$2,\r\n    violet,\r\n    red: red$1,\r\n    silver: silver$1,\r\n    white: white$1,\r\n    yellow: yellow$2,\r\n};\n\nconst isExisty = value => value !== null && value !== undefined;\r\nconst isEmpty = value => value === '';\r\nconst isDefaultRequiredValue = (_values, value) => value === undefined || value === '';\r\nconst required = (_values, value) => isExisty(value) && !isEmpty(value);\r\nconst matchRegexp = (_values, value, regexp) => !isExisty(value) || isEmpty(value) || regexp.test(value);\r\nconst notEmptyString = (_values, value) => !isEmpty(value);\r\nconst isEmail = (values, value) => matchRegexp(values, value, /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i);\r\nconst isUrl = (values, value) => matchRegexp(values, value, /^(https?|s?ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!&',;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!&',;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!&',;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!&',;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!&',;=]|:|@)|\\/|\\?)*)?$/i);\r\nconst isTrue = (_values, value) => value === true;\r\nconst isFalse = (_values, value) => value === false;\r\nconst isNumeric = (values, value) => typeof value === 'number'\r\n    ? true\r\n    : matchRegexp(values, value, /^[-+]?(?:\\d*[.])?\\d+$/);\r\nconst isAlpha = (values, value) => matchRegexp(values, value, /^[A-Z]+$/i);\r\nconst isAlphanumeric = (values, value) => matchRegexp(values, value, /^[0-9A-Z]+$/i);\r\nconst isInt = (values, value) => matchRegexp(values, value, /^(?:[-+]?(?:0|[1-9]\\d*))$/);\r\nconst isFloat = (values, value) => matchRegexp(values, value, /^(?:[-+]?(?:\\d+))?(?:\\.\\d*)?(?:[eE]?(?:\\d+))?$/);\r\nconst isWords = (values, value) => matchRegexp(values, value, /^[A-Z\\s]+$/i);\r\nconst startsWith = str => (_values, value) => !isEmpty(value) && value.startsWith(str);\r\nconst isLength = length => (_values, value) => !isExisty(value) || isEmpty(value) || value.length === length;\r\nconst equals = eql => (_values, value) => !isExisty(value) || isEmpty(value) || value === eql;\r\nconst equalsField = field => (values, value) => value === values[field];\r\nconst maxLength = length => (_values, value) => !isExisty(value) || value.length <= length;\r\nconst minLength = length => (_values, value) => !isExisty(value) || isEmpty(value) || value.length >= length;\r\nconst isBigger = number => (_values, value) => !isExisty(value) || value > number;\r\nconst isSmaller = number => (_values, value) => !isExisty(value) || value < number;\r\nconst isBiggerOrEqual = number => (_values, value) => !isExisty(value) || value >= number;\r\nconst isSmallerOrEqual = number => (_values, value) => !isExisty(value) || value <= number;\r\nconst invalidFieldMessage = label => `${label} is not valid`;\r\nconst requiredFieldMessage = label => `${label} is required`;\r\nconst canNotBeEmptyFieldMessage = label => `${label} can not be empty`;\r\nconst ruleWrapper = (rule, customMessage, defaultMessage) => (dataRow, value, index) => {\r\n    if (rule(dataRow, value, index)) {\r\n        return undefined;\r\n    }\r\n    return customMessage || defaultMessage;\r\n};\r\nconst validators = {\r\n    required: (message) => ruleWrapper(required, message, requiredFieldMessage),\r\n    email: (message) => ruleWrapper(isEmail, message, invalidFieldMessage),\r\n    url: (message) => ruleWrapper(isUrl, message, invalidFieldMessage),\r\n    defaultRequired: (message) => ruleWrapper(isDefaultRequiredValue, message, requiredFieldMessage),\r\n    notEmptyString: (message) => ruleWrapper(notEmptyString, message, canNotBeEmptyFieldMessage),\r\n    numeric: (message) => ruleWrapper(isNumeric, message, label => `${label} must be a numeric value`),\r\n    alpha: (message) => ruleWrapper(isAlpha, message, label => `${label} must be alphabetic`),\r\n    alphaNumeric: (message) => ruleWrapper(isAlphanumeric, message, label => `${label} must be alphanumeric`),\r\n    int: (message) => ruleWrapper(isInt, message, label => `${label} must be an integer`),\r\n    float: (message) => ruleWrapper(isFloat, message, label => `${label} must be a number`),\r\n    words: (message) => ruleWrapper(isWords, message, label => `${label} must be a collection of words`),\r\n    length: (length, message) => ruleWrapper(isLength(length), message, label => `${label} must be ${length} characters long`),\r\n    minLength: (length, message) => ruleWrapper(minLength(length), message, label => `${label} must be at least ${length} characters long`),\r\n    maxLength: (length, message) => ruleWrapper(maxLength(length), message, label => `${label} must be up to ${length} characters long`),\r\n    equals: (value, message) => ruleWrapper(equals(value), message, label => `${label} must be equal to ${value}`),\r\n    equalsField: (field, fieldLabel, message) => ruleWrapper(equalsField(field), message, label => `${label} does not match ${fieldLabel || field}`),\r\n    True: (message) => ruleWrapper(isTrue, message, label => `${label} must be True`),\r\n    False: (message) => ruleWrapper(isFalse, message, label => `${label} must be False`),\r\n    bigger: (value, message) => ruleWrapper(isBigger(value), message, label => `${label} must be bigger than ${value}`),\r\n    biggerOrEqual: (value, message) => ruleWrapper(isBiggerOrEqual(value), message, label => `${label} must be bigger or eqial to ${value}`),\r\n    smaller: (value, message) => ruleWrapper(isSmaller(value), message, label => `${label} must be smaller than ${value}`),\r\n    smallerOrEqual: (value, message) => ruleWrapper(isSmallerOrEqual(value), message, label => `${label} must be smaller or equal to ${value}`),\r\n    startsWith: (value, message) => ruleWrapper(startsWith(value), message, label => `${label} must start with ${value}`),\r\n};\n\nconst LABEL_SIZE_MAP = {\r\n    xsmall: 'xsmall',\r\n    small: 'xsmall',\r\n    medium: 'xsmall',\r\n    large: 'small',\r\n    xlarge: 'medium',\r\n    xxlarge: 'large',\r\n};\r\n/**\r\n * A single value visualization with a label<br/>\r\n * `import { Value } from 'grommet-controls';`<br/>\r\n * `<Value value={...} label={...} />`<br/>\r\n */\r\nconst Value = ({ label, value, size, weight, gap, units, color, }) => (React.createElement(Box, { gap: gap },\r\n    React.isValidElement(value) ? (value) : (React.createElement(Text, { size: size, weight: weight, color: color }, `${value !== undefined ? value : '-'}${units ? ` ${units}` : ''}`)),\r\n    React.createElement(Box, { alignSelf: \"end\" },\r\n        React.createElement(Text, { size: LABEL_SIZE_MAP[size], color: color }, label))));\r\nValue.defaultProps = {\r\n    label: undefined,\r\n    value: undefined,\r\n    weight: 'bold',\r\n    gap: 'small',\r\n    size: 'large',\r\n    color: undefined,\r\n};\n\nconst isActive = (active, item) => item.id === active.id || item.label === active.label;\r\nconst hasActiveChidlren = (active, item) => {\r\n    if (isActive(active, item)) {\r\n        if (item.items && item.items.find(t => hasActiveChidlren(active, t))) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\nconst getExpandedItems = (children, active) => children.reduce((expandedItems, item) => {\r\n    const { items, expanded, id, label } = item;\r\n    if (expanded || (active && hasActiveChidlren(active, item))) {\r\n        expandedItems.push(id || label);\r\n    }\r\n    let childrenExpandedItems = [];\r\n    if (items) {\r\n        childrenExpandedItems = getExpandedItems(items, active);\r\n    }\r\n    return expandedItems.concat(childrenExpandedItems);\r\n}, []);\r\nconst getCollapsibleItems = (children) => children.reduce((collapsibleItems, { items, id, label }) => {\r\n    let childrenCollapsibleItems = [];\r\n    if (items) {\r\n        collapsibleItems.push(id || label);\r\n        childrenCollapsibleItems = getCollapsibleItems(items);\r\n    }\r\n    return collapsibleItems.concat(childrenCollapsibleItems);\r\n}, []);\r\nconst getFlatChildrenIds = (children) => children.reduce((flatChildren, item) => {\r\n    flatChildren.push(item.id || item.label);\r\n    if (item.items) {\r\n        // eslint-disable-next-line no-param-reassign\r\n        flatChildren = flatChildren.concat(getFlatChildrenIds(item.items));\r\n    }\r\n    return flatChildren;\r\n}, []);\r\nconst getChildrenById = (children, id) => {\r\n    let items;\r\n    children.some(item => {\r\n        if (item.id === id || item.label === id) {\r\n            ({ items } = item);\r\n            return true;\r\n        }\r\n        if (item.items) {\r\n            items = getChildrenById(item.items, id);\r\n            if (items) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    });\r\n    return items;\r\n};\r\nconst filterItems = (items, search) => {\r\n    if (search && search.length) {\r\n        const searchLC = search.toLowerCase();\r\n        return items\r\n            .map(item => Object.assign({}, item))\r\n            .filter(item => {\r\n            const { items: children, label } = item;\r\n            if (typeof label === 'string' &&\r\n                label.toLowerCase().indexOf(searchLC) >= 0) {\r\n                return true;\r\n            }\r\n            if (children) {\r\n                const childItems = filterItems(children, search);\r\n                // eslint-disable-next-line no-param-reassign\r\n                item.items = childItems;\r\n                if (childItems.length) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n    return items;\r\n};\r\nconst compareItems = (items, nextItems) => {\r\n    if (!items && !nextItems) {\r\n        return true;\r\n    }\r\n    if ((!items && nextItems) || (items && !nextItems)) {\r\n        return false;\r\n    }\r\n    if (items.length !== nextItems.length) {\r\n        return false;\r\n    }\r\n    for (let i = 0; i < items.length; i += 1) {\r\n        if (items[i].expanded !== nextItems[i].expanded ||\r\n            items[i].href !== nextItems[i].href ||\r\n            items[i].icon !== nextItems[i].icon ||\r\n            items[i].label !== nextItems[i].label ||\r\n            items[i].onClick !== nextItems[i].onClick ||\r\n            items[i].widget !== nextItems[i].widget ||\r\n            !compareItems(items[i].items, nextItems[i].items)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n};\r\n/** Hierarchical collapsible menu\r\n * ```$ npm install grommet-controls\\n\r\n * import { VerticalMenu } from 'grommet-controls';\\n\r\n * <VerticalMenu items={...} onSelect={...} />\r\n *```\r\n */\r\nclass VerticalMenu extends Component {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.state = { expandedItems: [] };\r\n        this.onMenuChange = (id, expanded) => {\r\n            const { expandedItems, filteredItems } = this.state;\r\n            let newExpandedItems = [...expandedItems];\r\n            if (expanded) {\r\n                const toBeCollapsed = [\r\n                    id,\r\n                    ...getFlatChildrenIds(getChildrenById(filteredItems, id)),\r\n                ];\r\n                newExpandedItems = newExpandedItems.filter(item => toBeCollapsed.indexOf(item) < 0);\r\n            }\r\n            else {\r\n                newExpandedItems.push(id);\r\n            }\r\n            this.setState({\r\n                expandedItems: newExpandedItems,\r\n            });\r\n        };\r\n        this.renderItem = (item, level = 1) => {\r\n            const { activeItem, onSelect, buttonClass } = this.props;\r\n            const { expandedItems } = this.state;\r\n            const { items, id, label, widget, icon } = item, rest = __rest(item, [\"items\", \"id\", \"label\", \"widget\", \"icon\"]);\r\n            const itemId = id || label;\r\n            const isExpanded = expandedItems.includes(itemId);\r\n            const ButtonClass = (items ? Button : buttonClass) || Button;\r\n            const itemKey = `item_${itemId}_${level}`;\r\n            let background;\r\n            if (activeItem && activeItem.id === id) {\r\n                background = {\r\n                    color: 'active',\r\n                    opacity: 'strong',\r\n                };\r\n            }\r\n            const content = (React.createElement(Box, { background: background },\r\n                React.createElement(ButtonClass, Object.assign({ onClick: !rest.route && !rest.path\r\n                        ? () => items\r\n                            ? this.onMenuChange(itemId, isExpanded)\r\n                            : onSelect && onSelect(item)\r\n                        : undefined, hoverIndicator: { color: 'active' } }, rest),\r\n                    React.createElement(Box, { direction: \"row\", align: \"center\", pad: \"small\", style: {\r\n                            marginLeft: items ? `${12 * level}px` : `${16 * level}px`,\r\n                        } },\r\n                        items && (isExpanded ? React.createElement(FormDown, null) : React.createElement(FormNext, null)),\r\n                        React.createElement(Box, { direction: \"row\", justify: \"between\", fill: \"horizontal\", align: \"center\" },\r\n                            React.createElement(Box, { direction: \"row\", align: \"center\", gap: \"small\" },\r\n                                icon,\r\n                                typeof label === 'string' ? (React.createElement(Text, null, items ? React.createElement(\"strong\", null, label) : label)) : (label)),\r\n                            widget)))));\r\n            return (React.createElement(Box, { key: itemKey },\r\n                items ? (React.createElement(Keyboard, { onDown: () => this.onMenuChange(itemId, false), onRight: () => this.onMenuChange(itemId, false), onUp: () => this.onMenuChange(itemId, true), onLeft: () => this.onMenuChange(itemId, true) }, content)) : (content),\r\n                items &&\r\n                    isExpanded &&\r\n                    items.map(child => this.renderItem(child, level + 1))));\r\n        };\r\n    }\r\n    static getDerivedStateFromProps(nextProps, prevState = {}) {\r\n        const { items, expandAll, activeItem, search } = nextProps;\r\n        const { originalExpandAll, search: stateSearch, items: stateItems = [], } = prevState;\r\n        if (items !== stateItems || // when instance are not the same we do not need to do a full compare.\r\n            !compareItems(items, stateItems) ||\r\n            expandAll !== originalExpandAll ||\r\n            search !== stateSearch) {\r\n            const filteredItems = filterItems(items, search);\r\n            const collapsibleItems = getCollapsibleItems(filteredItems);\r\n            let expandedItems;\r\n            if (expandAll || (search && search.length)) {\r\n                expandedItems = collapsibleItems;\r\n            }\r\n            else {\r\n                expandedItems = getExpandedItems(filteredItems, activeItem);\r\n            }\r\n            const allExpanded = typeof expandAll !== 'undefined'\r\n                ? expandAll\r\n                : collapsibleItems.length === expandedItems.length;\r\n            return {\r\n                expandedItems,\r\n                items,\r\n                filteredItems,\r\n                search,\r\n                collapsibleItems,\r\n                allExpanded,\r\n                expandAll,\r\n                originalExpandAll: expandAll,\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n    render() {\r\n        const { filteredItems } = this.state;\r\n        return (React.createElement(React.Fragment, null, filteredItems && filteredItems.map(item => this.renderItem(item, 1))));\r\n    }\r\n}\n\nexport { Avatar, Card, CardActions, CardContent, CardTitle, CheckBoxField, ColorInput, ColorInputField, Colors, DateInput, DateInputField, DropInput, EmailInput, EmailInputField, Form, Header, IconButton, ImageStamp, MaskedInput, MaskedInputField, Notification, NumberInput, NumberInputField, PagingTable, PasswordInput, PasswordInputField, SelectField, Sidebar, Spinning, Tag, Tags, TagsSelect, TextAreaField, TextInputField, Value, VerticalMenu, WithFormField, basicColors, longDate, materialColors, shortDate, smallDate, uiColors, validators };\n"]},"metadata":{},"sourceType":"module"}