{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\ReactGormmet\\\\reactgormmet\\\\src\\\\component\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Box, Header, Anchor, Nav, ResponsiveContext, Menu, Select, TextInput, Grid, Card, Heading, List, Text, Grommet, Carousel, Image } from 'grommet';\nimport { Search, Attraction, TreeOption, Car } from 'grommet-icons';\nimport NewsDataService from \"./../services/NewsService/NewsService\";\nimport { Link, NavLink } from 'react-router-dom';\n\nfunction Home() {\n  _s();\n\n  const options = ['title', 'locality'];\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [value, setValue] = useState('title');\n  const [news, setNews] = useState();\n  const [count, setCount] = useState();\n  const [topNews, setTopNews] = useState();\n  const size = useContext(ResponsiveContext);\n  useEffect(() => {\n    retrieveNews();\n    topTen();\n  }, []);\n\n  const topTen = () => {\n    NewsDataService.getTopTen().then(response => {\n      setTopNews(response.data);\n      console.log(response.data);\n    }).catch(err => {\n      if (err) {\n        console.log(err);\n      }\n    });\n  };\n\n  const onChangeSearchValue = e => {\n    const searchValue = e.target.value;\n    setSearchValue(searchValue);\n  };\n\n  console.log(value);\n  console.log(searchValue);\n\n  const retrieveNews = () => {\n    NewsDataService.getAll().then(response => {\n      setNews(response.data);\n      console.log(response.data);\n    }).catch(err => {\n      if (err) {\n        console.log(err);\n      }\n    });\n  };\n\n  const updateCount = async (id, c) => {\n    var data = {\n      Count: c + 1\n    };\n    await NewsDataService.update(id, data).then(response => {\n      setNews(response.data);\n      console.log(response.data.Count);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const findByTitleAndLocality = () => {\n    if (value === \"title\") {\n      console.log(\"1\");\n      NewsDataService.findByTitle(searchValue).then(response => {\n        console.log(\"3\");\n        setNews(response.data);\n        console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    } else {\n      console.log(\"2\");\n      NewsDataService.findByLocality(searchValue).then(response => {\n        console.log(\"4\");\n        setNews(response.data);\n        console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  };\n\n  const customTheme = {\n    carousel: {\n      animation: {\n        duration: 400\n      },\n      icons: {\n        color: 'blue'\n      },\n      disabled: {\n        icons: {\n          color: 'grey'\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      background: \"dark-1\",\n      pad: \"medium\",\n      children: /*#__PURE__*/_jsxDEV(ResponsiveContext.Consumer, {\n        children: responsive => responsive === 'small' ? /*#__PURE__*/_jsxDEV(Box, {\n          fill: true,\n          align: \"start\",\n          justify: \"start\",\n          width: \"3vw\",\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            id: \"select\",\n            name: \"select\",\n            placeholder: \"Select\",\n            value: value,\n            options: options,\n            onChange: ({\n              option\n            }) => setValue(option),\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n            onKeyUp: findByTitleAndLocality,\n            onChange: onChangeSearchValue,\n            value: searchValue,\n            icon: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 114\n            }, this),\n            placeholder: \"search ...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Box, {\n          fill: true,\n          align: \"start\",\n          justify: \"start\",\n          direction: \"row-responsive\",\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            id: \"select\",\n            name: \"select\",\n            placeholder: \"Select\",\n            value: value,\n            options: options,\n            onChange: ({\n              option\n            }) => setValue(option),\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n            onKeyUp: findByTitleAndLocality,\n            onChange: onChangeSearchValue,\n            value: searchValue,\n            icon: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 112\n            }, this),\n            placeholder: \"search ...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(Grommet, {\n      theme: customTheme,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        align: \"center\",\n        width: \"100%\",\n        children: /*#__PURE__*/_jsxDEV(Carousel, {\n          children: topNews && topNews.map((news, i) => /*#__PURE__*/_jsxDEV(Box, {\n            pad: \"xlarge\",\n            background: \"accent-1\",\n            width: \"100%\",\n            children: /*#__PURE__*/_jsxDEV(Image, {\n              src: `../images/${news && news.Image}`,\n              fill: \"horizontal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 12\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        basis: \"full\",\n        border: \"all\",\n        pad: \"medium\",\n        overflow: \"auto\",\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          size: \"medium\",\n          textAlign: \"center\",\n          children: \"All News\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          columns: size !== 'small' ? 'small' : '100%',\n          gap: \"small\",\n          children: news && news.map((n, index) => /*#__PURE__*/_jsxDEV(Card, {\n            pad: \"large\",\n            background: \"light-4\",\n            children: /*#__PURE__*/_jsxDEV(NavLink, {\n              to: `/News/${n.id}`,\n              onClick: () => updateCount(n.id, n.Count),\n              style: {\n                textDecoration: 'none'\n              },\n              children: /*#__PURE__*/_jsxDEV(Text, {\n                color: \"black\",\n                children: n.NewsTitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 120\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Home, \"4suUJKA1r/jHf7ucaiE5scEUVlg=\");\n\n_c = Home;\nexport default Home;\n{\n  /* {news &&\r\n   news.map((n, index) => (\r\n     <div key={index}>\r\n    \r\n      <td>{n.NewsTitle}</td>\r\n     </div>\r\n   ))} */\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/ReactGormmet/reactgormmet/src/component/Home.js"],"names":["React","useState","useEffect","useContext","Box","Header","Anchor","Nav","ResponsiveContext","Menu","Select","TextInput","Grid","Card","Heading","List","Text","Grommet","Carousel","Image","Search","Attraction","TreeOption","Car","NewsDataService","Link","NavLink","Home","options","searchValue","setSearchValue","value","setValue","news","setNews","count","setCount","topNews","setTopNews","size","retrieveNews","topTen","getTopTen","then","response","data","console","log","catch","err","onChangeSearchValue","e","target","getAll","updateCount","id","c","Count","update","findByTitleAndLocality","findByTitle","findByLocality","customTheme","carousel","animation","duration","icons","color","disabled","responsive","option","map","i","n","index","textDecoration","NewsTitle"],"mappings":"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","sourcesContent":["import React, { useState ,useEffect, useContext} from 'react'\r\nimport { Box, Header, Anchor, Nav, ResponsiveContext, Menu, Select, TextInput, Grid ,Card, Heading, List, Text, Grommet, Carousel, Image} from 'grommet'\r\nimport { Search, Attraction, TreeOption, Car } from 'grommet-icons';\r\nimport NewsDataService from \"./../services/NewsService/NewsService\";\r\nimport { Link, NavLink } from 'react-router-dom';\r\n\r\nfunction Home() {\r\n    const options = ['title', 'locality'];\r\n    const [searchValue, setSearchValue] = useState(\"\");\r\n    const [value, setValue] = useState('title');\r\n    const [news,setNews]=useState();\r\n    const [count,setCount]=useState();\r\n    const [topNews,setTopNews]=useState();\r\n    const size = useContext(ResponsiveContext);\r\n    useEffect(()=>{\r\n      retrieveNews();\r\n       topTen();\r\n  },[]);\r\n\r\n  \r\n  const topTen=()=>{\r\n    NewsDataService.getTopTen().then(response=>{\r\n      setTopNews(response.data);\r\n      console.log(response.data);\r\n     \r\n  }).\r\n  catch(err=>{\r\n      if(err)\r\n      {\r\n          console.log(err);\r\n      }\r\n  })\r\n  }\r\n  const onChangeSearchValue = e => {\r\n    const searchValue = e.target.value;\r\n    setSearchValue(searchValue);\r\n  };\r\n\r\n  console.log(value);\r\n  console.log(searchValue);\r\n\r\n  const retrieveNews=()=>{\r\n    NewsDataService.getAll().then(response=>{\r\n        setNews(response.data);\r\n        console.log(response.data);\r\n       \r\n    }).\r\n    catch(err=>{\r\n        if(err)\r\n        {\r\n            console.log(err);\r\n        }\r\n    })\r\n}\r\n\r\nconst updateCount = async(id,c) => {\r\n  var data = {\r\n      Count: c+1\r\n    };\r\n    await NewsDataService.update(id,data).then(\r\n        response=>{\r\n            setNews(response.data);\r\n            console.log(response.data.Count);\r\n        }\r\n    ).catch(e=>{\r\n        console.log(e);\r\n    })\r\n};\r\n\r\n  const findByTitleAndLocality = () => {\r\n\r\n    if(value===\"title\")\r\n    {\r\n      console.log(\"1\");\r\n      NewsDataService.findByTitle(searchValue)\r\n          .then(response => {\r\n            console.log(\"3\");\r\n            setNews(response.data);\r\n            console.log(response.data);\r\n          })\r\n          .catch(e => {\r\n            console.log(e);\r\n          });\r\n    }\r\n    else{\r\n      console.log(\"2\");\r\n      NewsDataService.findByLocality(searchValue)\r\n          .then(response => {\r\n            console.log(\"4\");\r\n            setNews(response.data);\r\n            console.log(response.data);\r\n          })\r\n          .catch(e => {\r\n            console.log(e);\r\n          });\r\n    }\r\n   \r\n  };\r\n  \r\nconst customTheme = {\r\n  carousel: {\r\n    animation: {\r\n      duration: 400,\r\n    },\r\n    icons: {\r\n      color: 'blue',\r\n    },\r\n    disabled: {\r\n      icons: {\r\n        color: 'grey',\r\n      },\r\n    },\r\n  },\r\n};\r\n    return (\r\n        <Box >\r\n             <Header background=\"dark-1\" pad=\"medium\">\r\n    \r\n      <ResponsiveContext.Consumer>\r\n        {responsive =>\r\n          responsive === 'small' ? (\r\n            <Box fill align=\"start\" justify=\"start\" width=\"3vw\" >\r\n            <Select\r\n              id=\"select\"\r\n              name=\"select\"\r\n              placeholder=\"Select\"\r\n              value={value}\r\n              options={options}\r\n              \r\n              onChange={({ option }) => setValue(option)}\r\n              \r\n              size='small'\r\n            />\r\n            <TextInput onKeyUp={findByTitleAndLocality} onChange={onChangeSearchValue} value={searchValue} icon={<Search />} placeholder=\"search ...\" />\r\n          </Box>\r\n          ) : (\r\n          <Box fill align=\"start\" justify=\"start\" direction='row-responsive'>\r\n        <Select\r\n          id=\"select\"\r\n          name=\"select\"\r\n          placeholder=\"Select\"\r\n          value={value}\r\n          options={options}\r\n          onChange={({ option }) => setValue(option)}\r\n          \r\n          size='small'\r\n        />\r\n        <TextInput onKeyUp={findByTitleAndLocality}  onChange={onChangeSearchValue} value={searchValue}  icon={<Search />} placeholder=\"search ...\" />\r\n      </Box>\r\n          )\r\n        }\r\n      </ResponsiveContext.Consumer>\r\n    </Header>\r\n    <Grommet theme={customTheme}>\r\n    <Box align=\"center\" width='100%'>\r\n      <Carousel >\r\n        {topNews && topNews.map((news,i)=>(\r\n           <Box pad=\"xlarge\" background=\"accent-1\" width='100%'>\r\n          <Image src={`../images/${news && news.Image}`} fill=\"horizontal\" />\r\n           </Box>\r\n        ))}\r\n       \r\n        \r\n      </Carousel>\r\n    </Box>\r\n  </Grommet>\r\n  <Box >\r\n    \r\n    <Box basis='full' border='all' pad='medium'  overflow='auto'>\r\n      <Heading size='medium' textAlign='center'>All News</Heading>\r\n    <Grid columns={size !== 'small' ? 'small' : '100%'} gap=\"small\">\r\n    {news &&\r\n    news.map((n, index) => (\r\n            \r\n            <Card pad=\"large\" key={index} background='light-4'>\r\n              <NavLink to={`/News/${n.id}`} onClick={()=>updateCount(n.id,n.Count)} style={{ textDecoration: 'none' }}><Text color=\"black\" >{n.NewsTitle}</Text></NavLink>\r\n            </Card>\r\n          ))}\r\n        </Grid>\r\n    </Box>\r\n  </Box>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Home\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  {/* {news &&\r\n    news.map((n, index) => (\r\n      <div key={index}>\r\n     \r\n       <td>{n.NewsTitle}</td>\r\n      </div>\r\n    ))} */}"]},"metadata":{},"sourceType":"module"}