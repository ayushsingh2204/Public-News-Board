{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\YMainProject\\\\froentend\\\\src\\\\component\\\\User\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Box, Header, ResponsiveContext, Select, TextInput, Grid, Card, Heading, Text, Carousel, Image } from 'grommet';\nimport { Search } from 'grommet-icons';\nimport NewsDataService from '../../services/NewsService/NewsService';\nimport { Link, NavLink } from 'react-router-dom';\nexport function Home() {\n  _s();\n\n  const options = ['title', 'locality'];\n  const [searchValue, setSearchValue] = useState('');\n  const [value, setValue] = useState('title');\n  const [latest, setLatest] = useState();\n  const [news, setNews] = useState();\n  const [topNews, setTopNews] = useState();\n  const size = useContext(ResponsiveContext);\n  useEffect(() => {\n    retrieveNews();\n    topTen();\n    latestNews();\n  }, []);\n\n  const topTen = () => {\n    NewsDataService.getTopTen().then(response => {\n      setTopNews(response.data);\n    }).catch(err => {\n      if (err) {\n        console.log(err);\n      }\n    });\n  };\n\n  const latestNews = () => {\n    NewsDataService.latestNews().then(response => {\n      setLatest(response.data);\n    }).catch(err => {\n      if (err) {\n        console.log(err);\n      }\n    });\n  };\n\n  const onChangeSearchValue = e => {\n    const searchValue = e.target.value;\n    setSearchValue(searchValue);\n  };\n\n  const retrieveNews = () => {\n    NewsDataService.getAll().then(response => {\n      setNews(response.data);\n    }).catch(err => {\n      if (err) {\n        console.log(err);\n      }\n    });\n  };\n\n  const updateCount = async (id, c) => {\n    var data = {\n      Count: c + 1\n    };\n    await NewsDataService.update(id, data).then(response => {\n      setNews(response.data);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const findByTitleAndLocality = () => {\n    if (value === 'title') {\n      NewsDataService.findByTitle(searchValue).then(response => {\n        console.log('3');\n        setNews(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    } else {\n      NewsDataService.findByLocality(searchValue).then(response => {\n        console.log('4');\n        setNews(response.data);\n        console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      background: \"dark-1\",\n      pad: \"small\",\n      children: /*#__PURE__*/_jsxDEV(ResponsiveContext.Consumer, {\n        children: responsive => responsive === 'small' ? /*#__PURE__*/_jsxDEV(Box, {\n          fill: true,\n          align: \"start\",\n          justify: \"start\",\n          width: \"3vw\",\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            id: \"select\",\n            name: \"select\",\n            placeholder: \"Select\",\n            value: value,\n            options: options,\n            onChange: ({\n              option\n            }) => setValue(option),\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n            onKeyUp: findByTitleAndLocality,\n            onChange: onChangeSearchValue,\n            value: searchValue,\n            icon: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 25\n            }, this),\n            placeholder: \"search ...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Box, {\n          fill: true,\n          align: \"start\",\n          justify: \"start\",\n          direction: \"row-responsive\",\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            id: \"select\",\n            name: \"select\",\n            placeholder: \"Select\",\n            value: value,\n            options: options,\n            onChange: ({\n              option\n            }) => setValue(option),\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n            onKeyUp: findByTitleAndLocality,\n            onChange: onChangeSearchValue,\n            value: searchValue,\n            icon: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 25\n            }, this),\n            placeholder: \"search ...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      align: \"center\",\n      width: \"100%\",\n      children: /*#__PURE__*/_jsxDEV(Carousel, {\n        fill: \"true\",\n        play: \"4000\",\n        children: topNews && topNews.map((news, i) => /*#__PURE__*/_jsxDEV(Box, {\n          width: \"100%\",\n          pad: {\n            left: '3vw',\n            right: '3vw',\n            top: '1vh'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: `../images/${news && news.Image}`,\n            fill: \"horizontal\",\n            style: {\n              maxWidth: '100%',\n              maxHeight: '100%',\n              width: '1800px',\n              height: '450px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/News/${news.id}`,\n            onClick: () => updateCount(news.id, news.Count),\n            style: {\n              textDecoration: 'none',\n              position: 'absolute',\n              zIndex: '1',\n              alignSelf: 'center',\n              bottom: '5px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Heading, {\n              size: \"small\",\n              level: \"3\",\n              color: \"white\",\n              children: news.NewsTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      direction: \"row-responsive\",\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        width: \"medium\",\n        pad: \"medium\",\n        border: \"vertical\",\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          size: \"small\",\n          textAlign: \"center\",\n          children: \"Latest News\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          gap: \"20px\",\n          children: latest && latest.map((n, index) => /*#__PURE__*/_jsxDEV(Card, {\n            direction: \"row\",\n            height: \"10vh\",\n            children: /*#__PURE__*/_jsxDEV(NavLink, {\n              to: `/News/${n.id}`,\n              onClick: () => updateCount(n.id, n.Count),\n              style: {\n                textDecoration: 'none',\n                marginTop: '3vh',\n                marginLeft: '1vw'\n              },\n              children: /*#__PURE__*/_jsxDEV(Text, {\n                color: \"black\",\n                weight: \"bold\",\n                children: n.NewsTitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 19\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        basis: \"full\",\n        pad: \"medium\",\n        width: \"full\",\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          size: \"small\",\n          textAlign: \"center\",\n          children: \"All News\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          gap: \"20px\",\n          children: news && news.map((n, index) => /*#__PURE__*/_jsxDEV(Card, {\n            direction: \"row\",\n            height: \"10vh\",\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              src: `../images/${n && n.Image}`,\n              width: \"30%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n              to: `/News/${n.id}`,\n              onClick: () => updateCount(n.id, n.Count),\n              style: {\n                textDecoration: 'none',\n                marginTop: '3vh',\n                marginLeft: '1vw'\n              },\n              children: /*#__PURE__*/_jsxDEV(Text, {\n                color: \"black\",\n                weight: \"bold\",\n                children: n.NewsTitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"2KiEMr2I5CMKqzR88r+b1wwZf8k=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/YMainProject/froentend/src/component/User/Home.js"],"names":["React","useState","useEffect","useContext","Box","Header","ResponsiveContext","Select","TextInput","Grid","Card","Heading","Text","Carousel","Image","Search","NewsDataService","Link","NavLink","Home","options","searchValue","setSearchValue","value","setValue","latest","setLatest","news","setNews","topNews","setTopNews","size","retrieveNews","topTen","latestNews","getTopTen","then","response","data","catch","err","console","log","onChangeSearchValue","e","target","getAll","updateCount","id","c","Count","update","findByTitleAndLocality","findByTitle","findByLocality","responsive","option","map","i","left","right","top","maxWidth","maxHeight","width","height","textDecoration","position","zIndex","alignSelf","bottom","NewsTitle","n","index","marginTop","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport {\r\n  Box,\r\n  Header,\r\n  ResponsiveContext,\r\n  Select,\r\n  TextInput,\r\n  Grid,\r\n  Card,\r\n  Heading,\r\n  Text,\r\n  Carousel,\r\n  Image,\r\n} from 'grommet'\r\nimport { Search } from 'grommet-icons'\r\nimport NewsDataService from '../../services/NewsService/NewsService'\r\nimport { Link, NavLink } from 'react-router-dom'\r\n\r\nexport function Home() {\r\n  const options = ['title', 'locality']\r\n  const [searchValue, setSearchValue] = useState('')\r\n  const [value, setValue] = useState('title')\r\n  const [latest, setLatest] = useState()\r\n  const [news, setNews] = useState()\r\n  const [topNews, setTopNews] = useState()\r\n  const size = useContext(ResponsiveContext)\r\n  useEffect(() => {\r\n    retrieveNews()\r\n    topTen()\r\n    latestNews()\r\n  }, [])\r\n\r\n  const topTen = () => {\r\n    NewsDataService.getTopTen()\r\n      .then((response) => {\r\n        setTopNews(response.data)\r\n      })\r\n      .catch((err) => {\r\n        if (err) {\r\n          console.log(err)\r\n        }\r\n      })\r\n  }\r\n\r\n  const latestNews = () => {\r\n    NewsDataService.latestNews()\r\n      .then((response) => {\r\n        setLatest(response.data)\r\n      })\r\n      .catch((err) => {\r\n        if (err) {\r\n          console.log(err)\r\n        }\r\n      })\r\n  }\r\n\r\n  const onChangeSearchValue = (e) => {\r\n    const searchValue = e.target.value\r\n    setSearchValue(searchValue)\r\n  }\r\n\r\n \r\n\r\n  const retrieveNews = () => {\r\n    NewsDataService.getAll()\r\n      .then((response) => {\r\n        setNews(response.data)\r\n      })\r\n      .catch((err) => {\r\n        if (err) {\r\n          console.log(err)\r\n        }\r\n      })\r\n  }\r\n\r\n  const updateCount = async (id, c) => {\r\n    var data = {\r\n      Count: c + 1,\r\n    }\r\n    await NewsDataService.update(id, data)\r\n      .then((response) => {\r\n        setNews(response.data)\r\n      })\r\n      .catch((e) => {\r\n        console.log(e)\r\n      })\r\n  }\r\n\r\n  const findByTitleAndLocality = () => {\r\n    if (value === 'title') {\r\n      NewsDataService.findByTitle(searchValue)\r\n        .then((response) => {\r\n          console.log('3')\r\n          setNews(response.data)\r\n        })\r\n        .catch((e) => {\r\n          console.log(e)\r\n        })\r\n    } else {\r\n      NewsDataService.findByLocality(searchValue)\r\n        .then((response) => {\r\n          console.log('4')\r\n          setNews(response.data)\r\n          console.log(response.data)\r\n        })\r\n        .catch((e) => {\r\n          console.log(e)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Header background='dark-1' pad='small'>\r\n        <ResponsiveContext.Consumer>\r\n          {(responsive) =>\r\n            responsive === 'small' ? (\r\n              <Box fill align='start' justify='start' width='3vw'>\r\n                <Select\r\n                  id='select'\r\n                  name='select'\r\n                  placeholder='Select'\r\n                  value={value}\r\n                  options={options}\r\n                  onChange={({ option }) => setValue(option)}\r\n                  size='small'\r\n                />\r\n                <TextInput\r\n                  onKeyUp={findByTitleAndLocality}\r\n                  onChange={onChangeSearchValue}\r\n                  value={searchValue}\r\n                  icon={<Search />}\r\n                  placeholder='search ...'\r\n                />\r\n              </Box>\r\n            ) : (\r\n              <Box\r\n                fill\r\n                align='start'\r\n                justify='start'\r\n                direction='row-responsive'\r\n              >\r\n                <Select\r\n                  id='select'\r\n                  name='select'\r\n                  placeholder='Select'\r\n                  value={value}\r\n                  options={options}\r\n                  onChange={({ option }) => setValue(option)}\r\n                  size='small'\r\n                />\r\n                <TextInput\r\n                  onKeyUp={findByTitleAndLocality}\r\n                  onChange={onChangeSearchValue}\r\n                  value={searchValue}\r\n                  icon={<Search />}\r\n                  placeholder='search ...'\r\n                />\r\n              </Box>\r\n            )\r\n          }\r\n        </ResponsiveContext.Consumer>\r\n      </Header>\r\n\r\n      <Box align='center' width='100%'>\r\n        <Carousel fill='true' play='4000'>\r\n          {topNews &&\r\n            topNews.map((news, i) => (\r\n              <Box width='100%' pad={{ left: '3vw', right: '3vw', top: '1vh' }}>\r\n                <Image\r\n                  src={`../images/${news && news.Image}`}\r\n                  fill='horizontal'\r\n                  style={{\r\n                    maxWidth: '100%',\r\n                    maxHeight: '100%',\r\n                    width: '1800px',\r\n                    height: '450px',\r\n                  }}\r\n                ></Image>\r\n                <Link\r\n                  to={`/News/${news.id}`}\r\n                  onClick={() => updateCount(news.id, news.Count)}\r\n                  style={{\r\n                    textDecoration: 'none',\r\n                    position: 'absolute',\r\n                    zIndex: '1',\r\n                    alignSelf: 'center',\r\n                    bottom: '5px',\r\n                  }}\r\n                >\r\n                  <Heading size='small' level='3' color='white'>\r\n                    {news.NewsTitle}\r\n                  </Heading>\r\n                </Link>\r\n              </Box>\r\n            ))}\r\n        </Carousel>\r\n      </Box>\r\n\r\n      <Box direction='row-responsive'>\r\n        <Box width='medium' pad='medium' border='vertical'>\r\n          <Heading size='small' textAlign='center'>\r\n            Latest News\r\n          </Heading>\r\n          <Grid gap='20px'>\r\n            {latest &&\r\n              latest.map((n, index) => (\r\n                <Card key={index} direction='row' height='10vh'>\r\n                  <NavLink\r\n                    to={`/News/${n.id}`}\r\n                    onClick={() => updateCount(n.id, n.Count)}\r\n                    style={{\r\n                      textDecoration: 'none',\r\n                      marginTop: '3vh',\r\n                      marginLeft: '1vw',\r\n                    }}\r\n                  >\r\n                    <Text color='black' weight='bold'>\r\n                      {n.NewsTitle}\r\n                    </Text>\r\n                  </NavLink>\r\n                </Card>\r\n              ))}\r\n          </Grid>\r\n        </Box>\r\n        <Box basis='full' pad='medium' width='full'>\r\n          <Heading size='small' textAlign='center'>\r\n            All News\r\n          </Heading>\r\n          <Grid gap='20px'>\r\n            {news &&\r\n              news.map((n, index) => (\r\n                <Card key={index} direction='row' height='10vh'>\r\n                  <Image src={`../images/${n && n.Image}`} width='30%'></Image>\r\n\r\n                  <NavLink\r\n                    to={`/News/${n.id}`}\r\n                    onClick={() => updateCount(n.id, n.Count)}\r\n                    style={{\r\n                      textDecoration: 'none',\r\n                      marginTop: '3vh',\r\n                      marginLeft: '1vw',\r\n                    }}\r\n                  >\r\n                    <Text color='black' weight='bold'>\r\n                      {n.NewsTitle}\r\n                    </Text>\r\n                  </NavLink>\r\n                </Card>\r\n              ))}\r\n          </Grid>\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default Home\r\n"]},"metadata":{},"sourceType":"module"}