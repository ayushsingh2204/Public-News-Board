{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport { transformMaskedValue } from './utils';\nexport const maskedNumberValue = ({\n  value,\n  prefix,\n  suffix,\n  thousandsSeparatorSymbol\n}) => {\n  let val;\n\n  if (typeof value === 'string') {\n    val = value.replace(new RegExp(`[${prefix}${suffix}${thousandsSeparatorSymbol}]`, 'g'), '');\n    val = parseFloat(val);\n\n    if (Number.isNaN(val)) {\n      val = undefined;\n    }\n  } else {\n    val = value;\n  }\n\n  return val;\n};\nexport const createMinMaxInputPipe = _a => {\n  var {\n    min,\n    max,\n    mask\n  } = _a,\n      props = __rest(_a, [\"min\", \"max\", \"mask\"]);\n\n  return conformedValue => {\n    if (typeof min === 'number' || typeof max === 'number') {\n      const value = maskedNumberValue(Object.assign(Object.assign({}, props), {\n        value: conformedValue\n      }));\n\n      if (typeof value === 'number') {\n        if (typeof min === 'number' && value < min) {\n          const resolved = transformMaskedValue(min, mask, props);\n\n          if (resolved === undefined) {\n            return undefined;\n          }\n\n          return {\n            value: resolved\n          };\n        }\n\n        if (typeof max === 'number' && value > max) {\n          const resolved = transformMaskedValue(max, mask, props);\n\n          if (resolved === undefined) {\n            return undefined;\n          }\n\n          return {\n            value: resolved\n          };\n        }\n      }\n    }\n\n    return {\n      value: conformedValue.toString()\n    };\n  };\n};","map":{"version":3,"sources":["../../../src/components/MaskedInput/minMaxNumberPipe.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,SAAS,oBAAT,QAAqC,SAArC;AAGA,OAAO,MAAM,iBAAiB,GAAG,CAAC;AAChC,EAAA,KADgC;AAEhC,EAAA,MAFgC;AAGhC,EAAA,MAHgC;AAIhC,EAAA;AAJgC,CAAD,KAKD;AAC9B,MAAI,GAAJ;;AACA,MAAI,OAAO,KAAP,KAAiB,QAArB,EAA+B;AAC7B,IAAA,GAAG,GAAG,KAAK,CAAC,OAAN,CACJ,IAAI,MAAJ,CAAW,IAAI,MAAM,GAAG,MAAM,GAAG,wBAAwB,GAAzD,EAA8D,GAA9D,CADI,EAEJ,EAFI,CAAN;AAIA,IAAA,GAAG,GAAG,UAAU,CAAC,GAAD,CAAhB;;AACA,QAAI,MAAM,CAAC,KAAP,CAAa,GAAb,CAAJ,EAAuB;AACrB,MAAA,GAAG,GAAG,SAAN;AACD;AACF,GATD,MASO;AACL,IAAA,GAAG,GAAG,KAAN;AACD;;AACD,SAAO,GAAP;AACD,CApBM;AAsBP,OAAO,MAAM,qBAAqB,GAAI,EAAD,IAKA;MALC;AACpC,IAAA,GADoC;AAEpC,IAAA,GAFoC;AAGpC,IAAA;AAHoC,MAGhC,E;MACD,KAAK,GAAA,MAAA,CAAA,EAAA,EAJ4B,CAAA,KAAA,EAAA,KAAA,EAAA,MAAA,CAI5B,C;;AAC4B,SACpC,cADoC,IAErB;AACf,QAAI,OAAO,GAAP,KAAe,QAAf,IAA2B,OAAO,GAAP,KAAe,QAA9C,EAAwD;AACtD,YAAM,KAAK,GAAG,iBAAiB,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA,EAAM,KAAN,CAAA,EAAW;AAAE,QAAA,KAAK,EAAE;AAAT,OAAX,CAAA,CAA/B;;AACA,UAAI,OAAO,KAAP,KAAiB,QAArB,EAA+B;AAC7B,YAAI,OAAO,GAAP,KAAe,QAAf,IAA2B,KAAK,GAAG,GAAvC,EAA4C;AAC1C,gBAAM,QAAQ,GAAG,oBAAoB,CAAC,GAAD,EAAM,IAAN,EAAY,KAAZ,CAArC;;AACA,cAAI,QAAQ,KAAK,SAAjB,EAA4B;AAC1B,mBAAO,SAAP;AACD;;AACD,iBAAO;AAAE,YAAA,KAAK,EAAE;AAAT,WAAP;AACD;;AACD,YAAI,OAAO,GAAP,KAAe,QAAf,IAA2B,KAAK,GAAG,GAAvC,EAA4C;AAC1C,gBAAM,QAAQ,GAAG,oBAAoB,CAAC,GAAD,EAAM,IAAN,EAAY,KAAZ,CAArC;;AACA,cAAI,QAAQ,KAAK,SAAjB,EAA4B;AAC1B,mBAAO,SAAP;AACD;;AACD,iBAAO;AAAE,YAAA,KAAK,EAAE;AAAT,WAAP;AACD;AACF;AACF;;AACD,WAAO;AAAE,MAAA,KAAK,EAAE,cAAc,CAAC,QAAf;AAAT,KAAP;AACD,GAvBqC;AAuBrC,CA5BM","sourceRoot":"","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { transformMaskedValue } from './utils';\nexport const maskedNumberValue = ({ value, prefix, suffix, thousandsSeparatorSymbol, }) => {\n    let val;\n    if (typeof value === 'string') {\n        val = value.replace(new RegExp(`[${prefix}${suffix}${thousandsSeparatorSymbol}]`, 'g'), '');\n        val = parseFloat(val);\n        if (Number.isNaN(val)) {\n            val = undefined;\n        }\n    }\n    else {\n        val = value;\n    }\n    return val;\n};\nexport const createMinMaxInputPipe = (_a) => {\n    var { min, max, mask } = _a, props = __rest(_a, [\"min\", \"max\", \"mask\"]);\n    return (conformedValue) => {\n        if (typeof min === 'number' || typeof max === 'number') {\n            const value = maskedNumberValue(Object.assign(Object.assign({}, props), { value: conformedValue }));\n            if (typeof value === 'number') {\n                if (typeof min === 'number' && value < min) {\n                    const resolved = transformMaskedValue(min, mask, props);\n                    if (resolved === undefined) {\n                        return undefined;\n                    }\n                    return { value: resolved };\n                }\n                if (typeof max === 'number' && value > max) {\n                    const resolved = transformMaskedValue(max, mask, props);\n                    if (resolved === undefined) {\n                        return undefined;\n                    }\n                    return { value: resolved };\n                }\n            }\n        }\n        return { value: conformedValue.toString() };\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWluTWF4TnVtYmVyUGlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL01hc2tlZElucHV0L21pbk1heE51bWJlclBpcGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFHL0MsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxFQUNoQyxLQUFLLEVBQ0wsTUFBTSxFQUNOLE1BQU0sRUFDTix3QkFBd0IsR0FDTixFQUFVLEVBQUU7SUFDOUIsSUFBSSxHQUFHLENBQUM7SUFDUixJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtRQUM3QixHQUFHLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FDakIsSUFBSSxNQUFNLENBQUMsSUFBSSxNQUFNLEdBQUcsTUFBTSxHQUFHLHdCQUF3QixHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQ2xFLEVBQUUsQ0FDSCxDQUFDO1FBQ0YsR0FBRyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN0QixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDckIsR0FBRyxHQUFHLFNBQVMsQ0FBQztTQUNqQjtLQUNGO1NBQU07UUFDTCxHQUFHLEdBQUcsS0FBSyxDQUFDO0tBQ2I7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUFHLENBQUMsRUFLTCxFQUFFLEVBQUU7UUFMQyxFQUNwQyxHQUFHLEVBQ0gsR0FBRyxFQUNILElBQUksT0FFMkIsRUFENUIsS0FBSyxjQUo0QixzQkFLckMsQ0FEUztJQUM0QixPQUFBLENBQ3BDLGNBQStCLEVBQ2xCLEVBQUU7UUFDZixJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7WUFDdEQsTUFBTSxLQUFLLEdBQUcsaUJBQWlCLGlDQUFNLEtBQUssS0FBRSxLQUFLLEVBQUUsY0FBYyxJQUFHLENBQUM7WUFDckUsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7Z0JBQzdCLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxJQUFJLEtBQUssR0FBRyxHQUFHLEVBQUU7b0JBQzFDLE1BQU0sUUFBUSxHQUFHLG9CQUFvQixDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7b0JBQ3hELElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTt3QkFDMUIsT0FBTyxTQUFTLENBQUM7cUJBQ2xCO29CQUNELE9BQU8sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLENBQUM7aUJBQzVCO2dCQUNELElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxJQUFJLEtBQUssR0FBRyxHQUFHLEVBQUU7b0JBQzFDLE1BQU0sUUFBUSxHQUFHLG9CQUFvQixDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7b0JBQ3hELElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTt3QkFDMUIsT0FBTyxTQUFTLENBQUM7cUJBQ2xCO29CQUNELE9BQU8sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLENBQUM7aUJBQzVCO2FBQ0Y7U0FDRjtRQUNELE9BQU8sRUFBRSxLQUFLLEVBQUUsY0FBYyxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUM7SUFDOUMsQ0FBQyxDQUFBO0NBQUEsQ0FBQyJ9"]},"metadata":{},"sourceType":"module"}