{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\ReactGormmet\\\\reactgormmet\\\\src\\\\component\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Box, Header, Anchor, Nav, ResponsiveContext, Menu, Select, TextInput, Grid, Card, Heading, List, Text, Grommet, Carousel, Image } from 'grommet';\nimport { Search, Attraction, TreeOption, Car } from 'grommet-icons';\nimport NewsDataService from './../services/NewsService/NewsService';\nimport { Link, NavLink } from 'react-router-dom';\n\nfunction Home() {\n  _s();\n\n  const options = ['title', 'locality'];\n  const [searchValue, setSearchValue] = useState('');\n  const [value, setValue] = useState('title');\n  const [news, setNews] = useState();\n  const [count, setCount] = useState();\n  const [topNews, setTopNews] = useState();\n  const size = useContext(ResponsiveContext);\n  useEffect(() => {\n    retrieveNews();\n    topTen();\n  }, []);\n\n  const topTen = () => {\n    NewsDataService.getTopTen().then(response => {\n      setTopNews(response.data);\n    }).catch(err => {\n      if (err) {\n        console.log(err);\n      }\n    });\n  };\n\n  const onChangeSearchValue = e => {\n    const searchValue = e.target.value;\n    setSearchValue(searchValue);\n  };\n\n  console.log(value);\n  console.log(searchValue);\n\n  const retrieveNews = () => {\n    NewsDataService.getAll().then(response => {\n      setNews(response.data);\n    }).catch(err => {\n      if (err) {\n        console.log(err);\n      }\n    });\n  };\n\n  const updateCount = async (id, c) => {\n    var data = {\n      Count: c + 1\n    };\n    await NewsDataService.update(id, data).then(response => {\n      setNews(response.data);\n      console.log(response.data.Count);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const findByTitleAndLocality = () => {\n    if (value === 'title') {\n      NewsDataService.findByTitle(searchValue).then(response => {\n        console.log('3');\n        setNews(response.data);\n        console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    } else {\n      NewsDataService.findByLocality(searchValue).then(response => {\n        console.log('4');\n        setNews(response.data);\n        console.log(response.data);\n      }).catch(e => {\n        console.log(e);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      background: \"dark-1\",\n      pad: \"medium\",\n      children: /*#__PURE__*/_jsxDEV(ResponsiveContext.Consumer, {\n        children: responsive => responsive === 'small' ? /*#__PURE__*/_jsxDEV(Box, {\n          fill: true,\n          align: \"start\",\n          justify: \"start\",\n          width: \"3vw\",\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            id: \"select\",\n            name: \"select\",\n            placeholder: \"Select\",\n            value: value,\n            options: options,\n            onChange: ({\n              option\n            }) => setValue(option),\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n            onKeyUp: findByTitleAndLocality,\n            onChange: onChangeSearchValue,\n            value: searchValue,\n            icon: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 25\n            }, this),\n            placeholder: \"search ...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Box, {\n          fill: true,\n          align: \"start\",\n          justify: \"start\",\n          direction: \"row-responsive\",\n          children: [/*#__PURE__*/_jsxDEV(Select, {\n            id: \"select\",\n            name: \"select\",\n            placeholder: \"Select\",\n            value: value,\n            options: options,\n            onChange: ({\n              option\n            }) => setValue(option),\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n            onKeyUp: findByTitleAndLocality,\n            onChange: onChangeSearchValue,\n            value: searchValue,\n            icon: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 25\n            }, this),\n            placeholder: \"search ...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      align: \"center\",\n      width: \"100%\",\n      children: /*#__PURE__*/_jsxDEV(Carousel, {\n        fill: \"true\",\n        play: \"4000\",\n        children: topNews && topNews.map((news, i) => /*#__PURE__*/_jsxDEV(Box, {\n          width: \"100%\",\n          children: [/*#__PURE__*/_jsxDEV(Image, {\n            src: `../images/${news && news.Image}`,\n            fill: \"horizontal\",\n            width: \"100%\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `/News/${news.id}`,\n            onClick: () => updateCount(news.id, news.Count),\n            style: {\n              'textDecoration': 'none',\n              position: 'absolute',\n              'zIndex': '1',\n              'alignSelf': 'center',\n              'bottom': '30px'\n            },\n            children: /*#__PURE__*/_jsxDEV(Heading, {\n              color: \"status-critical\",\n              children: news.NewsTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      direction: \"row-responsive\",\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        width: \"medium\",\n        pad: \"medium\",\n        children: /*#__PURE__*/_jsxDEV(Heading, {\n          size: \"medium\",\n          textAlign: \"center\",\n          children: \"News\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        basis: \"full\",\n        border: \"all\",\n        pad: \"medium\",\n        width: \"full\",\n        children: [/*#__PURE__*/_jsxDEV(Heading, {\n          size: \"medium\",\n          textAlign: \"center\",\n          children: \"All News\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          gap: \"20px\",\n          children: news && news.map((n, index) => /*#__PURE__*/_jsxDEV(Card, {\n            background: \"light-4\",\n            direction: \"row\",\n            height: \"10vh\",\n            children: [/*#__PURE__*/_jsxDEV(Image, {\n              src: `../images/${n && n.Image}`,\n              width: \"30%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 20\n            }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n              to: `/News/${n.id}`,\n              onClick: () => updateCount(n.id, n.Count),\n              style: {\n                textDecoration: 'none'\n              },\n              children: /*#__PURE__*/_jsxDEV(Text, {\n                color: \"black\",\n                children: n.NewsTitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"enxslxBJQFeavVu7wppy1jZebBQ=\");\n\n_c = Home;\nexport default Home;\n{\n  /* {news &&\r\n    news.map((n, index) => (\r\n      <div key={index}>\r\n     \r\n       <td>{n.NewsTitle}</td>\r\n      </div>\r\n    ))} */\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/ReactGormmet/reactgormmet/src/component/Home.js"],"names":["React","useState","useEffect","useContext","Box","Header","Anchor","Nav","ResponsiveContext","Menu","Select","TextInput","Grid","Card","Heading","List","Text","Grommet","Carousel","Image","Search","Attraction","TreeOption","Car","NewsDataService","Link","NavLink","Home","options","searchValue","setSearchValue","value","setValue","news","setNews","count","setCount","topNews","setTopNews","size","retrieveNews","topTen","getTopTen","then","response","data","catch","err","console","log","onChangeSearchValue","e","target","getAll","updateCount","id","c","Count","update","findByTitleAndLocality","findByTitle","findByLocality","responsive","option","map","i","position","NewsTitle","n","index","textDecoration"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react'\r\nimport {\r\n  Box,\r\n  Header,\r\n  Anchor,\r\n  Nav,\r\n  ResponsiveContext,\r\n  Menu,\r\n  Select,\r\n  TextInput,\r\n  Grid,\r\n  Card,\r\n  Heading,\r\n  List,\r\n  Text,\r\n  Grommet,\r\n  Carousel,\r\n  Image,\r\n} from 'grommet'\r\nimport { Search, Attraction, TreeOption, Car } from 'grommet-icons'\r\nimport NewsDataService from './../services/NewsService/NewsService'\r\nimport { Link, NavLink } from 'react-router-dom'\r\n\r\nfunction Home() {\r\n  const options = ['title', 'locality']\r\n  const [searchValue, setSearchValue] = useState('')\r\n  const [value, setValue] = useState('title')\r\n  const [news, setNews] = useState()\r\n  const [count, setCount] = useState()\r\n  const [topNews, setTopNews] = useState()\r\n  const size = useContext(ResponsiveContext)\r\n  useEffect(() => {\r\n    retrieveNews()\r\n    topTen()\r\n  }, [])\r\n\r\n  const topTen = () => {\r\n    NewsDataService.getTopTen()\r\n      .then((response) => {\r\n        setTopNews(response.data)\r\n      })\r\n      .catch((err) => {\r\n        if (err) {\r\n          console.log(err)\r\n        }\r\n      })\r\n  }\r\n\r\n  const onChangeSearchValue = (e) => {\r\n    const searchValue = e.target.value\r\n    setSearchValue(searchValue)\r\n  }\r\n\r\n  console.log(value)\r\n  console.log(searchValue)\r\n\r\n  const retrieveNews = () => {\r\n    NewsDataService.getAll()\r\n      .then((response) => {\r\n        setNews(response.data)\r\n      })\r\n      .catch((err) => {\r\n        if (err) {\r\n          console.log(err)\r\n        }\r\n      })\r\n  }\r\n\r\n  const updateCount = async (id, c) => {\r\n    var data = {\r\n      Count: c + 1,\r\n    }\r\n    await NewsDataService.update(id, data)\r\n      .then((response) => {\r\n        setNews(response.data)\r\n        console.log(response.data.Count)\r\n      })\r\n      .catch((e) => {\r\n        console.log(e)\r\n      })\r\n  }\r\n\r\n  const findByTitleAndLocality = () => {\r\n    if (value === 'title') {\r\n      NewsDataService.findByTitle(searchValue)\r\n        .then((response) => {\r\n          console.log('3')\r\n          setNews(response.data)\r\n          console.log(response.data)\r\n        })\r\n        .catch((e) => {\r\n          console.log(e)\r\n        })\r\n    } else {\r\n      NewsDataService.findByLocality(searchValue)\r\n        .then((response) => {\r\n          console.log('4')\r\n          setNews(response.data)\r\n          console.log(response.data)\r\n        })\r\n        .catch((e) => {\r\n          console.log(e)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Box>\r\n      <Header background='dark-1' pad='medium'>\r\n        <ResponsiveContext.Consumer>\r\n          {(responsive) =>\r\n            responsive === 'small' ? (\r\n              <Box fill align='start' justify='start' width='3vw'>\r\n                <Select\r\n                  id='select'\r\n                  name='select'\r\n                  placeholder='Select'\r\n                  value={value}\r\n                  options={options}\r\n                  onChange={({ option }) => setValue(option)}\r\n                  size='small'\r\n                />\r\n                <TextInput\r\n                  onKeyUp={findByTitleAndLocality}\r\n                  onChange={onChangeSearchValue}\r\n                  value={searchValue}\r\n                  icon={<Search />}\r\n                  placeholder='search ...'\r\n                />\r\n              </Box>\r\n            ) : (\r\n              <Box\r\n                fill\r\n                align='start'\r\n                justify='start'\r\n                direction='row-responsive'\r\n              >\r\n                <Select\r\n                  id='select'\r\n                  name='select'\r\n                  placeholder='Select'\r\n                  value={value}\r\n                  options={options}\r\n                  onChange={({ option }) => setValue(option)}\r\n                  size='small'\r\n                />\r\n                <TextInput\r\n                  onKeyUp={findByTitleAndLocality}\r\n                  onChange={onChangeSearchValue}\r\n                  value={searchValue}\r\n                  icon={<Search />}\r\n                  placeholder='search ...'\r\n                />\r\n              </Box>\r\n            )\r\n          }\r\n        </ResponsiveContext.Consumer>\r\n      </Header>\r\n\r\n      <Box align='center' width='100%'>\r\n        <Carousel fill='true' play='4000'>\r\n          {topNews &&\r\n            topNews.map((news, i) => (\r\n              <Box width='100%'>\r\n                <Image\r\n                  src={`../images/${news && news.Image}`}\r\n                  fill='horizontal'\r\n                  width='100%'\r\n                ></Image>\r\n                <Link\r\n                  to={`/News/${news.id}`}\r\n                  onClick={() => updateCount(news.id, news.Count)}\r\n                  style={{ 'textDecoration':'none' ,position: 'absolute','zIndex':'1','alignSelf':'center','bottom':'30px' }}\r\n                >\r\n                  <Heading color='status-critical'>{news.NewsTitle}</Heading>\r\n                </Link>\r\n              </Box>\r\n            ))}\r\n        </Carousel>\r\n      </Box>\r\n\r\n      <Box direction='row-responsive'>\r\n      <Box width='medium' pad='medium'>\r\n      <Heading size='medium' textAlign='center'>\r\n             News\r\n          </Heading>\r\n        </Box>\r\n        <Box basis='full' border='all' pad='medium' width='full' >\r\n          <Heading size='medium' textAlign='center'>\r\n            All News\r\n          </Heading>\r\n          <Grid gap='20px'>\r\n            {news &&\r\n              news.map((n, index) => (\r\n                <Card  key={index} background='light-4' direction='row' height='10vh' >\r\n                   <Image\r\n                  src={`../images/${n && n.Image}`}\r\n                  \r\n                  width='30%'\r\n                ></Image>\r\n                  <NavLink\r\n                    to={`/News/${n.id}`}\r\n                    onClick={() => updateCount(n.id, n.Count)}\r\n                    style={{ textDecoration: 'none' }}\r\n                  >\r\n                    <Text color='black'>{n.NewsTitle}</Text>\r\n                  </NavLink>\r\n                </Card>\r\n              ))}\r\n          </Grid>\r\n        </Box>\r\n        \r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport default Home\r\n\r\n{\r\n  /* {news &&\r\n    news.map((n, index) => (\r\n      <div key={index}>\r\n     \r\n       <td>{n.NewsTitle}</td>\r\n      </div>\r\n    ))} */\r\n}\r\n"]},"metadata":{},"sourceType":"module"}